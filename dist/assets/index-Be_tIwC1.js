function R4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function g_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function k4(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var y_={exports:{}},pd={},x_={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cl=Symbol.for("react.element"),N4=Symbol.for("react.portal"),D4=Symbol.for("react.fragment"),P4=Symbol.for("react.strict_mode"),F4=Symbol.for("react.profiler"),B4=Symbol.for("react.provider"),j4=Symbol.for("react.context"),O4=Symbol.for("react.forward_ref"),L4=Symbol.for("react.suspense"),V4=Symbol.for("react.memo"),M4=Symbol.for("react.lazy"),Sy=Symbol.iterator;function U4(t){return t===null||typeof t!="object"?null:(t=Sy&&t[Sy]||t["@@iterator"],typeof t=="function"?t:null)}var v_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},__=Object.assign,E_={};function Ro(t,e,n){this.props=t,this.context=e,this.refs=E_,this.updater=n||v_}Ro.prototype.isReactComponent={};Ro.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ro.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function w_(){}w_.prototype=Ro.prototype;function Tp(t,e,n){this.props=t,this.context=e,this.refs=E_,this.updater=n||v_}var Sp=Tp.prototype=new w_;Sp.constructor=Tp;__(Sp,Ro.prototype);Sp.isPureReactComponent=!0;var Iy=Array.isArray,A_=Object.prototype.hasOwnProperty,Ip={current:null},C_={key:!0,ref:!0,__self:!0,__source:!0};function T_(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)A_.call(e,r)&&!C_.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Cl,type:t,key:i,ref:o,props:s,_owner:Ip.current}}function z4(t,e){return{$$typeof:Cl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cl}function q4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var by=/\/+/g;function Ah(t,e){return typeof t=="object"&&t!==null&&t.key!=null?q4(""+t.key):e.toString(36)}function Mc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Cl:case N4:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ah(o,0):r,Iy(s)?(n="",t!=null&&(n=t.replace(by,"$&/")+"/"),Mc(s,e,n,"",function(c){return c})):s!=null&&(bp(s)&&(s=z4(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(by,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Iy(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Ah(i,a);o+=Mc(i,e,n,l,s)}else if(l=U4(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Ah(i,a++),o+=Mc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function mc(t,e,n){if(t==null)return t;var r=[],s=0;return Mc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function $4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var en={current:null},Uc={transition:null},H4={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:Uc,ReactCurrentOwner:Ip};function S_(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:mc,forEach:function(t,e,n){mc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return mc(t,function(){e++}),e},toArray:function(t){return mc(t,function(e){return e})||[]},only:function(t){if(!bp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=Ro;Ie.Fragment=D4;Ie.Profiler=F4;Ie.PureComponent=Tp;Ie.StrictMode=P4;Ie.Suspense=L4;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H4;Ie.act=S_;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=__({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ip.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)A_.call(e,l)&&!C_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Cl,type:t.type,key:s,ref:i,props:r,_owner:o}};Ie.createContext=function(t){return t={$$typeof:j4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:B4,_context:t},t.Consumer=t};Ie.createElement=T_;Ie.createFactory=function(t){var e=T_.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:O4,render:t}};Ie.isValidElement=bp;Ie.lazy=function(t){return{$$typeof:M4,_payload:{_status:-1,_result:t},_init:$4}};Ie.memo=function(t,e){return{$$typeof:V4,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=Uc.transition;Uc.transition={};try{t()}finally{Uc.transition=e}};Ie.unstable_act=S_;Ie.useCallback=function(t,e){return en.current.useCallback(t,e)};Ie.useContext=function(t){return en.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return en.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return en.current.useEffect(t,e)};Ie.useId=function(){return en.current.useId()};Ie.useImperativeHandle=function(t,e,n){return en.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return en.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return en.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return en.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return en.current.useReducer(t,e,n)};Ie.useRef=function(t){return en.current.useRef(t)};Ie.useState=function(t){return en.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return en.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return en.current.useTransition()};Ie.version="18.3.1";x_.exports=Ie;var L=x_.exports;const oe=g_(L),W4=R4({__proto__:null,default:oe},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K4=L,G4=Symbol.for("react.element"),Q4=Symbol.for("react.fragment"),Y4=Object.prototype.hasOwnProperty,X4=K4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J4={key:!0,ref:!0,__self:!0,__source:!0};function I_(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Y4.call(e,r)&&!J4.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:G4,type:t,key:i,ref:o,props:s,_owner:X4.current}}pd.Fragment=Q4;pd.jsx=I_;pd.jsxs=I_;y_.exports=pd;var f=y_.exports,b_={exports:{}},In={},R_={exports:{}},k_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,Z){var te=W.length;W.push(Z);e:for(;0<te;){var V=te-1>>>1,M=W[V];if(0<s(M,Z))W[V]=Z,W[te]=M,te=V;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Z=W[0],te=W.pop();if(te!==Z){W[0]=te;e:for(var V=0,M=W.length,$=M>>>1;V<$;){var H=2*(V+1)-1,xe=W[H],me=H+1,Pe=W[me];if(0>s(xe,te))me<M&&0>s(Pe,xe)?(W[V]=Pe,W[me]=te,V=me):(W[V]=xe,W[H]=te,V=H);else if(me<M&&0>s(Pe,te))W[V]=Pe,W[me]=te,V=me;else break e}}return Z}function s(W,Z){var te=W.sortIndex-Z.sortIndex;return te!==0?te:W.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,v=!1,x=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(W){for(var Z=n(c);Z!==null;){if(Z.callback===null)r(c);else if(Z.startTime<=W)r(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(c)}}function A(W){if(w=!1,y(W),!x)if(n(l)!==null)x=!0,re(P);else{var Z=n(c);Z!==null&&le(A,Z.startTime-W)}}function P(W,Z){x=!1,w&&(w=!1,_(T),T=-1),v=!0;var te=p;try{for(y(Z),h=n(l);h!==null&&(!(h.expirationTime>Z)||W&&!k());){var V=h.callback;if(typeof V=="function"){h.callback=null,p=h.priorityLevel;var M=V(h.expirationTime<=Z);Z=t.unstable_now(),typeof M=="function"?h.callback=M:h===n(l)&&r(l),y(Z)}else r(l);h=n(l)}if(h!==null)var $=!0;else{var H=n(c);H!==null&&le(A,H.startTime-Z),$=!1}return $}finally{h=null,p=te,v=!1}}var F=!1,I=null,T=-1,R=5,S=-1;function k(){return!(t.unstable_now()-S<R)}function N(){if(I!==null){var W=t.unstable_now();S=W;var Z=!0;try{Z=I(!0,W)}finally{Z?b():(F=!1,I=null)}}else F=!1}var b;if(typeof m=="function")b=function(){m(N)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ee=G.port2;G.port1.onmessage=N,b=function(){ee.postMessage(null)}}else b=function(){E(N,0)};function re(W){I=W,F||(F=!0,b())}function le(W,Z){T=E(function(){W(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,re(P))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var te=p;p=Z;try{return W()}finally{p=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,Z){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var te=p;p=W;try{return Z()}finally{p=te}},t.unstable_scheduleCallback=function(W,Z,te){var V=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?V+te:V):te=V,W){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=te+M,W={id:d++,callback:Z,priorityLevel:W,startTime:te,expirationTime:M,sortIndex:-1},te>V?(W.sortIndex=te,e(c,W),n(l)===null&&W===n(c)&&(w?(_(T),T=-1):w=!0,le(A,te-V))):(W.sortIndex=M,e(l,W),x||v||(x=!0,re(P))),W},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(W){var Z=p;return function(){var te=p;p=Z;try{return W.apply(this,arguments)}finally{p=te}}}})(k_);R_.exports=k_;var Z4=R_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eT=L,Sn=Z4;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var N_=new Set,Ha={};function wi(t,e){po(t,e),po(t+"Capture",e)}function po(t,e){for(Ha[t]=e,t=0;t<e.length;t++)N_.add(e[t])}var Pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Q0=Object.prototype.hasOwnProperty,tT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ry={},ky={};function nT(t){return Q0.call(ky,t)?!0:Q0.call(Ry,t)?!1:tT.test(t)?ky[t]=!0:(Ry[t]=!0,!1)}function rT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sT(t,e,n,r){if(e===null||typeof e>"u"||rT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ft[t]=new tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ft[e]=new tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ft[t]=new tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ft[t]=new tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ft[t]=new tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ft[t]=new tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ft[t]=new tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ft[t]=new tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ft[t]=new tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rp=/[\-:]([a-z])/g;function kp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rp,kp);Ft[e]=new tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rp,kp);Ft[e]=new tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rp,kp);Ft[e]=new tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ft[t]=new tn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ft[t]=new tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Np(t,e,n,r){var s=Ft.hasOwnProperty(e)?Ft[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sT(e,n,s,r)&&(n=null),r||s===null?nT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ur=eT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gc=Symbol.for("react.element"),Ui=Symbol.for("react.portal"),zi=Symbol.for("react.fragment"),Dp=Symbol.for("react.strict_mode"),Y0=Symbol.for("react.profiler"),D_=Symbol.for("react.provider"),P_=Symbol.for("react.context"),Pp=Symbol.for("react.forward_ref"),X0=Symbol.for("react.suspense"),J0=Symbol.for("react.suspense_list"),Fp=Symbol.for("react.memo"),Yr=Symbol.for("react.lazy"),F_=Symbol.for("react.offscreen"),Ny=Symbol.iterator;function ia(t){return t===null||typeof t!="object"?null:(t=Ny&&t[Ny]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,Ch;function ya(t){if(Ch===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ch=e&&e[1]||""}return`
`+Ch+t}var Th=!1;function Sh(t,e){if(!t||Th)return"";Th=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Th=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ya(t):""}function iT(t){switch(t.tag){case 5:return ya(t.type);case 16:return ya("Lazy");case 13:return ya("Suspense");case 19:return ya("SuspenseList");case 0:case 2:case 15:return t=Sh(t.type,!1),t;case 11:return t=Sh(t.type.render,!1),t;case 1:return t=Sh(t.type,!0),t;default:return""}}function Z0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zi:return"Fragment";case Ui:return"Portal";case Y0:return"Profiler";case Dp:return"StrictMode";case X0:return"Suspense";case J0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case P_:return(t.displayName||"Context")+".Consumer";case D_:return(t._context.displayName||"Context")+".Provider";case Pp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fp:return e=t.displayName||null,e!==null?e:Z0(t.type)||"Memo";case Yr:e=t._payload,t=t._init;try{return Z0(t(e))}catch{}}return null}function oT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z0(e);case 8:return e===Dp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function B_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aT(t){var e=B_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yc(t){t._valueTracker||(t._valueTracker=aT(t))}function j_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=B_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function du(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ef(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Dy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Cs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function O_(t,e){e=e.checked,e!=null&&Np(t,"checked",e,!1)}function tf(t,e){O_(t,e);var n=Cs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nf(t,e.type,n):e.hasOwnProperty("defaultValue")&&nf(t,e.type,Cs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Py(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function nf(t,e,n){(e!=="number"||du(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xa=Array.isArray;function ro(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Cs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function rf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(xa(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Cs(n)}}function L_(t,e){var n=Cs(e.value),r=Cs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function By(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function V_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?V_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xc,M_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xc=xc||document.createElement("div"),xc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lT=["Webkit","ms","Moz","O"];Object.keys(Ia).forEach(function(t){lT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ia[e]=Ia[t]})});function U_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ia.hasOwnProperty(t)&&Ia[t]?(""+e).trim():e+"px"}function z_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=U_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var cT=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function of(t,e){if(e){if(cT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function af(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lf=null;function Bp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cf=null,so=null,io=null;function jy(t){if(t=Il(t)){if(typeof cf!="function")throw Error(X(280));var e=t.stateNode;e&&(e=vd(e),cf(t.stateNode,t.type,e))}}function q_(t){so?io?io.push(t):io=[t]:so=t}function $_(){if(so){var t=so,e=io;if(io=so=null,jy(t),e)for(t=0;t<e.length;t++)jy(e[t])}}function H_(t,e){return t(e)}function W_(){}var Ih=!1;function K_(t,e,n){if(Ih)return t(e,n);Ih=!0;try{return H_(t,e,n)}finally{Ih=!1,(so!==null||io!==null)&&(W_(),$_())}}function Ka(t,e){var n=t.stateNode;if(n===null)return null;var r=vd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var uf=!1;if(Pr)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){uf=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{uf=!1}function uT(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ba=!1,hu=null,fu=!1,df=null,dT={onError:function(t){ba=!0,hu=t}};function hT(t,e,n,r,s,i,o,a,l){ba=!1,hu=null,uT.apply(dT,arguments)}function fT(t,e,n,r,s,i,o,a,l){if(hT.apply(this,arguments),ba){if(ba){var c=hu;ba=!1,hu=null}else throw Error(X(198));fu||(fu=!0,df=c)}}function Ai(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function G_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Oy(t){if(Ai(t)!==t)throw Error(X(188))}function pT(t){var e=t.alternate;if(!e){if(e=Ai(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Oy(s),t;if(i===r)return Oy(s),e;i=i.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function Q_(t){return t=pT(t),t!==null?Y_(t):null}function Y_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Y_(t);if(e!==null)return e;t=t.sibling}return null}var X_=Sn.unstable_scheduleCallback,Ly=Sn.unstable_cancelCallback,mT=Sn.unstable_shouldYield,gT=Sn.unstable_requestPaint,it=Sn.unstable_now,yT=Sn.unstable_getCurrentPriorityLevel,jp=Sn.unstable_ImmediatePriority,J_=Sn.unstable_UserBlockingPriority,pu=Sn.unstable_NormalPriority,xT=Sn.unstable_LowPriority,Z_=Sn.unstable_IdlePriority,md=null,ar=null;function vT(t){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(md,t,void 0,(t.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:wT,_T=Math.log,ET=Math.LN2;function wT(t){return t>>>=0,t===0?32:31-(_T(t)/ET|0)|0}var vc=64,_c=4194304;function va(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=va(a):(i&=o,i!==0&&(r=va(i)))}else o=n&~s,o!==0?r=va(o):i!==0&&(r=va(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Kn(e),s=1<<n,r|=t[n],e&=~s;return r}function AT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Kn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=AT(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function hf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eE(){var t=vc;return vc<<=1,!(vc&4194240)&&(vc=64),t}function bh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Tl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Kn(e),t[e]=n}function TT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Kn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Op(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Kn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ve=0;function tE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nE,Lp,rE,sE,iE,ff=!1,Ec=[],ds=null,hs=null,fs=null,Ga=new Map,Qa=new Map,Jr=[],ST="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vy(t,e){switch(t){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Ga.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qa.delete(e.pointerId)}}function aa(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Il(e),e!==null&&Lp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function IT(t,e,n,r,s){switch(e){case"focusin":return ds=aa(ds,t,e,n,r,s),!0;case"dragenter":return hs=aa(hs,t,e,n,r,s),!0;case"mouseover":return fs=aa(fs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ga.set(i,aa(Ga.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Qa.set(i,aa(Qa.get(i)||null,t,e,n,r,s)),!0}return!1}function oE(t){var e=Js(t.target);if(e!==null){var n=Ai(e);if(n!==null){if(e=n.tag,e===13){if(e=G_(n),e!==null){t.blockedOn=e,iE(t.priority,function(){rE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);lf=r,n.target.dispatchEvent(r),lf=null}else return e=Il(n),e!==null&&Lp(e),t.blockedOn=n,!1;e.shift()}return!0}function My(t,e,n){zc(t)&&n.delete(e)}function bT(){ff=!1,ds!==null&&zc(ds)&&(ds=null),hs!==null&&zc(hs)&&(hs=null),fs!==null&&zc(fs)&&(fs=null),Ga.forEach(My),Qa.forEach(My)}function la(t,e){t.blockedOn===e&&(t.blockedOn=null,ff||(ff=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,bT)))}function Ya(t){function e(s){return la(s,t)}if(0<Ec.length){la(Ec[0],t);for(var n=1;n<Ec.length;n++){var r=Ec[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ds!==null&&la(ds,t),hs!==null&&la(hs,t),fs!==null&&la(fs,t),Ga.forEach(e),Qa.forEach(e),n=0;n<Jr.length;n++)r=Jr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Jr.length&&(n=Jr[0],n.blockedOn===null);)oE(n),n.blockedOn===null&&Jr.shift()}var oo=Ur.ReactCurrentBatchConfig,gu=!0;function RT(t,e,n,r){var s=Ve,i=oo.transition;oo.transition=null;try{Ve=1,Vp(t,e,n,r)}finally{Ve=s,oo.transition=i}}function kT(t,e,n,r){var s=Ve,i=oo.transition;oo.transition=null;try{Ve=4,Vp(t,e,n,r)}finally{Ve=s,oo.transition=i}}function Vp(t,e,n,r){if(gu){var s=pf(t,e,n,r);if(s===null)Lh(t,e,r,yu,n),Vy(t,r);else if(IT(s,t,e,n,r))r.stopPropagation();else if(Vy(t,r),e&4&&-1<ST.indexOf(t)){for(;s!==null;){var i=Il(s);if(i!==null&&nE(i),i=pf(t,e,n,r),i===null&&Lh(t,e,r,yu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Lh(t,e,r,null,n)}}var yu=null;function pf(t,e,n,r){if(yu=null,t=Bp(r),t=Js(t),t!==null)if(e=Ai(t),e===null)t=null;else if(n=e.tag,n===13){if(t=G_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yu=t,null}function aE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yT()){case jp:return 1;case J_:return 4;case pu:case xT:return 16;case Z_:return 536870912;default:return 16}default:return 16}}var os=null,Mp=null,qc=null;function lE(){if(qc)return qc;var t,e=Mp,n=e.length,r,s="value"in os?os.value:os.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return qc=s.slice(t,1<r?1-r:void 0)}function $c(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wc(){return!0}function Uy(){return!1}function bn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?wc:Uy,this.isPropagationStopped=Uy,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wc)},persist:function(){},isPersistent:wc}),e}var ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Up=bn(ko),Sl=Ye({},ko,{view:0,detail:0}),NT=bn(Sl),Rh,kh,ca,gd=Ye({},Sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ca&&(ca&&t.type==="mousemove"?(Rh=t.screenX-ca.screenX,kh=t.screenY-ca.screenY):kh=Rh=0,ca=t),Rh)},movementY:function(t){return"movementY"in t?t.movementY:kh}}),zy=bn(gd),DT=Ye({},gd,{dataTransfer:0}),PT=bn(DT),FT=Ye({},Sl,{relatedTarget:0}),Nh=bn(FT),BT=Ye({},ko,{animationName:0,elapsedTime:0,pseudoElement:0}),jT=bn(BT),OT=Ye({},ko,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LT=bn(OT),VT=Ye({},ko,{data:0}),qy=bn(VT),MT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zT[t])?!!e[t]:!1}function zp(){return qT}var $T=Ye({},Sl,{key:function(t){if(t.key){var e=MT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$c(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zp,charCode:function(t){return t.type==="keypress"?$c(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$c(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HT=bn($T),WT=Ye({},gd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$y=bn(WT),KT=Ye({},Sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zp}),GT=bn(KT),QT=Ye({},ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),YT=bn(QT),XT=Ye({},gd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),JT=bn(XT),ZT=[9,13,27,32],qp=Pr&&"CompositionEvent"in window,Ra=null;Pr&&"documentMode"in document&&(Ra=document.documentMode);var eS=Pr&&"TextEvent"in window&&!Ra,cE=Pr&&(!qp||Ra&&8<Ra&&11>=Ra),Hy=" ",Wy=!1;function uE(t,e){switch(t){case"keyup":return ZT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qi=!1;function tS(t,e){switch(t){case"compositionend":return dE(e);case"keypress":return e.which!==32?null:(Wy=!0,Hy);case"textInput":return t=e.data,t===Hy&&Wy?null:t;default:return null}}function nS(t,e){if(qi)return t==="compositionend"||!qp&&uE(t,e)?(t=lE(),qc=Mp=os=null,qi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cE&&e.locale!=="ko"?null:e.data;default:return null}}var rS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ky(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rS[t.type]:e==="textarea"}function hE(t,e,n,r){q_(r),e=xu(e,"onChange"),0<e.length&&(n=new Up("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ka=null,Xa=null;function sS(t){AE(t,0)}function yd(t){var e=Wi(t);if(j_(e))return t}function iS(t,e){if(t==="change")return e}var fE=!1;if(Pr){var Dh;if(Pr){var Ph="oninput"in document;if(!Ph){var Gy=document.createElement("div");Gy.setAttribute("oninput","return;"),Ph=typeof Gy.oninput=="function"}Dh=Ph}else Dh=!1;fE=Dh&&(!document.documentMode||9<document.documentMode)}function Qy(){ka&&(ka.detachEvent("onpropertychange",pE),Xa=ka=null)}function pE(t){if(t.propertyName==="value"&&yd(Xa)){var e=[];hE(e,Xa,t,Bp(t)),K_(sS,e)}}function oS(t,e,n){t==="focusin"?(Qy(),ka=e,Xa=n,ka.attachEvent("onpropertychange",pE)):t==="focusout"&&Qy()}function aS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yd(Xa)}function lS(t,e){if(t==="click")return yd(e)}function cS(t,e){if(t==="input"||t==="change")return yd(e)}function uS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qn=typeof Object.is=="function"?Object.is:uS;function Ja(t,e){if(Qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Q0.call(e,s)||!Qn(t[s],e[s]))return!1}return!0}function Yy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xy(t,e){var n=Yy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yy(n)}}function mE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gE(){for(var t=window,e=du();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=du(t.document)}return e}function $p(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dS(t){var e=gE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mE(n.ownerDocument.documentElement,n)){if(r!==null&&$p(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Xy(n,i);var o=Xy(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hS=Pr&&"documentMode"in document&&11>=document.documentMode,$i=null,mf=null,Na=null,gf=!1;function Jy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gf||$i==null||$i!==du(r)||(r=$i,"selectionStart"in r&&$p(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Na&&Ja(Na,r)||(Na=r,r=xu(mf,"onSelect"),0<r.length&&(e=new Up("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$i)))}function Ac(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hi={animationend:Ac("Animation","AnimationEnd"),animationiteration:Ac("Animation","AnimationIteration"),animationstart:Ac("Animation","AnimationStart"),transitionend:Ac("Transition","TransitionEnd")},Fh={},yE={};Pr&&(yE=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function xd(t){if(Fh[t])return Fh[t];if(!Hi[t])return t;var e=Hi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yE)return Fh[t]=e[n];return t}var xE=xd("animationend"),vE=xd("animationiteration"),_E=xd("animationstart"),EE=xd("transitionend"),wE=new Map,Zy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ks(t,e){wE.set(t,e),wi(e,[t])}for(var Bh=0;Bh<Zy.length;Bh++){var jh=Zy[Bh],fS=jh.toLowerCase(),pS=jh[0].toUpperCase()+jh.slice(1);ks(fS,"on"+pS)}ks(xE,"onAnimationEnd");ks(vE,"onAnimationIteration");ks(_E,"onAnimationStart");ks("dblclick","onDoubleClick");ks("focusin","onFocus");ks("focusout","onBlur");ks(EE,"onTransitionEnd");po("onMouseEnter",["mouseout","mouseover"]);po("onMouseLeave",["mouseout","mouseover"]);po("onPointerEnter",["pointerout","pointerover"]);po("onPointerLeave",["pointerout","pointerover"]);wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mS=new Set("cancel close invalid load scroll toggle".split(" ").concat(_a));function ex(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fT(r,e,void 0,t),t.currentTarget=null}function AE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;ex(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;ex(s,a,c),i=l}}}if(fu)throw t=df,fu=!1,df=null,t}function He(t,e){var n=e[Ef];n===void 0&&(n=e[Ef]=new Set);var r=t+"__bubble";n.has(r)||(CE(e,t,2,!1),n.add(r))}function Oh(t,e,n){var r=0;e&&(r|=4),CE(n,t,r,e)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Za(t){if(!t[Cc]){t[Cc]=!0,N_.forEach(function(n){n!=="selectionchange"&&(mS.has(n)||Oh(n,!1,t),Oh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cc]||(e[Cc]=!0,Oh("selectionchange",!1,e))}}function CE(t,e,n,r){switch(aE(e)){case 1:var s=RT;break;case 4:s=kT;break;default:s=Vp}n=s.bind(null,e,n,t),s=void 0,!uf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Lh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Js(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}K_(function(){var c=i,d=Bp(n),h=[];e:{var p=wE.get(t);if(p!==void 0){var v=Up,x=t;switch(t){case"keypress":if($c(n)===0)break e;case"keydown":case"keyup":v=HT;break;case"focusin":x="focus",v=Nh;break;case"focusout":x="blur",v=Nh;break;case"beforeblur":case"afterblur":v=Nh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=zy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=PT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=GT;break;case xE:case vE:case _E:v=jT;break;case EE:v=YT;break;case"scroll":v=NT;break;case"wheel":v=JT;break;case"copy":case"cut":case"paste":v=LT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=$y}var w=(e&4)!==0,E=!w&&t==="scroll",_=w?p!==null?p+"Capture":null:p;w=[];for(var m=c,y;m!==null;){y=m;var A=y.stateNode;if(y.tag===5&&A!==null&&(y=A,_!==null&&(A=Ka(m,_),A!=null&&w.push(el(m,A,y)))),E)break;m=m.return}0<w.length&&(p=new v(p,x,null,n,d),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==lf&&(x=n.relatedTarget||n.fromElement)&&(Js(x)||x[Fr]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=c,x=x?Js(x):null,x!==null&&(E=Ai(x),x!==E||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=c),v!==x)){if(w=zy,A="onMouseLeave",_="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(w=$y,A="onPointerLeave",_="onPointerEnter",m="pointer"),E=v==null?p:Wi(v),y=x==null?p:Wi(x),p=new w(A,m+"leave",v,n,d),p.target=E,p.relatedTarget=y,A=null,Js(d)===c&&(w=new w(_,m+"enter",x,n,d),w.target=y,w.relatedTarget=E,A=w),E=A,v&&x)t:{for(w=v,_=x,m=0,y=w;y;y=ji(y))m++;for(y=0,A=_;A;A=ji(A))y++;for(;0<m-y;)w=ji(w),m--;for(;0<y-m;)_=ji(_),y--;for(;m--;){if(w===_||_!==null&&w===_.alternate)break t;w=ji(w),_=ji(_)}w=null}else w=null;v!==null&&tx(h,p,v,w,!1),x!==null&&E!==null&&tx(h,E,x,w,!0)}}e:{if(p=c?Wi(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var P=iS;else if(Ky(p))if(fE)P=cS;else{P=aS;var F=oS}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=lS);if(P&&(P=P(t,c))){hE(h,P,n,d);break e}F&&F(t,p,c),t==="focusout"&&(F=p._wrapperState)&&F.controlled&&p.type==="number"&&nf(p,"number",p.value)}switch(F=c?Wi(c):window,t){case"focusin":(Ky(F)||F.contentEditable==="true")&&($i=F,mf=c,Na=null);break;case"focusout":Na=mf=$i=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,Jy(h,n,d);break;case"selectionchange":if(hS)break;case"keydown":case"keyup":Jy(h,n,d)}var I;if(qp)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else qi?uE(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(cE&&n.locale!=="ko"&&(qi||T!=="onCompositionStart"?T==="onCompositionEnd"&&qi&&(I=lE()):(os=d,Mp="value"in os?os.value:os.textContent,qi=!0)),F=xu(c,T),0<F.length&&(T=new qy(T,t,null,n,d),h.push({event:T,listeners:F}),I?T.data=I:(I=dE(n),I!==null&&(T.data=I)))),(I=eS?tS(t,n):nS(t,n))&&(c=xu(c,"onBeforeInput"),0<c.length&&(d=new qy("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=I))}AE(h,e)})}function el(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ka(t,n),i!=null&&r.unshift(el(t,i,s)),i=Ka(t,e),i!=null&&r.push(el(t,i,s))),t=t.return}return r}function ji(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tx(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Ka(n,i),l!=null&&o.unshift(el(n,l,a))):s||(l=Ka(n,i),l!=null&&o.push(el(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var gS=/\r\n?/g,yS=/\u0000|\uFFFD/g;function nx(t){return(typeof t=="string"?t:""+t).replace(gS,`
`).replace(yS,"")}function Tc(t,e,n){if(e=nx(e),nx(t)!==e&&n)throw Error(X(425))}function vu(){}var yf=null,xf=null;function vf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _f=typeof setTimeout=="function"?setTimeout:void 0,xS=typeof clearTimeout=="function"?clearTimeout:void 0,rx=typeof Promise=="function"?Promise:void 0,vS=typeof queueMicrotask=="function"?queueMicrotask:typeof rx<"u"?function(t){return rx.resolve(null).then(t).catch(_S)}:_f;function _S(t){setTimeout(function(){throw t})}function Vh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ya(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ya(e)}function ps(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var No=Math.random().toString(36).slice(2),sr="__reactFiber$"+No,tl="__reactProps$"+No,Fr="__reactContainer$"+No,Ef="__reactEvents$"+No,ES="__reactListeners$"+No,wS="__reactHandles$"+No;function Js(t){var e=t[sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fr]||n[sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=sx(t);t!==null;){if(n=t[sr])return n;t=sx(t)}return e}t=n,n=t.parentNode}return null}function Il(t){return t=t[sr]||t[Fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function vd(t){return t[tl]||null}var wf=[],Ki=-1;function Ns(t){return{current:t}}function We(t){0>Ki||(t.current=wf[Ki],wf[Ki]=null,Ki--)}function qe(t,e){Ki++,wf[Ki]=t.current,t.current=e}var Ts={},Wt=Ns(Ts),cn=Ns(!1),li=Ts;function mo(t,e){var n=t.type.contextTypes;if(!n)return Ts;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function un(t){return t=t.childContextTypes,t!=null}function _u(){We(cn),We(Wt)}function ix(t,e,n){if(Wt.current!==Ts)throw Error(X(168));qe(Wt,e),qe(cn,n)}function TE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(X(108,oT(t)||"Unknown",s));return Ye({},n,r)}function Eu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ts,li=Wt.current,qe(Wt,t),qe(cn,cn.current),!0}function ox(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=TE(t,e,li),r.__reactInternalMemoizedMergedChildContext=t,We(cn),We(Wt),qe(Wt,t)):We(cn),qe(cn,n)}var Ar=null,_d=!1,Mh=!1;function SE(t){Ar===null?Ar=[t]:Ar.push(t)}function AS(t){_d=!0,SE(t)}function Ds(){if(!Mh&&Ar!==null){Mh=!0;var t=0,e=Ve;try{var n=Ar;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ar=null,_d=!1}catch(s){throw Ar!==null&&(Ar=Ar.slice(t+1)),X_(jp,Ds),s}finally{Ve=e,Mh=!1}}return null}var Gi=[],Qi=0,wu=null,Au=0,Nn=[],Dn=0,ci=null,Cr=1,Tr="";function Qs(t,e){Gi[Qi++]=Au,Gi[Qi++]=wu,wu=t,Au=e}function IE(t,e,n){Nn[Dn++]=Cr,Nn[Dn++]=Tr,Nn[Dn++]=ci,ci=t;var r=Cr;t=Tr;var s=32-Kn(r)-1;r&=~(1<<s),n+=1;var i=32-Kn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Cr=1<<32-Kn(e)+s|n<<s|r,Tr=i+t}else Cr=1<<i|n<<s|r,Tr=t}function Hp(t){t.return!==null&&(Qs(t,1),IE(t,1,0))}function Wp(t){for(;t===wu;)wu=Gi[--Qi],Gi[Qi]=null,Au=Gi[--Qi],Gi[Qi]=null;for(;t===ci;)ci=Nn[--Dn],Nn[Dn]=null,Tr=Nn[--Dn],Nn[Dn]=null,Cr=Nn[--Dn],Nn[Dn]=null}var An=null,_n=null,Ke=!1,$n=null;function bE(t,e){var n=Pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ax(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,An=t,_n=ps(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,An=t,_n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ci!==null?{id:Cr,overflow:Tr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,An=t,_n=null,!0):!1;default:return!1}}function Af(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cf(t){if(Ke){var e=_n;if(e){var n=e;if(!ax(t,e)){if(Af(t))throw Error(X(418));e=ps(n.nextSibling);var r=An;e&&ax(t,e)?bE(r,n):(t.flags=t.flags&-4097|2,Ke=!1,An=t)}}else{if(Af(t))throw Error(X(418));t.flags=t.flags&-4097|2,Ke=!1,An=t}}}function lx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;An=t}function Sc(t){if(t!==An)return!1;if(!Ke)return lx(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vf(t.type,t.memoizedProps)),e&&(e=_n)){if(Af(t))throw RE(),Error(X(418));for(;e;)bE(t,e),e=ps(e.nextSibling)}if(lx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_n=ps(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_n=null}}else _n=An?ps(t.stateNode.nextSibling):null;return!0}function RE(){for(var t=_n;t;)t=ps(t.nextSibling)}function go(){_n=An=null,Ke=!1}function Kp(t){$n===null?$n=[t]:$n.push(t)}var CS=Ur.ReactCurrentBatchConfig;function ua(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function Ic(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function cx(t){var e=t._init;return e(t._payload)}function kE(t){function e(_,m){if(t){var y=_.deletions;y===null?(_.deletions=[m],_.flags|=16):y.push(m)}}function n(_,m){if(!t)return null;for(;m!==null;)e(_,m),m=m.sibling;return null}function r(_,m){for(_=new Map;m!==null;)m.key!==null?_.set(m.key,m):_.set(m.index,m),m=m.sibling;return _}function s(_,m){return _=xs(_,m),_.index=0,_.sibling=null,_}function i(_,m,y){return _.index=y,t?(y=_.alternate,y!==null?(y=y.index,y<m?(_.flags|=2,m):y):(_.flags|=2,m)):(_.flags|=1048576,m)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,m,y,A){return m===null||m.tag!==6?(m=Kh(y,_.mode,A),m.return=_,m):(m=s(m,y),m.return=_,m)}function l(_,m,y,A){var P=y.type;return P===zi?d(_,m,y.props.children,A,y.key):m!==null&&(m.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Yr&&cx(P)===m.type)?(A=s(m,y.props),A.ref=ua(_,m,y),A.return=_,A):(A=Xc(y.type,y.key,y.props,null,_.mode,A),A.ref=ua(_,m,y),A.return=_,A)}function c(_,m,y,A){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Gh(y,_.mode,A),m.return=_,m):(m=s(m,y.children||[]),m.return=_,m)}function d(_,m,y,A,P){return m===null||m.tag!==7?(m=si(y,_.mode,A,P),m.return=_,m):(m=s(m,y),m.return=_,m)}function h(_,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Kh(""+m,_.mode,y),m.return=_,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case gc:return y=Xc(m.type,m.key,m.props,null,_.mode,y),y.ref=ua(_,null,m),y.return=_,y;case Ui:return m=Gh(m,_.mode,y),m.return=_,m;case Yr:var A=m._init;return h(_,A(m._payload),y)}if(xa(m)||ia(m))return m=si(m,_.mode,y,null),m.return=_,m;Ic(_,m)}return null}function p(_,m,y,A){var P=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return P!==null?null:a(_,m,""+y,A);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case gc:return y.key===P?l(_,m,y,A):null;case Ui:return y.key===P?c(_,m,y,A):null;case Yr:return P=y._init,p(_,m,P(y._payload),A)}if(xa(y)||ia(y))return P!==null?null:d(_,m,y,A,null);Ic(_,y)}return null}function v(_,m,y,A,P){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(y)||null,a(m,_,""+A,P);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case gc:return _=_.get(A.key===null?y:A.key)||null,l(m,_,A,P);case Ui:return _=_.get(A.key===null?y:A.key)||null,c(m,_,A,P);case Yr:var F=A._init;return v(_,m,y,F(A._payload),P)}if(xa(A)||ia(A))return _=_.get(y)||null,d(m,_,A,P,null);Ic(m,A)}return null}function x(_,m,y,A){for(var P=null,F=null,I=m,T=m=0,R=null;I!==null&&T<y.length;T++){I.index>T?(R=I,I=null):R=I.sibling;var S=p(_,I,y[T],A);if(S===null){I===null&&(I=R);break}t&&I&&S.alternate===null&&e(_,I),m=i(S,m,T),F===null?P=S:F.sibling=S,F=S,I=R}if(T===y.length)return n(_,I),Ke&&Qs(_,T),P;if(I===null){for(;T<y.length;T++)I=h(_,y[T],A),I!==null&&(m=i(I,m,T),F===null?P=I:F.sibling=I,F=I);return Ke&&Qs(_,T),P}for(I=r(_,I);T<y.length;T++)R=v(I,_,T,y[T],A),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?T:R.key),m=i(R,m,T),F===null?P=R:F.sibling=R,F=R);return t&&I.forEach(function(k){return e(_,k)}),Ke&&Qs(_,T),P}function w(_,m,y,A){var P=ia(y);if(typeof P!="function")throw Error(X(150));if(y=P.call(y),y==null)throw Error(X(151));for(var F=P=null,I=m,T=m=0,R=null,S=y.next();I!==null&&!S.done;T++,S=y.next()){I.index>T?(R=I,I=null):R=I.sibling;var k=p(_,I,S.value,A);if(k===null){I===null&&(I=R);break}t&&I&&k.alternate===null&&e(_,I),m=i(k,m,T),F===null?P=k:F.sibling=k,F=k,I=R}if(S.done)return n(_,I),Ke&&Qs(_,T),P;if(I===null){for(;!S.done;T++,S=y.next())S=h(_,S.value,A),S!==null&&(m=i(S,m,T),F===null?P=S:F.sibling=S,F=S);return Ke&&Qs(_,T),P}for(I=r(_,I);!S.done;T++,S=y.next())S=v(I,_,T,S.value,A),S!==null&&(t&&S.alternate!==null&&I.delete(S.key===null?T:S.key),m=i(S,m,T),F===null?P=S:F.sibling=S,F=S);return t&&I.forEach(function(N){return e(_,N)}),Ke&&Qs(_,T),P}function E(_,m,y,A){if(typeof y=="object"&&y!==null&&y.type===zi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case gc:e:{for(var P=y.key,F=m;F!==null;){if(F.key===P){if(P=y.type,P===zi){if(F.tag===7){n(_,F.sibling),m=s(F,y.props.children),m.return=_,_=m;break e}}else if(F.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Yr&&cx(P)===F.type){n(_,F.sibling),m=s(F,y.props),m.ref=ua(_,F,y),m.return=_,_=m;break e}n(_,F);break}else e(_,F);F=F.sibling}y.type===zi?(m=si(y.props.children,_.mode,A,y.key),m.return=_,_=m):(A=Xc(y.type,y.key,y.props,null,_.mode,A),A.ref=ua(_,m,y),A.return=_,_=A)}return o(_);case Ui:e:{for(F=y.key;m!==null;){if(m.key===F)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(_,m.sibling),m=s(m,y.children||[]),m.return=_,_=m;break e}else{n(_,m);break}else e(_,m);m=m.sibling}m=Gh(y,_.mode,A),m.return=_,_=m}return o(_);case Yr:return F=y._init,E(_,m,F(y._payload),A)}if(xa(y))return x(_,m,y,A);if(ia(y))return w(_,m,y,A);Ic(_,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(_,m.sibling),m=s(m,y),m.return=_,_=m):(n(_,m),m=Kh(y,_.mode,A),m.return=_,_=m),o(_)):n(_,m)}return E}var yo=kE(!0),NE=kE(!1),Cu=Ns(null),Tu=null,Yi=null,Gp=null;function Qp(){Gp=Yi=Tu=null}function Yp(t){var e=Cu.current;We(Cu),t._currentValue=e}function Tf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ao(t,e){Tu=t,Gp=Yi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ln=!0),t.firstContext=null)}function jn(t){var e=t._currentValue;if(Gp!==t)if(t={context:t,memoizedValue:e,next:null},Yi===null){if(Tu===null)throw Error(X(308));Yi=t,Tu.dependencies={lanes:0,firstContext:t}}else Yi=Yi.next=t;return e}var Zs=null;function Xp(t){Zs===null?Zs=[t]:Zs.push(t)}function DE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Xp(e)):(n.next=s.next,s.next=n),e.interleaved=n,Br(t,r)}function Br(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Xr=!1;function Jp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ms(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Fe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Br(t,n)}return s=r.interleaved,s===null?(e.next=e,Xp(r)):(e.next=s.next,s.next=e),r.interleaved=e,Br(t,n)}function Hc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Op(t,n)}}function ux(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Su(t,e,n,r){var s=t.updateQueue;Xr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,v=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,w=a;switch(p=e,v=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){h=x.call(v,h,p);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,p=typeof x=="function"?x.call(v,h,p):x,p==null)break e;h=Ye({},h,p);break e;case 2:Xr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,l=h):d=d.next=v,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);di|=o,t.lanes=o,t.memoizedState=h}}function dx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var bl={},lr=Ns(bl),nl=Ns(bl),rl=Ns(bl);function ei(t){if(t===bl)throw Error(X(174));return t}function Zp(t,e){switch(qe(rl,e),qe(nl,t),qe(lr,bl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sf(e,t)}We(lr),qe(lr,e)}function xo(){We(lr),We(nl),We(rl)}function FE(t){ei(rl.current);var e=ei(lr.current),n=sf(e,t.type);e!==n&&(qe(nl,t),qe(lr,n))}function em(t){nl.current===t&&(We(lr),We(nl))}var Ge=Ns(0);function Iu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uh=[];function tm(){for(var t=0;t<Uh.length;t++)Uh[t]._workInProgressVersionPrimary=null;Uh.length=0}var Wc=Ur.ReactCurrentDispatcher,zh=Ur.ReactCurrentBatchConfig,ui=0,Qe=null,yt=null,wt=null,bu=!1,Da=!1,sl=0,TS=0;function Lt(){throw Error(X(321))}function nm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qn(t[n],e[n]))return!1;return!0}function rm(t,e,n,r,s,i){if(ui=i,Qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wc.current=t===null||t.memoizedState===null?RS:kS,t=n(r,s),Da){i=0;do{if(Da=!1,sl=0,25<=i)throw Error(X(301));i+=1,wt=yt=null,e.updateQueue=null,Wc.current=NS,t=n(r,s)}while(Da)}if(Wc.current=Ru,e=yt!==null&&yt.next!==null,ui=0,wt=yt=Qe=null,bu=!1,e)throw Error(X(300));return t}function sm(){var t=sl!==0;return sl=0,t}function rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Qe.memoizedState=wt=t:wt=wt.next=t,wt}function On(){if(yt===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=wt===null?Qe.memoizedState:wt.next;if(e!==null)wt=e,yt=t;else{if(t===null)throw Error(X(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},wt===null?Qe.memoizedState=wt=t:wt=wt.next=t}return wt}function il(t,e){return typeof e=="function"?e(t):e}function qh(t){var e=On(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=yt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((ui&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Qe.lanes|=d,di|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Qn(r,e.memoizedState)||(ln=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Qe.lanes|=i,di|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $h(t){var e=On(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Qn(i,e.memoizedState)||(ln=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function BE(){}function jE(t,e){var n=Qe,r=On(),s=e(),i=!Qn(r.memoizedState,s);if(i&&(r.memoizedState=s,ln=!0),r=r.queue,im(VE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,ol(9,LE.bind(null,n,r,s,e),void 0,null),Ct===null)throw Error(X(349));ui&30||OE(n,e,s)}return s}function OE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function LE(t,e,n,r){e.value=n,e.getSnapshot=r,ME(e)&&UE(t)}function VE(t,e,n){return n(function(){ME(e)&&UE(t)})}function ME(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qn(t,n)}catch{return!0}}function UE(t){var e=Br(t,1);e!==null&&Gn(e,t,1,-1)}function hx(t){var e=rr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:t},e.queue=t,t=t.dispatch=bS.bind(null,Qe,t),[e.memoizedState,t]}function ol(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zE(){return On().memoizedState}function Kc(t,e,n,r){var s=rr();Qe.flags|=t,s.memoizedState=ol(1|e,n,void 0,r===void 0?null:r)}function Ed(t,e,n,r){var s=On();r=r===void 0?null:r;var i=void 0;if(yt!==null){var o=yt.memoizedState;if(i=o.destroy,r!==null&&nm(r,o.deps)){s.memoizedState=ol(e,n,i,r);return}}Qe.flags|=t,s.memoizedState=ol(1|e,n,i,r)}function fx(t,e){return Kc(8390656,8,t,e)}function im(t,e){return Ed(2048,8,t,e)}function qE(t,e){return Ed(4,2,t,e)}function $E(t,e){return Ed(4,4,t,e)}function HE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function WE(t,e,n){return n=n!=null?n.concat([t]):null,Ed(4,4,HE.bind(null,e,t),n)}function om(){}function KE(t,e){var n=On();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function GE(t,e){var n=On();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function QE(t,e,n){return ui&21?(Qn(n,e)||(n=eE(),Qe.lanes|=n,di|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ln=!0),t.memoizedState=n)}function SS(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=zh.transition;zh.transition={};try{t(!1),e()}finally{Ve=n,zh.transition=r}}function YE(){return On().memoizedState}function IS(t,e,n){var r=ys(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},XE(t))JE(e,n);else if(n=DE(t,e,n,r),n!==null){var s=Zt();Gn(n,t,r,s),ZE(n,e,r)}}function bS(t,e,n){var r=ys(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(XE(t))JE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Qn(a,o)){var l=e.interleaved;l===null?(s.next=s,Xp(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=DE(t,e,s,r),n!==null&&(s=Zt(),Gn(n,t,r,s),ZE(n,e,r))}}function XE(t){var e=t.alternate;return t===Qe||e!==null&&e===Qe}function JE(t,e){Da=bu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ZE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Op(t,n)}}var Ru={readContext:jn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},RS={readContext:jn,useCallback:function(t,e){return rr().memoizedState=[t,e===void 0?null:e],t},useContext:jn,useEffect:fx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Kc(4194308,4,HE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Kc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Kc(4,2,t,e)},useMemo:function(t,e){var n=rr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=rr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=IS.bind(null,Qe,t),[r.memoizedState,t]},useRef:function(t){var e=rr();return t={current:t},e.memoizedState=t},useState:hx,useDebugValue:om,useDeferredValue:function(t){return rr().memoizedState=t},useTransition:function(){var t=hx(!1),e=t[0];return t=SS.bind(null,t[1]),rr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qe,s=rr();if(Ke){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),Ct===null)throw Error(X(349));ui&30||OE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,fx(VE.bind(null,r,i,t),[t]),r.flags|=2048,ol(9,LE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=rr(),e=Ct.identifierPrefix;if(Ke){var n=Tr,r=Cr;n=(r&~(1<<32-Kn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=sl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kS={readContext:jn,useCallback:KE,useContext:jn,useEffect:im,useImperativeHandle:WE,useInsertionEffect:qE,useLayoutEffect:$E,useMemo:GE,useReducer:qh,useRef:zE,useState:function(){return qh(il)},useDebugValue:om,useDeferredValue:function(t){var e=On();return QE(e,yt.memoizedState,t)},useTransition:function(){var t=qh(il)[0],e=On().memoizedState;return[t,e]},useMutableSource:BE,useSyncExternalStore:jE,useId:YE,unstable_isNewReconciler:!1},NS={readContext:jn,useCallback:KE,useContext:jn,useEffect:im,useImperativeHandle:WE,useInsertionEffect:qE,useLayoutEffect:$E,useMemo:GE,useReducer:$h,useRef:zE,useState:function(){return $h(il)},useDebugValue:om,useDeferredValue:function(t){var e=On();return yt===null?e.memoizedState=t:QE(e,yt.memoizedState,t)},useTransition:function(){var t=$h(il)[0],e=On().memoizedState;return[t,e]},useMutableSource:BE,useSyncExternalStore:jE,useId:YE,unstable_isNewReconciler:!1};function zn(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Sf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wd={isMounted:function(t){return(t=t._reactInternals)?Ai(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zt(),s=ys(t),i=kr(r,s);i.payload=e,n!=null&&(i.callback=n),e=ms(t,i,s),e!==null&&(Gn(e,t,s,r),Hc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zt(),s=ys(t),i=kr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ms(t,i,s),e!==null&&(Gn(e,t,s,r),Hc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zt(),r=ys(t),s=kr(n,r);s.tag=2,e!=null&&(s.callback=e),e=ms(t,s,r),e!==null&&(Gn(e,t,r,n),Hc(e,t,r))}};function px(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ja(n,r)||!Ja(s,i):!0}function ew(t,e,n){var r=!1,s=Ts,i=e.contextType;return typeof i=="object"&&i!==null?i=jn(i):(s=un(e)?li:Wt.current,r=e.contextTypes,i=(r=r!=null)?mo(t,s):Ts),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function mx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wd.enqueueReplaceState(e,e.state,null)}function If(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Jp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=jn(i):(i=un(e)?li:Wt.current,s.context=mo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Sf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&wd.enqueueReplaceState(s,s.state,null),Su(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function vo(t,e){try{var n="",r=e;do n+=iT(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Hh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DS=typeof WeakMap=="function"?WeakMap:Map;function tw(t,e,n){n=kr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Nu||(Nu=!0,Lf=r),bf(t,e)},n}function nw(t,e,n){n=kr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){bf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){bf(t,e),typeof r!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function gx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DS;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=WS.bind(null,t,e,n),e.then(t,t))}function yx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xx(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=kr(-1,1),e.tag=2,ms(n,e,1))),n.lanes|=1),t)}var PS=Ur.ReactCurrentOwner,ln=!1;function Gt(t,e,n,r){e.child=t===null?NE(e,null,n,r):yo(e,t.child,n,r)}function vx(t,e,n,r,s){n=n.render;var i=e.ref;return ao(e,s),r=rm(t,e,n,r,i,s),n=sm(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jr(t,e,s)):(Ke&&n&&Hp(e),e.flags|=1,Gt(t,e,r,s),e.child)}function _x(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!pm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,rw(t,e,i,r,s)):(t=Xc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ja,n(o,r)&&t.ref===e.ref)return jr(t,e,s)}return e.flags|=1,t=xs(i,r),t.ref=e.ref,t.return=e,e.child=t}function rw(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ja(i,r)&&t.ref===e.ref)if(ln=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ln=!0);else return e.lanes=t.lanes,jr(t,e,s)}return Rf(t,e,n,r,s)}function sw(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Ji,xn),xn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(Ji,xn),xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,qe(Ji,xn),xn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,qe(Ji,xn),xn|=r;return Gt(t,e,s,n),e.child}function iw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rf(t,e,n,r,s){var i=un(n)?li:Wt.current;return i=mo(e,i),ao(e,s),n=rm(t,e,n,r,i,s),r=sm(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jr(t,e,s)):(Ke&&r&&Hp(e),e.flags|=1,Gt(t,e,n,s),e.child)}function Ex(t,e,n,r,s){if(un(n)){var i=!0;Eu(e)}else i=!1;if(ao(e,s),e.stateNode===null)Gc(t,e),ew(e,n,r),If(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=jn(c):(c=un(n)?li:Wt.current,c=mo(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&mx(e,o,r,c),Xr=!1;var p=e.memoizedState;o.state=p,Su(e,r,o,s),l=e.memoizedState,a!==r||p!==l||cn.current||Xr?(typeof d=="function"&&(Sf(e,n,d,r),l=e.memoizedState),(a=Xr||px(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,PE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:zn(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=jn(l):(l=un(n)?li:Wt.current,l=mo(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&mx(e,o,r,l),Xr=!1,p=e.memoizedState,o.state=p,Su(e,r,o,s);var x=e.memoizedState;a!==h||p!==x||cn.current||Xr?(typeof v=="function"&&(Sf(e,n,v,r),x=e.memoizedState),(c=Xr||px(e,n,c,r,p,x,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return kf(t,e,n,r,i,s)}function kf(t,e,n,r,s,i){iw(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&ox(e,n,!1),jr(t,e,i);r=e.stateNode,PS.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=yo(e,t.child,null,i),e.child=yo(e,null,a,i)):Gt(t,e,a,i),e.memoizedState=r.state,s&&ox(e,n,!0),e.child}function ow(t){var e=t.stateNode;e.pendingContext?ix(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ix(t,e.context,!1),Zp(t,e.containerInfo)}function wx(t,e,n,r,s){return go(),Kp(s),e.flags|=256,Gt(t,e,n,r),e.child}var Nf={dehydrated:null,treeContext:null,retryLane:0};function Df(t){return{baseLanes:t,cachePool:null,transitions:null}}function aw(t,e,n){var r=e.pendingProps,s=Ge.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),qe(Ge,s&1),t===null)return Cf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Td(o,r,0,null),t=si(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Df(n),e.memoizedState=Nf,t):am(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return FS(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=xs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=xs(a,i):(i=si(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Df(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Nf,r}return i=t.child,t=i.sibling,r=xs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function am(t,e){return e=Td({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bc(t,e,n,r){return r!==null&&Kp(r),yo(e,t.child,null,n),t=am(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FS(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Hh(Error(X(422))),bc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Td({mode:"visible",children:r.children},s,0,null),i=si(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&yo(e,t.child,null,o),e.child.memoizedState=Df(o),e.memoizedState=Nf,i);if(!(e.mode&1))return bc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(X(419)),r=Hh(i,r,void 0),bc(t,e,o,r)}if(a=(o&t.childLanes)!==0,ln||a){if(r=Ct,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Br(t,s),Gn(r,t,s,-1))}return fm(),r=Hh(Error(X(421))),bc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=KS.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,_n=ps(s.nextSibling),An=e,Ke=!0,$n=null,t!==null&&(Nn[Dn++]=Cr,Nn[Dn++]=Tr,Nn[Dn++]=ci,Cr=t.id,Tr=t.overflow,ci=e),e=am(e,r.children),e.flags|=4096,e)}function Ax(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Tf(t.return,e,n)}function Wh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function lw(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Gt(t,e,r.children,n),r=Ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ax(t,n,e);else if(t.tag===19)Ax(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(Ge,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Iu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Wh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Iu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Wh(e,!0,n,null,i);break;case"together":Wh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),di|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=xs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function BS(t,e,n){switch(e.tag){case 3:ow(e),go();break;case 5:FE(e);break;case 1:un(e.type)&&Eu(e);break;case 4:Zp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;qe(Cu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(Ge,Ge.current&1),e.flags|=128,null):n&e.child.childLanes?aw(t,e,n):(qe(Ge,Ge.current&1),t=jr(t,e,n),t!==null?t.sibling:null);qe(Ge,Ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return lw(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qe(Ge,Ge.current),r)break;return null;case 22:case 23:return e.lanes=0,sw(t,e,n)}return jr(t,e,n)}var cw,Pf,uw,dw;cw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pf=function(){};uw=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ei(lr.current);var i=null;switch(n){case"input":s=ef(t,s),r=ef(t,r),i=[];break;case"select":s=Ye({},s,{value:void 0}),r=Ye({},r,{value:void 0}),i=[];break;case"textarea":s=rf(t,s),r=rf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vu)}of(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ha.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ha.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&He("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};dw=function(t,e,n,r){n!==r&&(e.flags|=4)};function da(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function jS(t,e,n){var r=e.pendingProps;switch(Wp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return un(e.type)&&_u(),Vt(e),null;case 3:return r=e.stateNode,xo(),We(cn),We(Wt),tm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Sc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$n!==null&&(Uf($n),$n=null))),Pf(t,e),Vt(e),null;case 5:em(e);var s=ei(rl.current);if(n=e.type,t!==null&&e.stateNode!=null)uw(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return Vt(e),null}if(t=ei(lr.current),Sc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[sr]=e,r[tl]=i,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(s=0;s<_a.length;s++)He(_a[s],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":Dy(r,i),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},He("invalid",r);break;case"textarea":Fy(r,i),He("invalid",r)}of(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Tc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Tc(r.textContent,a,t),s=["children",""+a]):Ha.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":yc(r),Py(r,i,!0);break;case"textarea":yc(r),By(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=vu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=V_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[sr]=e,t[tl]=r,cw(t,e,!1,!1),e.stateNode=t;e:{switch(o=af(n,r),n){case"dialog":He("cancel",t),He("close",t),s=r;break;case"iframe":case"object":case"embed":He("load",t),s=r;break;case"video":case"audio":for(s=0;s<_a.length;s++)He(_a[s],t);s=r;break;case"source":He("error",t),s=r;break;case"img":case"image":case"link":He("error",t),He("load",t),s=r;break;case"details":He("toggle",t),s=r;break;case"input":Dy(t,r),s=ef(t,r),He("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ye({},r,{value:void 0}),He("invalid",t);break;case"textarea":Fy(t,r),s=rf(t,r),He("invalid",t);break;default:s=r}of(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?z_(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&M_(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wa(t,l):typeof l=="number"&&Wa(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ha.hasOwnProperty(i)?l!=null&&i==="onScroll"&&He("scroll",t):l!=null&&Np(t,i,l,o))}switch(n){case"input":yc(t),Py(t,r,!1);break;case"textarea":yc(t),By(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Cs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ro(t,!!r.multiple,i,!1):r.defaultValue!=null&&ro(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=vu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(t&&e.stateNode!=null)dw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=ei(rl.current),ei(lr.current),Sc(e)){if(r=e.stateNode,n=e.memoizedProps,r[sr]=e,(i=r.nodeValue!==n)&&(t=An,t!==null))switch(t.tag){case 3:Tc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Tc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sr]=e,e.stateNode=r}return Vt(e),null;case 13:if(We(Ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&_n!==null&&e.mode&1&&!(e.flags&128))RE(),go(),e.flags|=98560,i=!1;else if(i=Sc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(X(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[sr]=e}else go(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vt(e),i=!1}else $n!==null&&(Uf($n),$n=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ge.current&1?xt===0&&(xt=3):fm())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return xo(),Pf(t,e),t===null&&Za(e.stateNode.containerInfo),Vt(e),null;case 10:return Yp(e.type._context),Vt(e),null;case 17:return un(e.type)&&_u(),Vt(e),null;case 19:if(We(Ge),i=e.memoizedState,i===null)return Vt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)da(i,!1);else{if(xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Iu(t),o!==null){for(e.flags|=128,da(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(Ge,Ge.current&1|2),e.child}t=t.sibling}i.tail!==null&&it()>_o&&(e.flags|=128,r=!0,da(i,!1),e.lanes=4194304)}else{if(!r)if(t=Iu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),da(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ke)return Vt(e),null}else 2*it()-i.renderingStartTime>_o&&n!==1073741824&&(e.flags|=128,r=!0,da(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=it(),e.sibling=null,n=Ge.current,qe(Ge,r?n&1|2:n&1),e):(Vt(e),null);case 22:case 23:return hm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xn&1073741824&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function OS(t,e){switch(Wp(e),e.tag){case 1:return un(e.type)&&_u(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xo(),We(cn),We(Wt),tm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return em(e),null;case 13:if(We(Ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));go()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Ge),null;case 4:return xo(),null;case 10:return Yp(e.type._context),null;case 22:case 23:return hm(),null;case 24:return null;default:return null}}var Rc=!1,zt=!1,LS=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Xi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(t,e,r)}else n.current=null}function Ff(t,e,n){try{n()}catch(r){tt(t,e,r)}}var Cx=!1;function VS(t,e){if(yf=gu,t=gE(),$p(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xf={focusedElem:t,selectionRange:n},gu=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,E=x.memoizedState,_=e.stateNode,m=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:zn(e.type,w),E);_.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(A){tt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return x=Cx,Cx=!1,x}function Pa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ff(e,n,i)}s=s.next}while(s!==r)}}function Ad(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Bf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hw(t){var e=t.alternate;e!==null&&(t.alternate=null,hw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sr],delete e[tl],delete e[Ef],delete e[ES],delete e[wS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fw(t){return t.tag===5||t.tag===3||t.tag===4}function Tx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vu));else if(r!==4&&(t=t.child,t!==null))for(jf(t,e,n),t=t.sibling;t!==null;)jf(t,e,n),t=t.sibling}function Of(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Of(t,e,n),t=t.sibling;t!==null;)Of(t,e,n),t=t.sibling}var bt=null,qn=!1;function Kr(t,e,n){for(n=n.child;n!==null;)pw(t,e,n),n=n.sibling}function pw(t,e,n){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(md,n)}catch{}switch(n.tag){case 5:zt||Xi(n,e);case 6:var r=bt,s=qn;bt=null,Kr(t,e,n),bt=r,qn=s,bt!==null&&(qn?(t=bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(qn?(t=bt,n=n.stateNode,t.nodeType===8?Vh(t.parentNode,n):t.nodeType===1&&Vh(t,n),Ya(t)):Vh(bt,n.stateNode));break;case 4:r=bt,s=qn,bt=n.stateNode.containerInfo,qn=!0,Kr(t,e,n),bt=r,qn=s;break;case 0:case 11:case 14:case 15:if(!zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ff(n,e,o),s=s.next}while(s!==r)}Kr(t,e,n);break;case 1:if(!zt&&(Xi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tt(n,e,a)}Kr(t,e,n);break;case 21:Kr(t,e,n);break;case 22:n.mode&1?(zt=(r=zt)||n.memoizedState!==null,Kr(t,e,n),zt=r):Kr(t,e,n);break;default:Kr(t,e,n)}}function Sx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new LS),e.forEach(function(r){var s=GS.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Un(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:bt=a.stateNode,qn=!1;break e;case 3:bt=a.stateNode.containerInfo,qn=!0;break e;case 4:bt=a.stateNode.containerInfo,qn=!0;break e}a=a.return}if(bt===null)throw Error(X(160));pw(i,o,s),bt=null,qn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){tt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mw(e,t),e=e.sibling}function mw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Un(e,t),nr(t),r&4){try{Pa(3,t,t.return),Ad(3,t)}catch(w){tt(t,t.return,w)}try{Pa(5,t,t.return)}catch(w){tt(t,t.return,w)}}break;case 1:Un(e,t),nr(t),r&512&&n!==null&&Xi(n,n.return);break;case 5:if(Un(e,t),nr(t),r&512&&n!==null&&Xi(n,n.return),t.flags&32){var s=t.stateNode;try{Wa(s,"")}catch(w){tt(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&O_(s,i),af(a,o);var c=af(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?z_(s,h):d==="dangerouslySetInnerHTML"?M_(s,h):d==="children"?Wa(s,h):Np(s,d,h,c)}switch(a){case"input":tf(s,i);break;case"textarea":L_(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?ro(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?ro(s,!!i.multiple,i.defaultValue,!0):ro(s,!!i.multiple,i.multiple?[]:"",!1))}s[tl]=i}catch(w){tt(t,t.return,w)}}break;case 6:if(Un(e,t),nr(t),r&4){if(t.stateNode===null)throw Error(X(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){tt(t,t.return,w)}}break;case 3:if(Un(e,t),nr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ya(e.containerInfo)}catch(w){tt(t,t.return,w)}break;case 4:Un(e,t),nr(t);break;case 13:Un(e,t),nr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(um=it())),r&4&&Sx(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(zt=(c=zt)||d,Un(e,t),zt=c):Un(e,t),nr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ue=t,d=t.child;d!==null;){for(h=ue=d;ue!==null;){switch(p=ue,v=p.child,p.tag){case 0:case 11:case 14:case 15:Pa(4,p,p.return);break;case 1:Xi(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(w){tt(r,n,w)}}break;case 5:Xi(p,p.return);break;case 22:if(p.memoizedState!==null){bx(h);continue}}v!==null?(v.return=p,ue=v):bx(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=U_("display",o))}catch(w){tt(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){tt(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Un(e,t),nr(t),r&4&&Sx(t);break;case 21:break;default:Un(e,t),nr(t)}}function nr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fw(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Wa(s,""),r.flags&=-33);var i=Tx(t);Of(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Tx(t);jf(t,a,o);break;default:throw Error(X(161))}}catch(l){tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MS(t,e,n){ue=t,gw(t)}function gw(t,e,n){for(var r=(t.mode&1)!==0;ue!==null;){var s=ue,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Rc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||zt;a=Rc;var c=zt;if(Rc=o,(zt=l)&&!c)for(ue=s;ue!==null;)o=ue,l=o.child,o.tag===22&&o.memoizedState!==null?Rx(s):l!==null?(l.return=o,ue=l):Rx(s);for(;i!==null;)ue=i,gw(i),i=i.sibling;ue=s,Rc=a,zt=c}Ix(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ue=i):Ix(t)}}function Ix(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zt||Ad(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:zn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&dx(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}dx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ya(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}zt||e.flags&512&&Bf(e)}catch(p){tt(e,e.return,p)}}if(e===t){ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}}function bx(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ue=n;break}ue=e.return}}function Rx(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ad(4,e)}catch(l){tt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){tt(e,s,l)}}var i=e.return;try{Bf(e)}catch(l){tt(e,i,l)}break;case 5:var o=e.return;try{Bf(e)}catch(l){tt(e,o,l)}}}catch(l){tt(e,e.return,l)}if(e===t){ue=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ue=a;break}ue=e.return}}var US=Math.ceil,ku=Ur.ReactCurrentDispatcher,lm=Ur.ReactCurrentOwner,Fn=Ur.ReactCurrentBatchConfig,Fe=0,Ct=null,ut=null,Nt=0,xn=0,Ji=Ns(0),xt=0,al=null,di=0,Cd=0,cm=0,Fa=null,an=null,um=0,_o=1/0,wr=null,Nu=!1,Lf=null,gs=null,kc=!1,as=null,Du=0,Ba=0,Vf=null,Qc=-1,Yc=0;function Zt(){return Fe&6?it():Qc!==-1?Qc:Qc=it()}function ys(t){return t.mode&1?Fe&2&&Nt!==0?Nt&-Nt:CS.transition!==null?(Yc===0&&(Yc=eE()),Yc):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:aE(t.type)),t):1}function Gn(t,e,n,r){if(50<Ba)throw Ba=0,Vf=null,Error(X(185));Tl(t,n,r),(!(Fe&2)||t!==Ct)&&(t===Ct&&(!(Fe&2)&&(Cd|=n),xt===4&&Zr(t,Nt)),dn(t,r),n===1&&Fe===0&&!(e.mode&1)&&(_o=it()+500,_d&&Ds()))}function dn(t,e){var n=t.callbackNode;CT(t,e);var r=mu(t,t===Ct?Nt:0);if(r===0)n!==null&&Ly(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ly(n),e===1)t.tag===0?AS(kx.bind(null,t)):SE(kx.bind(null,t)),vS(function(){!(Fe&6)&&Ds()}),n=null;else{switch(tE(r)){case 1:n=jp;break;case 4:n=J_;break;case 16:n=pu;break;case 536870912:n=Z_;break;default:n=pu}n=Cw(n,yw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yw(t,e){if(Qc=-1,Yc=0,Fe&6)throw Error(X(327));var n=t.callbackNode;if(lo()&&t.callbackNode!==n)return null;var r=mu(t,t===Ct?Nt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Pu(t,r);else{e=r;var s=Fe;Fe|=2;var i=vw();(Ct!==t||Nt!==e)&&(wr=null,_o=it()+500,ri(t,e));do try{$S();break}catch(a){xw(t,a)}while(!0);Qp(),ku.current=i,Fe=s,ut!==null?e=0:(Ct=null,Nt=0,e=xt)}if(e!==0){if(e===2&&(s=hf(t),s!==0&&(r=s,e=Mf(t,s))),e===1)throw n=al,ri(t,0),Zr(t,r),dn(t,it()),n;if(e===6)Zr(t,r);else{if(s=t.current.alternate,!(r&30)&&!zS(s)&&(e=Pu(t,r),e===2&&(i=hf(t),i!==0&&(r=i,e=Mf(t,i))),e===1))throw n=al,ri(t,0),Zr(t,r),dn(t,it()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:Ys(t,an,wr);break;case 3:if(Zr(t,r),(r&130023424)===r&&(e=um+500-it(),10<e)){if(mu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Zt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=_f(Ys.bind(null,t,an,wr),e);break}Ys(t,an,wr);break;case 4:if(Zr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Kn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*US(r/1960))-r,10<r){t.timeoutHandle=_f(Ys.bind(null,t,an,wr),r);break}Ys(t,an,wr);break;case 5:Ys(t,an,wr);break;default:throw Error(X(329))}}}return dn(t,it()),t.callbackNode===n?yw.bind(null,t):null}function Mf(t,e){var n=Fa;return t.current.memoizedState.isDehydrated&&(ri(t,e).flags|=256),t=Pu(t,e),t!==2&&(e=an,an=n,e!==null&&Uf(e)),t}function Uf(t){an===null?an=t:an.push.apply(an,t)}function zS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Qn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zr(t,e){for(e&=~cm,e&=~Cd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Kn(e),r=1<<n;t[n]=-1,e&=~r}}function kx(t){if(Fe&6)throw Error(X(327));lo();var e=mu(t,0);if(!(e&1))return dn(t,it()),null;var n=Pu(t,e);if(t.tag!==0&&n===2){var r=hf(t);r!==0&&(e=r,n=Mf(t,r))}if(n===1)throw n=al,ri(t,0),Zr(t,e),dn(t,it()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ys(t,an,wr),dn(t,it()),null}function dm(t,e){var n=Fe;Fe|=1;try{return t(e)}finally{Fe=n,Fe===0&&(_o=it()+500,_d&&Ds())}}function hi(t){as!==null&&as.tag===0&&!(Fe&6)&&lo();var e=Fe;Fe|=1;var n=Fn.transition,r=Ve;try{if(Fn.transition=null,Ve=1,t)return t()}finally{Ve=r,Fn.transition=n,Fe=e,!(Fe&6)&&Ds()}}function hm(){xn=Ji.current,We(Ji)}function ri(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xS(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(Wp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_u();break;case 3:xo(),We(cn),We(Wt),tm();break;case 5:em(r);break;case 4:xo();break;case 13:We(Ge);break;case 19:We(Ge);break;case 10:Yp(r.type._context);break;case 22:case 23:hm()}n=n.return}if(Ct=t,ut=t=xs(t.current,null),Nt=xn=e,xt=0,al=null,cm=Cd=di=0,an=Fa=null,Zs!==null){for(e=0;e<Zs.length;e++)if(n=Zs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Zs=null}return t}function xw(t,e){do{var n=ut;try{if(Qp(),Wc.current=Ru,bu){for(var r=Qe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}bu=!1}if(ui=0,wt=yt=Qe=null,Da=!1,sl=0,lm.current=null,n===null||n.return===null){xt=1,al=e,ut=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Nt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=yx(o);if(v!==null){v.flags&=-257,xx(v,o,a,i,e),v.mode&1&&gx(i,c,e),e=v,l=c;var x=e.updateQueue;if(x===null){var w=new Set;w.add(l),e.updateQueue=w}else x.add(l);break e}else{if(!(e&1)){gx(i,c,e),fm();break e}l=Error(X(426))}}else if(Ke&&a.mode&1){var E=yx(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),xx(E,o,a,i,e),Kp(vo(l,a));break e}}i=l=vo(l,a),xt!==4&&(xt=2),Fa===null?Fa=[i]:Fa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=tw(i,l,e);ux(i,_);break e;case 1:a=l;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(gs===null||!gs.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=nw(i,a,e);ux(i,A);break e}}i=i.return}while(i!==null)}Ew(n)}catch(P){e=P,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function vw(){var t=ku.current;return ku.current=Ru,t===null?Ru:t}function fm(){(xt===0||xt===3||xt===2)&&(xt=4),Ct===null||!(di&268435455)&&!(Cd&268435455)||Zr(Ct,Nt)}function Pu(t,e){var n=Fe;Fe|=2;var r=vw();(Ct!==t||Nt!==e)&&(wr=null,ri(t,e));do try{qS();break}catch(s){xw(t,s)}while(!0);if(Qp(),Fe=n,ku.current=r,ut!==null)throw Error(X(261));return Ct=null,Nt=0,xt}function qS(){for(;ut!==null;)_w(ut)}function $S(){for(;ut!==null&&!mT();)_w(ut)}function _w(t){var e=Aw(t.alternate,t,xn);t.memoizedProps=t.pendingProps,e===null?Ew(t):ut=e,lm.current=null}function Ew(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=OS(n,e),n!==null){n.flags&=32767,ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xt=6,ut=null;return}}else if(n=jS(n,e,xn),n!==null){ut=n;return}if(e=e.sibling,e!==null){ut=e;return}ut=e=t}while(e!==null);xt===0&&(xt=5)}function Ys(t,e,n){var r=Ve,s=Fn.transition;try{Fn.transition=null,Ve=1,HS(t,e,n,r)}finally{Fn.transition=s,Ve=r}return null}function HS(t,e,n,r){do lo();while(as!==null);if(Fe&6)throw Error(X(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(TT(t,i),t===Ct&&(ut=Ct=null,Nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kc||(kc=!0,Cw(pu,function(){return lo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Fn.transition,Fn.transition=null;var o=Ve;Ve=1;var a=Fe;Fe|=4,lm.current=null,VS(t,n),mw(n,t),dS(xf),gu=!!yf,xf=yf=null,t.current=n,MS(n),gT(),Fe=a,Ve=o,Fn.transition=i}else t.current=n;if(kc&&(kc=!1,as=t,Du=s),i=t.pendingLanes,i===0&&(gs=null),vT(n.stateNode),dn(t,it()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Nu)throw Nu=!1,t=Lf,Lf=null,t;return Du&1&&t.tag!==0&&lo(),i=t.pendingLanes,i&1?t===Vf?Ba++:(Ba=0,Vf=t):Ba=0,Ds(),null}function lo(){if(as!==null){var t=tE(Du),e=Fn.transition,n=Ve;try{if(Fn.transition=null,Ve=16>t?16:t,as===null)var r=!1;else{if(t=as,as=null,Du=0,Fe&6)throw Error(X(331));var s=Fe;for(Fe|=4,ue=t.current;ue!==null;){var i=ue,o=i.child;if(ue.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ue=c;ue!==null;){var d=ue;switch(d.tag){case 0:case 11:case 15:Pa(8,d,i)}var h=d.child;if(h!==null)h.return=d,ue=h;else for(;ue!==null;){d=ue;var p=d.sibling,v=d.return;if(hw(d),d===c){ue=null;break}if(p!==null){p.return=v,ue=p;break}ue=v}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}ue=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ue=o;else e:for(;ue!==null;){if(i=ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Pa(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,ue=_;break e}ue=i.return}}var m=t.current;for(ue=m;ue!==null;){o=ue;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,ue=y;else e:for(o=m;ue!==null;){if(a=ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ad(9,a)}}catch(P){tt(a,a.return,P)}if(a===o){ue=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,ue=A;break e}ue=a.return}}if(Fe=s,Ds(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(md,t)}catch{}r=!0}return r}finally{Ve=n,Fn.transition=e}}return!1}function Nx(t,e,n){e=vo(n,e),e=tw(t,e,1),t=ms(t,e,1),e=Zt(),t!==null&&(Tl(t,1,e),dn(t,e))}function tt(t,e,n){if(t.tag===3)Nx(t,t,n);else for(;e!==null;){if(e.tag===3){Nx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gs===null||!gs.has(r))){t=vo(n,t),t=nw(e,t,1),e=ms(e,t,1),t=Zt(),e!==null&&(Tl(e,1,t),dn(e,t));break}}e=e.return}}function WS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zt(),t.pingedLanes|=t.suspendedLanes&n,Ct===t&&(Nt&n)===n&&(xt===4||xt===3&&(Nt&130023424)===Nt&&500>it()-um?ri(t,0):cm|=n),dn(t,e)}function ww(t,e){e===0&&(t.mode&1?(e=_c,_c<<=1,!(_c&130023424)&&(_c=4194304)):e=1);var n=Zt();t=Br(t,e),t!==null&&(Tl(t,e,n),dn(t,n))}function KS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ww(t,n)}function GS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),ww(t,n)}var Aw;Aw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cn.current)ln=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ln=!1,BS(t,e,n);ln=!!(t.flags&131072)}else ln=!1,Ke&&e.flags&1048576&&IE(e,Au,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gc(t,e),t=e.pendingProps;var s=mo(e,Wt.current);ao(e,n),s=rm(null,e,r,t,s,n);var i=sm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,un(r)?(i=!0,Eu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Jp(e),s.updater=wd,e.stateNode=s,s._reactInternals=e,If(e,r,t,n),e=kf(null,e,r,!0,i,n)):(e.tag=0,Ke&&i&&Hp(e),Gt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=YS(r),t=zn(r,t),s){case 0:e=Rf(null,e,r,t,n);break e;case 1:e=Ex(null,e,r,t,n);break e;case 11:e=vx(null,e,r,t,n);break e;case 14:e=_x(null,e,r,zn(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zn(r,s),Rf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zn(r,s),Ex(t,e,r,s,n);case 3:e:{if(ow(e),t===null)throw Error(X(387));r=e.pendingProps,i=e.memoizedState,s=i.element,PE(t,e),Su(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=vo(Error(X(423)),e),e=wx(t,e,r,n,s);break e}else if(r!==s){s=vo(Error(X(424)),e),e=wx(t,e,r,n,s);break e}else for(_n=ps(e.stateNode.containerInfo.firstChild),An=e,Ke=!0,$n=null,n=NE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(go(),r===s){e=jr(t,e,n);break e}Gt(t,e,r,n)}e=e.child}return e;case 5:return FE(e),t===null&&Cf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,vf(r,s)?o=null:i!==null&&vf(r,i)&&(e.flags|=32),iw(t,e),Gt(t,e,o,n),e.child;case 6:return t===null&&Cf(e),null;case 13:return aw(t,e,n);case 4:return Zp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=yo(e,null,r,n):Gt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zn(r,s),vx(t,e,r,s,n);case 7:return Gt(t,e,e.pendingProps,n),e.child;case 8:return Gt(t,e,e.pendingProps.children,n),e.child;case 12:return Gt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,qe(Cu,r._currentValue),r._currentValue=o,i!==null)if(Qn(i.value,o)){if(i.children===s.children&&!cn.current){e=jr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=kr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Tf(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(X(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Tf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Gt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ao(e,n),s=jn(s),r=r(s),e.flags|=1,Gt(t,e,r,n),e.child;case 14:return r=e.type,s=zn(r,e.pendingProps),s=zn(r.type,s),_x(t,e,r,s,n);case 15:return rw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:zn(r,s),Gc(t,e),e.tag=1,un(r)?(t=!0,Eu(e)):t=!1,ao(e,n),ew(e,r,s),If(e,r,s,n),kf(null,e,r,!0,t,n);case 19:return lw(t,e,n);case 22:return sw(t,e,n)}throw Error(X(156,e.tag))};function Cw(t,e){return X_(t,e)}function QS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,e,n,r){return new QS(t,e,n,r)}function pm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function YS(t){if(typeof t=="function")return pm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pp)return 11;if(t===Fp)return 14}return 2}function xs(t,e){var n=t.alternate;return n===null?(n=Pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")pm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zi:return si(n.children,s,i,e);case Dp:o=8,s|=8;break;case Y0:return t=Pn(12,n,e,s|2),t.elementType=Y0,t.lanes=i,t;case X0:return t=Pn(13,n,e,s),t.elementType=X0,t.lanes=i,t;case J0:return t=Pn(19,n,e,s),t.elementType=J0,t.lanes=i,t;case F_:return Td(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D_:o=10;break e;case P_:o=9;break e;case Pp:o=11;break e;case Fp:o=14;break e;case Yr:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=Pn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function si(t,e,n,r){return t=Pn(7,t,r,e),t.lanes=n,t}function Td(t,e,n,r){return t=Pn(22,t,r,e),t.elementType=F_,t.lanes=n,t.stateNode={isHidden:!1},t}function Kh(t,e,n){return t=Pn(6,t,null,e),t.lanes=n,t}function Gh(t,e,n){return e=Pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function XS(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bh(0),this.expirationTimes=bh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function mm(t,e,n,r,s,i,o,a,l){return t=new XS(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Pn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jp(i),t}function JS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ui,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Tw(t){if(!t)return Ts;t=t._reactInternals;e:{if(Ai(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(un(n))return TE(t,n,e)}return e}function Sw(t,e,n,r,s,i,o,a,l){return t=mm(n,r,!0,t,s,i,o,a,l),t.context=Tw(null),n=t.current,r=Zt(),s=ys(n),i=kr(r,s),i.callback=e??null,ms(n,i,s),t.current.lanes=s,Tl(t,s,r),dn(t,r),t}function Sd(t,e,n,r){var s=e.current,i=Zt(),o=ys(s);return n=Tw(n),e.context===null?e.context=n:e.pendingContext=n,e=kr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ms(s,e,o),t!==null&&(Gn(t,s,o,i),Hc(t,s,o)),o}function Fu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gm(t,e){Dx(t,e),(t=t.alternate)&&Dx(t,e)}function ZS(){return null}var Iw=typeof reportError=="function"?reportError:function(t){console.error(t)};function ym(t){this._internalRoot=t}Id.prototype.render=ym.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));Sd(t,e,null,null)};Id.prototype.unmount=ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;hi(function(){Sd(null,t,null,null)}),e[Fr]=null}};function Id(t){this._internalRoot=t}Id.prototype.unstable_scheduleHydration=function(t){if(t){var e=sE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Jr.length&&e!==0&&e<Jr[n].priority;n++);Jr.splice(n,0,t),n===0&&oE(t)}};function xm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Px(){}function eI(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Fu(o);i.call(c)}}var o=Sw(e,r,t,0,null,!1,!1,"",Px);return t._reactRootContainer=o,t[Fr]=o.current,Za(t.nodeType===8?t.parentNode:t),hi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Fu(l);a.call(c)}}var l=mm(t,0,!1,null,null,!1,!1,"",Px);return t._reactRootContainer=l,t[Fr]=l.current,Za(t.nodeType===8?t.parentNode:t),hi(function(){Sd(e,l,n,r)}),l}function Rd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Fu(o);a.call(l)}}Sd(e,o,t,s)}else o=eI(n,e,t,s,r);return Fu(o)}nE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=va(e.pendingLanes);n!==0&&(Op(e,n|1),dn(e,it()),!(Fe&6)&&(_o=it()+500,Ds()))}break;case 13:hi(function(){var r=Br(t,1);if(r!==null){var s=Zt();Gn(r,t,1,s)}}),gm(t,1)}};Lp=function(t){if(t.tag===13){var e=Br(t,134217728);if(e!==null){var n=Zt();Gn(e,t,134217728,n)}gm(t,134217728)}};rE=function(t){if(t.tag===13){var e=ys(t),n=Br(t,e);if(n!==null){var r=Zt();Gn(n,t,e,r)}gm(t,e)}};sE=function(){return Ve};iE=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};cf=function(t,e,n){switch(e){case"input":if(tf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=vd(r);if(!s)throw Error(X(90));j_(r),tf(r,s)}}}break;case"textarea":L_(t,n);break;case"select":e=n.value,e!=null&&ro(t,!!n.multiple,e,!1)}};H_=dm;W_=hi;var tI={usingClientEntryPoint:!1,Events:[Il,Wi,vd,q_,$_,dm]},ha={findFiberByHostInstance:Js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nI={bundleType:ha.bundleType,version:ha.version,rendererPackageName:ha.rendererPackageName,rendererConfig:ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Q_(t),t===null?null:t.stateNode},findFiberByHostInstance:ha.findFiberByHostInstance||ZS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{md=Nc.inject(nI),ar=Nc}catch{}}In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tI;In.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xm(e))throw Error(X(200));return JS(t,e,null,n)};In.createRoot=function(t,e){if(!xm(t))throw Error(X(299));var n=!1,r="",s=Iw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=mm(t,1,!1,null,null,n,!1,r,s),t[Fr]=e.current,Za(t.nodeType===8?t.parentNode:t),new ym(e)};In.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=Q_(e),t=t===null?null:t.stateNode,t};In.flushSync=function(t){return hi(t)};In.hydrate=function(t,e,n){if(!bd(e))throw Error(X(200));return Rd(null,t,e,!0,n)};In.hydrateRoot=function(t,e,n){if(!xm(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Iw;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Sw(e,null,t,1,n??null,s,!1,i,o),t[Fr]=e.current,Za(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Id(e)};In.render=function(t,e,n){if(!bd(e))throw Error(X(200));return Rd(null,t,e,!1,n)};In.unmountComponentAtNode=function(t){if(!bd(t))throw Error(X(40));return t._reactRootContainer?(hi(function(){Rd(null,null,t,!1,function(){t._reactRootContainer=null,t[Fr]=null})}),!0):!1};In.unstable_batchedUpdates=dm;In.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bd(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return Rd(t,e,n,!1,r)};In.version="18.3.1-next-f1338f8080-20240426";function bw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bw)}catch(t){console.error(t)}}bw(),b_.exports=In;var rI=b_.exports,Rw,Fx=rI;Rw=Fx.createRoot,Fx.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ll.apply(this,arguments)}var ls;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ls||(ls={}));const Bx="popstate";function sI(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return zf("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Bu(s)}return oI(e,n,null,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iI(){return Math.random().toString(36).substr(2,8)}function jx(t,e){return{usr:t.state,key:t.key,idx:e}}function zf(t,e,n,r){return n===void 0&&(n=null),ll({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Do(e):e,{state:n,key:e&&e.key||r||iI()})}function Bu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Do(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function oI(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ls.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(ll({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=ls.Pop;let E=d(),_=E==null?null:E-c;c=E,l&&l({action:a,location:w.location,delta:_})}function p(E,_){a=ls.Push;let m=zf(w.location,E,_);c=d()+1;let y=jx(m,c),A=w.createHref(m);try{o.pushState(y,"",A)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(A)}i&&l&&l({action:a,location:w.location,delta:1})}function v(E,_){a=ls.Replace;let m=zf(w.location,E,_);c=d();let y=jx(m,c),A=w.createHref(m);o.replaceState(y,"",A),i&&l&&l({action:a,location:w.location,delta:0})}function x(E){let _=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof E=="string"?E:Bu(E);return m=m.replace(/ $/,"%20"),ot(_,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,_)}let w={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Bx,h),l=E,()=>{s.removeEventListener(Bx,h),l=null}},createHref(E){return e(s,E)},createURL:x,encodeLocation(E){let _=x(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:v,go(E){return o.go(E)}};return w}var Ox;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ox||(Ox={}));function aI(t,e,n){return n===void 0&&(n="/"),lI(t,e,n,!1)}function lI(t,e,n,r){let s=typeof e=="string"?Do(e):e,i=vm(s.pathname||"/",n);if(i==null)return null;let o=Nw(t);cI(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=_I(i);a=xI(o[l],c,r)}return a}function Nw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ot(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=vs([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(ot(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Nw(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:gI(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Dw(i.path))s(i,o,l)}),e}function Dw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Dw(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function cI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const uI=/^:[\w-]+$/,dI=3,hI=2,fI=1,pI=10,mI=-2,Lx=t=>t==="*";function gI(t,e){let n=t.split("/"),r=n.length;return n.some(Lx)&&(r+=mI),e&&(r+=hI),n.filter(s=>!Lx(s)).reduce((s,i)=>s+(uI.test(i)?dI:i===""?fI:pI),r)}function yI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function xI(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Vx({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Vx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:vs([i,h.pathname]),pathnameBase:CI(vs([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=vs([i,h.pathnameBase]))}return o}function Vx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vI(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:v}=d;if(p==="*"){let w=a[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const x=a[h];return v&&!x?c[p]=void 0:c[p]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function vI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),kw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function _I(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function EI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Do(t):t;return{pathname:n?n.startsWith("/")?n:wI(n,e):e,search:TI(r),hash:SI(s)}}function wI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Qh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _m(t,e){let n=AI(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Em(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Do(t):(s=ll({},t),ot(!s.pathname||!s.pathname.includes("?"),Qh("?","pathname","search",s)),ot(!s.pathname||!s.pathname.includes("#"),Qh("#","pathname","hash",s)),ot(!s.search||!s.search.includes("#"),Qh("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=EI(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const vs=t=>t.join("/").replace(/\/\/+/g,"/"),CI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,SI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function II(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Pw=["post","put","patch","delete"];new Set(Pw);const bI=["get",...Pw];new Set(bI);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cl.apply(this,arguments)}const wm=L.createContext(null),RI=L.createContext(null),Ps=L.createContext(null),kd=L.createContext(null),Fs=L.createContext({outlet:null,matches:[],isDataRoute:!1}),Fw=L.createContext(null);function kI(t,e){let{relative:n}=e===void 0?{}:e;Po()||ot(!1);let{basename:r,navigator:s}=L.useContext(Ps),{hash:i,pathname:o,search:a}=jw(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:vs([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Po(){return L.useContext(kd)!=null}function Ci(){return Po()||ot(!1),L.useContext(kd).location}function Bw(t){L.useContext(Ps).static||L.useLayoutEffect(t)}function Rl(){let{isDataRoute:t}=L.useContext(Fs);return t?qI():NI()}function NI(){Po()||ot(!1);let t=L.useContext(wm),{basename:e,future:n,navigator:r}=L.useContext(Ps),{matches:s}=L.useContext(Fs),{pathname:i}=Ci(),o=JSON.stringify(_m(s,n.v7_relativeSplatPath)),a=L.useRef(!1);return Bw(()=>{a.current=!0}),L.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Em(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:vs([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function jw(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=L.useContext(Ps),{matches:s}=L.useContext(Fs),{pathname:i}=Ci(),o=JSON.stringify(_m(s,r.v7_relativeSplatPath));return L.useMemo(()=>Em(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function DI(t,e){return PI(t,e)}function PI(t,e,n,r){Po()||ot(!1);let{navigator:s}=L.useContext(Ps),{matches:i}=L.useContext(Fs),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ci(),d;if(e){var h;let E=typeof e=="string"?Do(e):e;l==="/"||(h=E.pathname)!=null&&h.startsWith(l)||ot(!1),d=E}else d=c;let p=d.pathname||"/",v=p;if(l!=="/"){let E=l.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(E.length).join("/")}let x=aI(t,{pathname:v}),w=LI(x&&x.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:vs([l,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:vs([l,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&w?L.createElement(kd.Provider,{value:{location:cl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ls.Pop}},w):w}function FI(){let t=zI(),e=II(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:s},n):null,null)}const BI=L.createElement(FI,null);class jI extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?L.createElement(Fs.Provider,{value:this.props.routeContext},L.createElement(Fw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OI(t){let{routeContext:e,match:n,children:r}=t,s=L.useContext(wm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(Fs.Provider,{value:e},r)}function LI(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||ot(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:v}=n,x=h.route.loader&&p[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||x){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let v,x=!1,w=null,E=null;n&&(v=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||BI,l&&(c<0&&p===0?(x=!0,E=null):c===p&&(x=!0,E=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),m=()=>{let y;return v?y=w:x?y=E:h.route.Component?y=L.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=d,L.createElement(OI,{match:h,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?L.createElement(jI,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:m(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):m()},null)}var Ow=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ow||{}),ju=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ju||{});function VI(t){let e=L.useContext(wm);return e||ot(!1),e}function MI(t){let e=L.useContext(RI);return e||ot(!1),e}function UI(t){let e=L.useContext(Fs);return e||ot(!1),e}function Lw(t){let e=UI(),n=e.matches[e.matches.length-1];return n.route.id||ot(!1),n.route.id}function zI(){var t;let e=L.useContext(Fw),n=MI(ju.UseRouteError),r=Lw(ju.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function qI(){let{router:t}=VI(Ow.UseNavigateStable),e=Lw(ju.UseNavigateStable),n=L.useRef(!1);return Bw(()=>{n.current=!0}),L.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,cl({fromRouteId:e},i)))},[t,e])}function Ss(t){let{to:e,replace:n,state:r,relative:s}=t;Po()||ot(!1);let{future:i,static:o}=L.useContext(Ps),{matches:a}=L.useContext(Fs),{pathname:l}=Ci(),c=Rl(),d=Em(e,_m(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return L.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function et(t){ot(!1)}function $I(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ls.Pop,navigator:i,static:o=!1,future:a}=t;Po()&&ot(!1);let l=e.replace(/^\/*/,"/"),c=L.useMemo(()=>({basename:l,navigator:i,static:o,future:cl({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Do(r));let{pathname:d="/",search:h="",hash:p="",state:v=null,key:x="default"}=r,w=L.useMemo(()=>{let E=vm(d,l);return E==null?null:{location:{pathname:E,search:h,hash:p,state:v,key:x},navigationType:s}},[l,d,h,p,v,x,s]);return w==null?null:L.createElement(Ps.Provider,{value:c},L.createElement(kd.Provider,{children:n,value:w}))}function Am(t){let{children:e,location:n}=t;return DI(qf(e),n)}new Promise(()=>{});function qf(t,e){e===void 0&&(e=[]);let n=[];return L.Children.forEach(t,(r,s)=>{if(!L.isValidElement(r))return;let i=[...e,s];if(r.type===L.Fragment){n.push.apply(n,qf(r.props.children,i));return}r.type!==et&&ot(!1),!r.props.index||!r.props.children||ot(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=qf(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $f(){return $f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$f.apply(this,arguments)}function HI(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function WI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KI(t,e){return t.button===0&&(!e||e==="_self")&&!WI(t)}const GI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],QI="6";try{window.__reactRouterVersion=QI}catch{}const YI="startTransition",Mx=W4[YI];function XI(t){let{basename:e,children:n,future:r,window:s}=t,i=L.useRef();i.current==null&&(i.current=sI({window:s,v5Compat:!0}));let o=i.current,[a,l]=L.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=L.useCallback(h=>{c&&Mx?Mx(()=>l(h)):l(h)},[l,c]);return L.useLayoutEffect(()=>o.listen(d),[o,d]),L.createElement($I,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const JI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vn=L.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,unstable_viewTransition:h}=e,p=HI(e,GI),{basename:v}=L.useContext(Ps),x,w=!1;if(typeof c=="string"&&ZI.test(c)&&(x=c,JI))try{let y=new URL(window.location.href),A=c.startsWith("//")?new URL(y.protocol+c):new URL(c),P=vm(A.pathname,v);A.origin===y.origin&&P!=null?c=P+A.search+A.hash:w=!0}catch{}let E=kI(c,{relative:s}),_=eb(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,unstable_viewTransition:h});function m(y){r&&r(y),y.defaultPrevented||_(y)}return L.createElement("a",$f({},p,{href:x||E,onClick:w||i?r:m,ref:n,target:l}))});var Ux;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ux||(Ux={}));var zx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zx||(zx={}));function eb(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Rl(),c=Ci(),d=jw(t,{relative:o});return L.useCallback(h=>{if(KI(h,n)){h.preventDefault();let p=r!==void 0?r:Bu(c)===Bu(d);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}function Vw(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Vw(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function cs(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Vw(t))&&(r&&(r+=" "),r+=e);return r}const ul=t=>typeof t=="number"&&!isNaN(t),ii=t=>typeof t=="string",En=t=>typeof t=="function",Jc=t=>ii(t)||En(t)?t:null,Hf=t=>L.isValidElement(t)||ii(t)||En(t)||ul(t);function tb(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function Nd(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:s=!0,collapseDuration:i=300}=t;return function(o){let{children:a,position:l,preventExitTransition:c,done:d,nodeRef:h,isIn:p,playToast:v}=o;const x=r?`${e}--${l}`:e,w=r?`${n}--${l}`:n,E=L.useRef(0);return L.useLayoutEffect(()=>{const _=h.current,m=x.split(" "),y=A=>{A.target===h.current&&(v(),_.removeEventListener("animationend",y),_.removeEventListener("animationcancel",y),E.current===0&&A.type!=="animationcancel"&&_.classList.remove(...m))};_.classList.add(...m),_.addEventListener("animationend",y),_.addEventListener("animationcancel",y)},[]),L.useEffect(()=>{const _=h.current,m=()=>{_.removeEventListener("animationend",m),s?tb(_,d,i):d()};p||(c?m():(E.current=1,_.className+=` ${w}`,_.addEventListener("animationend",m)))},[p]),oe.createElement(oe.Fragment,null,a)}}function qx(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const Yt=new Map;let dl=[];const Wf=new Set,nb=t=>Wf.forEach(e=>e(t)),Mw=()=>Yt.size>0;function Uw(t,e){var n;if(e)return!((n=Yt.get(e))==null||!n.isToastActive(t));let r=!1;return Yt.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function zw(t,e){Hf(t)&&(Mw()||dl.push({content:t,options:e}),Yt.forEach(n=>{n.buildToast(t,e)}))}function $x(t,e){Yt.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function rb(t){const{subscribe:e,getSnapshot:n,setProps:r}=L.useRef(function(i){const o=i.containerId||1;return{subscribe(a){const l=function(d,h,p){let v=1,x=0,w=[],E=[],_=[],m=h;const y=new Map,A=new Set,P=()=>{_=Array.from(y.values()),A.forEach(T=>T())},F=T=>{E=T==null?[]:E.filter(R=>R!==T),P()},I=T=>{const{toastId:R,onOpen:S,updateId:k,children:N}=T.props,b=k==null;T.staleId&&y.delete(T.staleId),y.set(R,T),E=[...E,T.props.toastId].filter(G=>G!==T.staleId),P(),p(qx(T,b?"added":"updated")),b&&En(S)&&S(L.isValidElement(N)&&N.props)};return{id:d,props:m,observe:T=>(A.add(T),()=>A.delete(T)),toggle:(T,R)=>{y.forEach(S=>{R!=null&&R!==S.props.toastId||En(S.toggle)&&S.toggle(T)})},removeToast:F,toasts:y,clearQueue:()=>{x-=w.length,w=[]},buildToast:(T,R)=>{if((M=>{let{containerId:$,toastId:H,updateId:xe}=M;const me=$?$!==d:d!==1,Pe=y.has(H)&&xe==null;return me||Pe})(R))return;const{toastId:S,updateId:k,data:N,staleId:b,delay:G}=R,ee=()=>{F(S)},re=k==null;re&&x++;const le={...m,style:m.toastStyle,key:v++,...Object.fromEntries(Object.entries(R).filter(M=>{let[$,H]=M;return H!=null})),toastId:S,updateId:k,data:N,closeToast:ee,isIn:!1,className:Jc(R.className||m.toastClassName),bodyClassName:Jc(R.bodyClassName||m.bodyClassName),progressClassName:Jc(R.progressClassName||m.progressClassName),autoClose:!R.isLoading&&(W=R.autoClose,Z=m.autoClose,W===!1||ul(W)&&W>0?W:Z),deleteToast(){const M=y.get(S),{onClose:$,children:H}=M.props;En($)&&$(L.isValidElement(H)&&H.props),p(qx(M,"removed")),y.delete(S),x--,x<0&&(x=0),w.length>0?I(w.shift()):P()}};var W,Z;le.closeButton=m.closeButton,R.closeButton===!1||Hf(R.closeButton)?le.closeButton=R.closeButton:R.closeButton===!0&&(le.closeButton=!Hf(m.closeButton)||m.closeButton);let te=T;L.isValidElement(T)&&!ii(T.type)?te=L.cloneElement(T,{closeToast:ee,toastProps:le,data:N}):En(T)&&(te=T({closeToast:ee,toastProps:le,data:N}));const V={content:te,props:le,staleId:b};m.limit&&m.limit>0&&x>m.limit&&re?w.push(V):ul(G)?setTimeout(()=>{I(V)},G):I(V)},setProps(T){m=T},setToggle:(T,R)=>{y.get(T).toggle=R},isToastActive:T=>E.some(R=>R===T),getSnapshot:()=>m.newestOnTop?_.reverse():_}}(o,i,nb);Yt.set(o,l);const c=l.observe(a);return dl.forEach(d=>zw(d.content,d.options)),dl=[],()=>{c(),Yt.delete(o)}},setProps(a){var l;(l=Yt.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=Yt.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const s=L.useSyncExternalStore(e,n,n);return{getToastToRender:function(i){if(!s)return[];const o=new Map;return s.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>i(a[0],a[1]))},isToastActive:Uw,count:s==null?void 0:s.length}}function sb(t){const[e,n]=L.useState(!1),[r,s]=L.useState(!1),i=L.useRef(null),o=L.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:d,closeOnClick:h}=t;var p,v;function x(){n(!0)}function w(){n(!1)}function E(y){const A=i.current;o.canDrag&&A&&(o.didMove=!0,e&&w(),o.delta=t.draggableDirection==="x"?y.clientX-o.start:y.clientY-o.start,o.start!==y.clientX&&(o.canCloseOnClick=!1),A.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,A.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function _(){document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",_);const y=i.current;if(o.canDrag&&o.didMove&&y){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return s(!0),t.closeToast(),void t.collapseAll();y.style.transition="transform 0.2s, opacity 0.2s",y.style.removeProperty("transform"),y.style.removeProperty("opacity")}}(v=Yt.get((p={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||v.setToggle(p.id,p.fn),L.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||w(),window.addEventListener("focus",x),window.addEventListener("blur",w),()=>{window.removeEventListener("focus",x),window.removeEventListener("blur",w)}},[t.pauseOnFocusLoss]);const m={onPointerDown:function(y){if(t.draggable===!0||t.draggable===y.pointerType){o.didMove=!1,document.addEventListener("pointermove",E),document.addEventListener("pointerup",_);const A=i.current;o.canCloseOnClick=!0,o.canDrag=!0,A.style.transition="none",t.draggableDirection==="x"?(o.start=y.clientX,o.removalDistance=A.offsetWidth*(t.draggablePercent/100)):(o.start=y.clientY,o.removalDistance=A.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(y){const{top:A,bottom:P,left:F,right:I}=i.current.getBoundingClientRect();y.nativeEvent.type!=="touchend"&&t.pauseOnHover&&y.clientX>=F&&y.clientX<=I&&y.clientY>=A&&y.clientY<=P?w():x()}};return a&&l&&(m.onMouseEnter=w,t.stacked||(m.onMouseLeave=x)),h&&(m.onClick=y=>{d&&d(y),o.canCloseOnClick&&c()}),{playToast:x,pauseToast:w,isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:m}}function ib(t){let{delay:e,isRunning:n,closeToast:r,type:s="default",hide:i,className:o,style:a,controlledProgress:l,progress:c,rtl:d,isIn:h,theme:p}=t;const v=i||l&&c===0,x={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(x.transform=`scaleX(${c})`);const w=cs("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":d}),E=En(o)?o({rtl:d,type:s,defaultClassName:w}):cs(w,o),_={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{h&&r()}};return oe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":v},oe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${s}`}),oe.createElement("div",{role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:E,style:x,..._}))}let ob=1;const qw=()=>""+ob++;function ab(t){return t&&(ii(t.toastId)||ul(t.toastId))?t.toastId:qw()}function ja(t,e){return zw(t,e),e.toastId}function Ou(t,e){return{...e,type:e&&e.type||t,toastId:ab(e)}}function Dc(t){return(e,n)=>ja(e,Ou(t,n))}function ce(t,e){return ja(t,Ou("default",e))}ce.loading=(t,e)=>ja(t,Ou("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),ce.promise=function(t,e,n){let r,{pending:s,error:i,success:o}=e;s&&(r=ii(s)?ce.loading(s,n):ce.loading(s.render,{...n,...s}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,h,p)=>{if(h==null)return void ce.dismiss(r);const v={type:d,...a,...n,data:p},x=ii(h)?{render:h}:h;return r?ce.update(r,{...v,...x}):ce(x.render,{...v,...x}),p},c=En(t)?t():t;return c.then(d=>l("success",o,d)).catch(d=>l("error",i,d)),c},ce.success=Dc("success"),ce.info=Dc("info"),ce.error=Dc("error"),ce.warning=Dc("warning"),ce.warn=ce.warning,ce.dark=(t,e)=>ja(t,Ou("default",{theme:"dark",...e})),ce.dismiss=function(t){(function(e){var n;if(Mw()){if(e==null||ii(n=e)||ul(n))Yt.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=Yt.get(e.containerId);r?r.removeToast(e.id):Yt.forEach(s=>{s.removeToast(e.id)})}}else dl=dl.filter(r=>e!=null&&r.options.toastId!==e)})(t)},ce.clearWaitingQueue=function(t){t===void 0&&(t={}),Yt.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},ce.isActive=Uw,ce.update=function(t,e){e===void 0&&(e={});const n=((r,s)=>{var i;let{containerId:o}=s;return(i=Yt.get(o||1))==null?void 0:i.toasts.get(r)})(t,e);if(n){const{props:r,content:s}=n,i={delay:100,...r,...e,toastId:e.toastId||t,updateId:qw()};i.toastId!==t&&(i.staleId=t);const o=i.render||s;delete i.render,ja(o,i)}},ce.done=t=>{ce.update(t,{progress:1})},ce.onChange=function(t){return Wf.add(t),()=>{Wf.delete(t)}},ce.play=t=>$x(!0,t),ce.pause=t=>$x(!1,t);const lb=typeof window<"u"?L.useLayoutEffect:L.useEffect,Pc=t=>{let{theme:e,type:n,isLoading:r,...s}=t;return oe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...s})},Yh={info:function(t){return oe.createElement(Pc,{...t},oe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return oe.createElement(Pc,{...t},oe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return oe.createElement(Pc,{...t},oe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return oe.createElement(Pc,{...t},oe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return oe.createElement("div",{className:"Toastify__spinner"})}},cb=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:i}=sb(t),{closeButton:o,children:a,autoClose:l,onClick:c,type:d,hideProgressBar:h,closeToast:p,transition:v,position:x,className:w,style:E,bodyClassName:_,bodyStyle:m,progressClassName:y,progressStyle:A,updateId:P,role:F,progress:I,rtl:T,toastId:R,deleteToast:S,isIn:k,isLoading:N,closeOnClick:b,theme:G}=t,ee=cs("Toastify__toast",`Toastify__toast-theme--${G}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":b}),re=En(w)?w({rtl:T,position:x,type:d,defaultClassName:ee}):cs(ee,w),le=function(V){let{theme:M,type:$,isLoading:H,icon:xe}=V,me=null;const Pe={theme:M,type:$};return xe===!1||(En(xe)?me=xe({...Pe,isLoading:H}):L.isValidElement(xe)?me=L.cloneElement(xe,Pe):H?me=Yh.spinner():(ve=>ve in Yh)($)&&(me=Yh[$](Pe))),me}(t),W=!!I||!l,Z={closeToast:p,type:d,theme:G};let te=null;return o===!1||(te=En(o)?o(Z):L.isValidElement(o)?L.cloneElement(o,Z):function(V){let{closeToast:M,theme:$,ariaLabel:H="close"}=V;return oe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${$}`,type:"button",onClick:xe=>{xe.stopPropagation(),M(xe)},"aria-label":H},oe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},oe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Z)),oe.createElement(v,{isIn:k,done:S,position:x,preventExitTransition:n,nodeRef:r,playToast:i},oe.createElement("div",{id:R,onClick:c,"data-in":k,className:re,...s,style:E,ref:r},oe.createElement("div",{...k&&{role:F},className:En(_)?_({type:d}):cs("Toastify__toast-body",_),style:m},le!=null&&oe.createElement("div",{className:cs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},le),oe.createElement("div",null,a)),te,oe.createElement(ib,{...P&&!W?{key:`pb-${P}`}:{},rtl:T,theme:G,delay:l,isRunning:e,isIn:k,closeToast:p,hide:h,type:d,style:A,className:y,controlledProgress:W,progress:I||0})))},Dd=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},ub=Nd(Dd("bounce",!0));Nd(Dd("slide",!0));Nd(Dd("zoom"));Nd(Dd("flip"));const db={position:"top-right",transition:ub,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function hb(t){let e={...db,...t};const n=t.stacked,[r,s]=L.useState(!0),i=L.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=rb(e),{className:c,style:d,rtl:h,containerId:p}=e;function v(w){const E=cs("Toastify__toast-container",`Toastify__toast-container--${w}`,{"Toastify__toast-container--rtl":h});return En(c)?c({position:w,rtl:h,defaultClassName:E}):cs(E,Jc(c))}function x(){n&&(s(!0),ce.play())}return lb(()=>{if(n){var w;const E=i.current.querySelectorAll('[data-in="true"]'),_=12,m=(w=e.position)==null?void 0:w.includes("top");let y=0,A=0;Array.from(E).reverse().forEach((P,F)=>{const I=P;I.classList.add("Toastify__toast--stacked"),F>0&&(I.dataset.collapsed=`${r}`),I.dataset.pos||(I.dataset.pos=m?"top":"bot");const T=y*(r?.2:1)+(r?0:_*F);I.style.setProperty("--y",`${m?T:-1*T}px`),I.style.setProperty("--g",`${_}`),I.style.setProperty("--s",""+(1-(r?A:0))),y+=I.offsetHeight,A+=.025})}},[r,l,n]),oe.createElement("div",{ref:i,className:"Toastify",id:p,onMouseEnter:()=>{n&&(s(!1),ce.pause())},onMouseLeave:x},o((w,E)=>{const _=E.length?{...d}:{...d,pointerEvents:"none"};return oe.createElement("div",{className:v(w),style:_,key:`container-${w}`},E.map(m=>{let{content:y,props:A}=m;return oe.createElement(cb,{...A,stacked:n,collapseAll:x,isIn:a(A.toastId,A.containerId),style:A.style,key:`toast-${A.key}`},y)}))}))}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Le=(t,e)=>{const n=L.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>L.createElement("svg",{ref:d,...fb,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${pb(t)}`,a].join(" "),...c},[...e.map(([h,p])=>L.createElement(h,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=Le("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=Le("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=Le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=Le("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=Le("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=Le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=Le("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=Le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=Le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=Le("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=Le("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=Le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=Le("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=Le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=Le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=Le("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=Le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=Le("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=Le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=Le("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=Le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=Le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=Le("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=Le("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=Le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=Le("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=Le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=Le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=Le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=Le("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Pd=()=>f.jsx("nav",{className:"bg-white bg-opacity-90 shadow-md fixed top-0 left-0 right-0 z-50",children:f.jsx("div",{className:"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between h-16",children:[f.jsxs("div",{className:"flex-shrink-0 flex items-center",children:[f.jsx(Hw,{className:"h-8 w-8 text-indigo-600"}),f.jsx(vn,{to:"/",className:"ml-2 text-xl font-bold text-gray-800 hover:text-indigo-600",children:"CryptoPing"})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx(vn,{to:"/login",className:"text-gray-800 hover:bg-gray-200 px-3 py-2 rounded-md text-sm font-medium",children:"Login"}),f.jsx(vn,{to:"/signup",className:"ml-4 bg-indigo-600 text-white hover:bg-indigo-700 px-4 py-2 rounded-md text-sm font-medium",children:"Sign Up"})]})]})})}),kb=()=>f.jsx("div",{className:"pt-24 pb-16 flex-grow flex items-center",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex flex-col lg:flex-row items-center",children:[f.jsxs("div",{className:"lg:w-1/2 lg:pr-12 mb-12 lg:mb-0",children:[f.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold mb-6 text-white leading-tight",children:"Welcome to CryptoPing"}),f.jsx("p",{className:"text-xl sm:text-2xl mb-8 text-white opacity-90",children:"Your all-in-one solution for tracking, analyzing, and buying cryptocurrency. Get real-time market data, advanced analytics, and personalized insights to stay ahead in the crypto world."}),f.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[f.jsxs(vn,{to:"/signup",className:"bg-white text-indigo-600 hover:bg-gray-100 px-8 py-3 rounded-full text-lg font-semibold transition duration-300 flex items-center justify-center",children:["Get Started",f.jsx($w,{className:"ml-2",size:20})]}),f.jsx(vn,{to:"/login",className:"border-2 border-white text-white hover:bg-white hover:text-indigo-600 px-8 py-3 rounded-full text-lg font-semibold transition duration-300 flex items-center justify-center",children:"Log In"})]})]}),f.jsx("div",{className:"lg:w-1/2",children:f.jsx("img",{src:"https://images.prismic.io/yellowcard-website/29843a43-2214-45e6-a87f-6af5076121fc_Desktop+mockup+-+Crypto.png?auto=compress,format",alt:"CryptoTracker Ping Dashboard",className:"rounded-lg shadow-2xl w-full"})})]})})});function Yw(t,e){return function(){return t.apply(e,arguments)}}const{toString:Nb}=Object.prototype,{getPrototypeOf:Tm}=Object,Fd=(t=>e=>{const n=Nb.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Zn=t=>(t=t.toLowerCase(),e=>Fd(e)===t),Bd=t=>e=>typeof e===t,{isArray:Bo}=Array,fl=Bd("undefined");function Db(t){return t!==null&&!fl(t)&&t.constructor!==null&&!fl(t.constructor)&&Cn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Xw=Zn("ArrayBuffer");function Pb(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Xw(t.buffer),e}const Fb=Bd("string"),Cn=Bd("function"),Jw=Bd("number"),jd=t=>t!==null&&typeof t=="object",Bb=t=>t===!0||t===!1,Zc=t=>{if(Fd(t)!=="object")return!1;const e=Tm(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},jb=Zn("Date"),Ob=Zn("File"),Lb=Zn("Blob"),Vb=Zn("FileList"),Mb=t=>jd(t)&&Cn(t.pipe),Ub=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Cn(t.append)&&((e=Fd(t))==="formdata"||e==="object"&&Cn(t.toString)&&t.toString()==="[object FormData]"))},zb=Zn("URLSearchParams"),[qb,$b,Hb,Wb]=["ReadableStream","Request","Response","Headers"].map(Zn),Kb=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function kl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Bo(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function Zw(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const ti=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,e2=t=>!fl(t)&&t!==ti;function Kf(){const{caseless:t}=e2(this)&&this||{},e={},n=(r,s)=>{const i=t&&Zw(e,s)||s;Zc(e[i])&&Zc(r)?e[i]=Kf(e[i],r):Zc(r)?e[i]=Kf({},r):Bo(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&kl(arguments[r],n);return e}const Gb=(t,e,n,{allOwnKeys:r}={})=>(kl(e,(s,i)=>{n&&Cn(s)?t[i]=Yw(s,n):t[i]=s},{allOwnKeys:r}),t),Qb=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Yb=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Xb=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Tm(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Jb=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Zb=t=>{if(!t)return null;if(Bo(t))return t;let e=t.length;if(!Jw(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},eR=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Tm(Uint8Array)),tR=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},nR=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},rR=Zn("HTMLFormElement"),sR=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Kx=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),iR=Zn("RegExp"),t2=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};kl(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},oR=t=>{t2(t,(e,n)=>{if(Cn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Cn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},aR=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Bo(t)?r(t):r(String(t).split(e)),n},lR=()=>{},cR=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Xh="abcdefghijklmnopqrstuvwxyz",Gx="0123456789",n2={DIGIT:Gx,ALPHA:Xh,ALPHA_DIGIT:Xh+Xh.toUpperCase()+Gx},uR=(t=16,e=n2.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function dR(t){return!!(t&&Cn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const hR=t=>{const e=new Array(10),n=(r,s)=>{if(jd(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Bo(r)?[]:{};return kl(r,(o,a)=>{const l=n(o,s+1);!fl(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},fR=Zn("AsyncFunction"),pR=t=>t&&(jd(t)||Cn(t))&&Cn(t.then)&&Cn(t.catch),r2=((t,e)=>t?setImmediate:e?((n,r)=>(ti.addEventListener("message",({source:s,data:i})=>{s===ti&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),ti.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Cn(ti.postMessage)),mR=typeof queueMicrotask<"u"?queueMicrotask.bind(ti):typeof process<"u"&&process.nextTick||r2,z={isArray:Bo,isArrayBuffer:Xw,isBuffer:Db,isFormData:Ub,isArrayBufferView:Pb,isString:Fb,isNumber:Jw,isBoolean:Bb,isObject:jd,isPlainObject:Zc,isReadableStream:qb,isRequest:$b,isResponse:Hb,isHeaders:Wb,isUndefined:fl,isDate:jb,isFile:Ob,isBlob:Lb,isRegExp:iR,isFunction:Cn,isStream:Mb,isURLSearchParams:zb,isTypedArray:eR,isFileList:Vb,forEach:kl,merge:Kf,extend:Gb,trim:Kb,stripBOM:Qb,inherits:Yb,toFlatObject:Xb,kindOf:Fd,kindOfTest:Zn,endsWith:Jb,toArray:Zb,forEachEntry:tR,matchAll:nR,isHTMLForm:rR,hasOwnProperty:Kx,hasOwnProp:Kx,reduceDescriptors:t2,freezeMethods:oR,toObjectSet:aR,toCamelCase:sR,noop:lR,toFiniteNumber:cR,findKey:Zw,global:ti,isContextDefined:e2,ALPHABET:n2,generateString:uR,isSpecCompliantForm:dR,toJSONObject:hR,isAsyncFn:fR,isThenable:pR,setImmediate:r2,asap:mR};function we(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}z.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const s2=we.prototype,i2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{i2[t]={value:t}});Object.defineProperties(we,i2);Object.defineProperty(s2,"isAxiosError",{value:!0});we.from=(t,e,n,r,s,i)=>{const o=Object.create(s2);return z.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),we.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const gR=null;function Gf(t){return z.isPlainObject(t)||z.isArray(t)}function o2(t){return z.endsWith(t,"[]")?t.slice(0,-2):t}function Qx(t,e,n){return t?t.concat(e).map(function(s,i){return s=o2(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function yR(t){return z.isArray(t)&&!t.some(Gf)}const xR=z.toFlatObject(z,{},null,function(e){return/^is[A-Z]/.test(e)});function Od(t,e,n){if(!z.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,E){return!z.isUndefined(E[w])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(e);if(!z.isFunction(s))throw new TypeError("visitor must be a function");function c(x){if(x===null)return"";if(z.isDate(x))return x.toISOString();if(!l&&z.isBlob(x))throw new we("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(x)||z.isTypedArray(x)?l&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,w,E){let _=x;if(x&&!E&&typeof x=="object"){if(z.endsWith(w,"{}"))w=r?w:w.slice(0,-2),x=JSON.stringify(x);else if(z.isArray(x)&&yR(x)||(z.isFileList(x)||z.endsWith(w,"[]"))&&(_=z.toArray(x)))return w=o2(w),_.forEach(function(y,A){!(z.isUndefined(y)||y===null)&&e.append(o===!0?Qx([w],A,i):o===null?w:w+"[]",c(y))}),!1}return Gf(x)?!0:(e.append(Qx(E,w,i),c(x)),!1)}const h=[],p=Object.assign(xR,{defaultVisitor:d,convertValue:c,isVisitable:Gf});function v(x,w){if(!z.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+w.join("."));h.push(x),z.forEach(x,function(_,m){(!(z.isUndefined(_)||_===null)&&s.call(e,_,z.isString(m)?m.trim():m,w,p))===!0&&v(_,w?w.concat(m):[m])}),h.pop()}}if(!z.isObject(t))throw new TypeError("data must be an object");return v(t),e}function Yx(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Sm(t,e){this._pairs=[],t&&Od(t,this,e)}const a2=Sm.prototype;a2.append=function(e,n){this._pairs.push([e,n])};a2.toString=function(e){const n=e?function(r){return e.call(this,r,Yx)}:Yx;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function vR(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function l2(t,e,n){if(!e)return t;const r=n&&n.encode||vR,s=n&&n.serialize;let i;if(s?i=s(e,n):i=z.isURLSearchParams(e)?e.toString():new Sm(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Xx{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){z.forEach(this.handlers,function(r){r!==null&&e(r)})}}const c2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_R=typeof URLSearchParams<"u"?URLSearchParams:Sm,ER=typeof FormData<"u"?FormData:null,wR=typeof Blob<"u"?Blob:null,AR={isBrowser:!0,classes:{URLSearchParams:_R,FormData:ER,Blob:wR},protocols:["http","https","file","blob","url","data"]},Im=typeof window<"u"&&typeof document<"u",Qf=typeof navigator=="object"&&navigator||void 0,CR=Im&&(!Qf||["ReactNative","NativeScript","NS"].indexOf(Qf.product)<0),TR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",SR=Im&&window.location.href||"http://localhost",IR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Im,hasStandardBrowserEnv:CR,hasStandardBrowserWebWorkerEnv:TR,navigator:Qf,origin:SR},Symbol.toStringTag,{value:"Module"})),hn={...IR,...AR};function bR(t,e){return Od(t,new hn.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return hn.isNode&&z.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function RR(t){return z.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function kR(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function u2(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&z.isArray(s)?s.length:o,l?(z.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!z.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&z.isArray(s[o])&&(s[o]=kR(s[o])),!a)}if(z.isFormData(t)&&z.isFunction(t.entries)){const n={};return z.forEachEntry(t,(r,s)=>{e(RR(r),s,n,0)}),n}return null}function NR(t,e,n){if(z.isString(t))try{return(e||JSON.parse)(t),z.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const Nl={transitional:c2,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=z.isObject(e);if(i&&z.isHTMLForm(e)&&(e=new FormData(e)),z.isFormData(e))return s?JSON.stringify(u2(e)):e;if(z.isArrayBuffer(e)||z.isBuffer(e)||z.isStream(e)||z.isFile(e)||z.isBlob(e)||z.isReadableStream(e))return e;if(z.isArrayBufferView(e))return e.buffer;if(z.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return bR(e,this.formSerializer).toString();if((a=z.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Od(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),NR(e)):e}],transformResponse:[function(e){const n=this.transitional||Nl.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(z.isResponse(e)||z.isReadableStream(e))return e;if(e&&z.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?we.from(a,we.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hn.classes.FormData,Blob:hn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],t=>{Nl.headers[t]={}});const DR=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),PR=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&DR[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Jx=Symbol("internals");function fa(t){return t&&String(t).trim().toLowerCase()}function eu(t){return t===!1||t==null?t:z.isArray(t)?t.map(eu):String(t)}function FR(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const BR=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Jh(t,e,n,r,s){if(z.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!z.isString(e)){if(z.isString(r))return e.indexOf(r)!==-1;if(z.isRegExp(r))return r.test(e)}}function jR(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function OR(t,e){const n=z.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class fn{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,c){const d=fa(l);if(!d)throw new Error("header name must be a non-empty string");const h=z.findKey(s,d);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||l]=eu(a))}const o=(a,l)=>z.forEach(a,(c,d)=>i(c,d,l));if(z.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(z.isString(e)&&(e=e.trim())&&!BR(e))o(PR(e),n);else if(z.isHeaders(e))for(const[a,l]of e.entries())i(l,a,r);else e!=null&&i(n,e,r);return this}get(e,n){if(e=fa(e),e){const r=z.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return FR(s);if(z.isFunction(n))return n.call(this,s,r);if(z.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=fa(e),e){const r=z.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Jh(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=fa(o),o){const a=z.findKey(r,o);a&&(!n||Jh(r,r[a],a,n))&&(delete r[a],s=!0)}}return z.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||Jh(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return z.forEach(this,(s,i)=>{const o=z.findKey(r,i);if(o){n[o]=eu(s),delete n[i];return}const a=e?jR(i):String(i).trim();a!==i&&delete n[i],n[a]=eu(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return z.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&z.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Jx]=this[Jx]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=fa(o);r[a]||(OR(s,o),r[a]=!0)}return z.isArray(e)?e.forEach(i):i(e),this}}fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(fn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});z.freezeMethods(fn);function Zh(t,e){const n=this||Nl,r=e||n,s=fn.from(r.headers);let i=r.data;return z.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function d2(t){return!!(t&&t.__CANCEL__)}function jo(t,e,n){we.call(this,t??"canceled",we.ERR_CANCELED,e,n),this.name="CanceledError"}z.inherits(jo,we,{__CANCEL__:!0});function h2(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new we("Request failed with status code "+n.status,[we.ERR_BAD_REQUEST,we.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function LR(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function VR(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=r[i];o||(o=c),n[s]=l,r[s]=c;let h=i,p=0;for(;h!==s;)p+=n[h++],h=h%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const v=d&&c-d;return v?Math.round(p*1e3/v):void 0}}function MR(t,e){let n=0,r=1e3/e,s,i;const o=(c,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),t.apply(null,c)};return[(...c)=>{const d=Date.now(),h=d-n;h>=r?o(c,d):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},r-h)))},()=>s&&o(s)]}const Mu=(t,e,n=3)=>{let r=0;const s=VR(50,250);return MR(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,c=s(l),d=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},Zx=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},ev=t=>(...e)=>z.asap(()=>t(...e)),UR=hn.hasStandardBrowserEnv?function(){const e=hn.navigator&&/(msie|trident)/i.test(hn.navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=z.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),zR=hn.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];z.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),z.isString(r)&&o.push("path="+r),z.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function qR(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function $R(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function f2(t,e){return t&&!qR(e)?$R(t,e):e}const tv=t=>t instanceof fn?{...t}:t;function fi(t,e){e=e||{};const n={};function r(c,d,h){return z.isPlainObject(c)&&z.isPlainObject(d)?z.merge.call({caseless:h},c,d):z.isPlainObject(d)?z.merge({},d):z.isArray(d)?d.slice():d}function s(c,d,h){if(z.isUndefined(d)){if(!z.isUndefined(c))return r(void 0,c,h)}else return r(c,d,h)}function i(c,d){if(!z.isUndefined(d))return r(void 0,d)}function o(c,d){if(z.isUndefined(d)){if(!z.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,h){if(h in e)return r(c,d);if(h in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d)=>s(tv(c),tv(d),!0)};return z.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=l[d]||s,p=h(t[d],e[d],d);z.isUndefined(p)&&h!==a||(n[d]=p)}),n}const p2=t=>{const e=fi({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=fn.from(o),e.url=l2(f2(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(z.isFormData(n)){if(hn.hasStandardBrowserEnv||hn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if(hn.hasStandardBrowserEnv&&(r&&z.isFunction(r)&&(r=r(e)),r||r!==!1&&UR(e.url))){const c=s&&i&&zR.read(i);c&&o.set(s,c)}return e},HR=typeof XMLHttpRequest<"u",WR=HR&&function(t){return new Promise(function(n,r){const s=p2(t);let i=s.data;const o=fn.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,d,h,p,v,x;function w(){v&&v(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let E=new XMLHttpRequest;E.open(s.method.toUpperCase(),s.url,!0),E.timeout=s.timeout;function _(){if(!E)return;const y=fn.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),P={data:!a||a==="text"||a==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:y,config:t,request:E};h2(function(I){n(I),w()},function(I){r(I),w()},P),E=null}"onloadend"in E?E.onloadend=_:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(_)},E.onabort=function(){E&&(r(new we("Request aborted",we.ECONNABORTED,t,E)),E=null)},E.onerror=function(){r(new we("Network Error",we.ERR_NETWORK,t,E)),E=null},E.ontimeout=function(){let A=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const P=s.transitional||c2;s.timeoutErrorMessage&&(A=s.timeoutErrorMessage),r(new we(A,P.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,t,E)),E=null},i===void 0&&o.setContentType(null),"setRequestHeader"in E&&z.forEach(o.toJSON(),function(A,P){E.setRequestHeader(P,A)}),z.isUndefined(s.withCredentials)||(E.withCredentials=!!s.withCredentials),a&&a!=="json"&&(E.responseType=s.responseType),c&&([p,x]=Mu(c,!0),E.addEventListener("progress",p)),l&&E.upload&&([h,v]=Mu(l),E.upload.addEventListener("progress",h),E.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(d=y=>{E&&(r(!y||y.type?new jo(null,t,E):y),E.abort(),E=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const m=LR(s.url);if(m&&hn.protocols.indexOf(m)===-1){r(new we("Unsupported protocol "+m+":",we.ERR_BAD_REQUEST,t));return}E.send(i||null)})},KR=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(c){if(!s){s=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof we?d:new jo(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,i(new we(`timeout ${e} of ms exceeded`,we.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>z.asap(a),l}},GR=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},QR=async function*(t,e){for await(const n of YR(t))yield*GR(n,e)},YR=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},nv=(t,e,n,r)=>{const s=QR(t,e);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await s.next();if(c){a(),l.close();return}let h=d.byteLength;if(n){let p=i+=h;n(p)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},Ld=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",m2=Ld&&typeof ReadableStream=="function",XR=Ld&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),g2=(t,...e)=>{try{return!!t(...e)}catch{return!1}},JR=m2&&g2(()=>{let t=!1;const e=new Request(hn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),rv=64*1024,Yf=m2&&g2(()=>z.isReadableStream(new Response("").body)),Uu={stream:Yf&&(t=>t.body)};Ld&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Uu[e]&&(Uu[e]=z.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new we(`Response type '${e}' is not supported`,we.ERR_NOT_SUPPORT,r)})})})(new Response);const ZR=async t=>{if(t==null)return 0;if(z.isBlob(t))return t.size;if(z.isSpecCompliantForm(t))return(await new Request(hn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(z.isArrayBufferView(t)||z.isArrayBuffer(t))return t.byteLength;if(z.isURLSearchParams(t)&&(t=t+""),z.isString(t))return(await XR(t)).byteLength},ek=async(t,e)=>{const n=z.toFiniteNumber(t.getContentLength());return n??ZR(e)},tk=Ld&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:h="same-origin",fetchOptions:p}=p2(t);c=c?(c+"").toLowerCase():"text";let v=KR([s,i&&i.toAbortSignal()],o),x;const w=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let E;try{if(l&&JR&&n!=="get"&&n!=="head"&&(E=await ek(d,r))!==0){let P=new Request(e,{method:"POST",body:r,duplex:"half"}),F;if(z.isFormData(r)&&(F=P.headers.get("content-type"))&&d.setContentType(F),P.body){const[I,T]=Zx(E,Mu(ev(l)));r=nv(P.body,rv,I,T)}}z.isString(h)||(h=h?"include":"omit");const _="credentials"in Request.prototype;x=new Request(e,{...p,signal:v,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:_?h:void 0});let m=await fetch(x);const y=Yf&&(c==="stream"||c==="response");if(Yf&&(a||y&&w)){const P={};["status","statusText","headers"].forEach(R=>{P[R]=m[R]});const F=z.toFiniteNumber(m.headers.get("content-length")),[I,T]=a&&Zx(F,Mu(ev(a),!0))||[];m=new Response(nv(m.body,rv,I,()=>{T&&T(),w&&w()}),P)}c=c||"text";let A=await Uu[z.findKey(Uu,c)||"text"](m,t);return!y&&w&&w(),await new Promise((P,F)=>{h2(P,F,{data:A,headers:fn.from(m.headers),status:m.status,statusText:m.statusText,config:t,request:x})})}catch(_){throw w&&w(),_&&_.name==="TypeError"&&/fetch/i.test(_.message)?Object.assign(new we("Network Error",we.ERR_NETWORK,t,x),{cause:_.cause||_}):we.from(_,_&&_.code,t,x)}}),Xf={http:gR,xhr:WR,fetch:tk};z.forEach(Xf,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const sv=t=>`- ${t}`,nk=t=>z.isFunction(t)||t===null||t===!1,y2={getAdapter:t=>{t=z.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!nk(n)&&(r=Xf[(o=String(n)).toLowerCase()],r===void 0))throw new we(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(sv).join(`
`):" "+sv(i[0]):"as no adapter specified";throw new we("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Xf};function e0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new jo(null,t)}function iv(t){return e0(t),t.headers=fn.from(t.headers),t.data=Zh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),y2.getAdapter(t.adapter||Nl.adapter)(t).then(function(r){return e0(t),r.data=Zh.call(t,t.transformResponse,r),r.headers=fn.from(r.headers),r},function(r){return d2(r)||(e0(t),r&&r.response&&(r.response.data=Zh.call(t,t.transformResponse,r.response),r.response.headers=fn.from(r.response.headers))),Promise.reject(r)})}const x2="1.7.7",bm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{bm[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const ov={};bm.transitional=function(e,n,r){function s(i,o){return"[Axios v"+x2+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new we(s(o," has been removed"+(n?" in "+n:"")),we.ERR_DEPRECATED);return n&&!ov[o]&&(ov[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function rk(t,e,n){if(typeof t!="object")throw new we("options must be an object",we.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new we("option "+i+" must be "+l,we.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new we("Unknown option "+i,we.ERR_BAD_OPTION)}}const Jf={assertOptions:rk,validators:bm},Gr=Jf.validators;class oi{constructor(e){this.defaults=e,this.interceptors={request:new Xx,response:new Xx}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=fi(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Jf.assertOptions(r,{silentJSONParsing:Gr.transitional(Gr.boolean),forcedJSONParsing:Gr.transitional(Gr.boolean),clarifyTimeoutError:Gr.transitional(Gr.boolean)},!1),s!=null&&(z.isFunction(s)?n.paramsSerializer={serialize:s}:Jf.assertOptions(s,{encode:Gr.function,serialize:Gr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&z.merge(i.common,i[n.method]);i&&z.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),n.headers=fn.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const c=[];this.interceptors.response.forEach(function(w){c.push(w.fulfilled,w.rejected)});let d,h=0,p;if(!l){const x=[iv.bind(this),void 0];for(x.unshift.apply(x,a),x.push.apply(x,c),p=x.length,d=Promise.resolve(n);h<p;)d=d.then(x[h++],x[h++]);return d}p=a.length;let v=n;for(h=0;h<p;){const x=a[h++],w=a[h++];try{v=x(v)}catch(E){w.call(this,E);break}}try{d=iv.call(this,v)}catch(x){return Promise.reject(x)}for(h=0,p=c.length;h<p;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=fi(this.defaults,e);const n=f2(e.baseURL,e.url);return l2(n,e.params,e.paramsSerializer)}}z.forEach(["delete","get","head","options"],function(e){oi.prototype[e]=function(n,r){return this.request(fi(r||{},{method:e,url:n,data:(r||{}).data}))}});z.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(fi(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}oi.prototype[e]=n(),oi.prototype[e+"Form"]=n(!0)});class Rm{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new jo(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Rm(function(s){e=s}),cancel:e}}}function sk(t){return function(n){return t.apply(null,n)}}function ik(t){return z.isObject(t)&&t.isAxiosError===!0}const Zf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zf).forEach(([t,e])=>{Zf[e]=t});function v2(t){const e=new oi(t),n=Yw(oi.prototype.request,e);return z.extend(n,oi.prototype,e,{allOwnKeys:!0}),z.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return v2(fi(t,s))},n}const ft=v2(Nl);ft.Axios=oi;ft.CanceledError=jo;ft.CancelToken=Rm;ft.isCancel=d2;ft.VERSION=x2;ft.toFormData=Od;ft.AxiosError=we;ft.Cancel=ft.CanceledError;ft.all=function(e){return Promise.all(e)};ft.spread=sk;ft.isAxiosError=ik;ft.mergeConfig=fi;ft.AxiosHeaders=fn;ft.formToJSON=t=>u2(z.isHTMLForm(t)?new FormData(t):t);ft.getAdapter=y2.getAdapter;ft.HttpStatusCode=Zf;ft.default=ft;const ok="https://api.coingecko.com/api/v3",ak=[{id:"bitcoin",symbol:"btc",name:"Bitcoin",image:"https://assets.coingecko.com/coins/images/1/large/bitcoin.png?1547033579",current_price:3e4,market_cap:582278913046,market_cap_rank:1,price_change_percentage_24h:1.5},{id:"ethereum",symbol:"eth",name:"Ethereum",image:"https://assets.coingecko.com/coins/images/279/large/ethereum.png?1595348880",current_price:2e3,market_cap:240612837868,market_cap_rank:2,price_change_percentage_24h:2.1}],km=async(t=10)=>{try{return(await ft.get(`${ok}/coins/markets`,{params:{vs_currency:"usd",order:"market_cap_desc",per_page:t,page:1,sparkline:!1}})).data}catch(e){return console.error("Error fetching top cryptos:",e),console.warn("Using mock data due to API error"),ak.slice(0,t)}},lk=()=>{const[t,e]=L.useState([]),[n,r]=L.useState(!0);L.useEffect(()=>{(async()=>{try{const o=await km(10);e(o)}catch(o){console.error("Error fetching crypto data:",o)}finally{r(!1)}})()},[]);const s=()=>f.jsxs("div",{className:"animate-pulse space-y-4",children:[f.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),[...Array(10)].map((i,o)=>f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full"}),f.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4"}),f.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/6"}),f.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/6"}),f.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4"})]},o))]});return f.jsx("div",{className:"bg-white py-16",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 mb-8 text-center",children:"Live Cryptocurrency Market Data"}),n?f.jsxs("div",{className:"text-center",children:[f.jsx(Ww,{className:"inline-block animate-spin text-indigo-600 mb-4",size:40}),f.jsx("p",{className:"text-lg text-gray-600",children:"Loading cryptocurrency data..."}),f.jsx(s,{})]}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"24h Change"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Market Cap"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(i=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.market_cap_rank}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("img",{src:i.image,alt:i.name,className:"w-6 h-6 mr-2"}),f.jsx("span",{className:"font-medium",children:i.name}),f.jsx("span",{className:"ml-2 text-gray-500",children:i.symbol.toUpperCase()})]})}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:["$",i.current_price.toFixed(2)]}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-right text-sm font-medium ${i.price_change_percentage_24h>=0?"text-green-600":"text-red-600"}`,children:f.jsxs("span",{className:"flex items-center justify-end",children:[i.price_change_percentage_24h>=0?f.jsx(Gw,{size:16,className:"mr-1"}):f.jsx(Kw,{size:16,className:"mr-1"}),i.price_change_percentage_24h.toFixed(2),"%"]})}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:["$",i.market_cap.toLocaleString()]})]},i.id))})]})})]})})},ck=()=>f.jsx("footer",{className:"bg-gray-900 text-white py-12",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center mb-4",children:[f.jsx(Hw,{className:"h-8 w-8 text-indigo-400"}),f.jsx("span",{className:"ml-2 text-xl font-bold",children:"CryptoPingg"})]}),f.jsx("p",{className:"text-gray-400 mb-4",children:"Your all-in-one solution for cryptocurrency tracking and analysis."}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx(vn,{to:"/signup",className:"text-indigo-400 hover:text-indigo-300",children:"Sign Up"}),f.jsx(vn,{to:"/login",className:"text-indigo-400 hover:text-indigo-300",children:"Sign In"})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact Us"}),f.jsxs("ul",{className:"space-y-2",children:[f.jsxs("li",{className:"flex items-center",children:[f.jsx(qt,{size:16,className:"mr-2 text-indigo-400"}),f.jsx("span",{children:"Canada: +1 4314309069"})]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(qt,{size:16,className:"mr-2 text-indigo-400"}),f.jsx("span",{children:"UK: +447588674655"})]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(qt,{size:16,className:"mr-2 text-indigo-400"}),f.jsx("span",{children:"Netherlands: +3197010256219"})]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(qt,{size:16,className:"mr-2 text-indigo-400"}),f.jsx("span",{children:"Switzerland: +41799072418"})]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(Fo,{size:16,className:"mr-2 text-indigo-400"}),f.jsx("a",{href:"mailto:contact@cryptopingg.com",className:"hover:text-indigo-300",children:"contact@cryptopingg.com"})]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Our Offices"}),f.jsxs("ul",{className:"space-y-2",children:[f.jsxs("li",{className:"flex items-start",children:[f.jsx(Ea,{size:16,className:"mr-2 mt-1 text-indigo-400 flex-shrink-0"}),f.jsx("span",{children:"Canada: First Canadian Place, 140 King St W Suite 5612"})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx(Ea,{size:16,className:"mr-2 mt-1 text-indigo-400 flex-shrink-0"}),f.jsx("span",{children:"UK: 112 - 190 City Road, London EC1V 2MX"})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx(Ea,{size:16,className:"mr-2 mt-1 text-indigo-400 flex-shrink-0"}),f.jsx("span",{children:"Netherlands: Overhoeksplein 1, 1031 KS Amsterdam"})]}),f.jsxs("li",{className:"flex items-start",children:[f.jsx(Ea,{size:16,className:"mr-2 mt-1 text-indigo-400 flex-shrink-0"}),f.jsx("span",{children:"Switzerland: Tramstrasse 10, 1050 Zürich"})]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Legal"}),f.jsxs("ul",{className:"space-y-2",children:[f.jsx("li",{children:f.jsx(vn,{to:"/terms-of-service",className:"text-gray-400 hover:text-white",children:"Terms of Service"})}),f.jsx("li",{children:f.jsx(vn,{to:"/privacy-policy",className:"text-gray-400 hover:text-white",children:"Privacy Policy"})}),f.jsx("li",{children:f.jsx(vn,{to:"/disclaimer",className:"text-gray-400 hover:text-white",children:"Disclaimer"})})]})]})]}),f.jsx("div",{className:"mt-8 border-t border-gray-800 pt-8 text-center",children:f.jsx("p",{className:"text-gray-400",children:"© 2024 CryptoTracker Pro. All rights reserved."})})]})}),uk=()=>f.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500",children:[f.jsx(Pd,{}),f.jsx(kb,{}),f.jsx(lk,{}),f.jsx(ck,{})]});var av={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},dk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},E2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(p=64)),r.push(n[d],n[h],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new hk;const p=i<<2|a>>4;if(r.push(p),c!==64){const v=a<<4&240|c>>2;if(r.push(v),h!==64){const x=c<<6&192|h;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fk=function(t){const e=_2(t);return E2.encodeByteArray(e,!0)},zu=function(t){return fk(t).replace(/\./g,"")},w2=function(t){try{return E2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=()=>pk().__FIREBASE_DEFAULTS__,gk=()=>{if(typeof process>"u"||typeof av>"u")return;const t=av.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&w2(t[1]);return e&&JSON.parse(e)},Vd=()=>{try{return mk()||gk()||yk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},A2=t=>{var e,n;return(n=(e=Vd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},xk=t=>{const e=A2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},C2=()=>{var t;return(t=Vd())===null||t===void 0?void 0:t.config},T2=t=>{var e;return(e=Vd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[zu(JSON.stringify(n)),zu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ek(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function wk(){var t;const e=(t=Vd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ak(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ck(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Tk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Sk(){const t=Kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ik(){return!wk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bk(){try{return typeof indexedDB=="object"}catch{return!1}}function Rk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk="FirebaseError";class zr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=kk,Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dl.prototype.create)}}class Dl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Nk(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new zr(s,a,r)}}function Nk(t,e){return t.replace(Dk,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Dk=/\{\$([^}]+)}/g;function Pk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(lv(i)&&lv(o)){if(!qu(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function lv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Aa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Fk(t,e){const n=new Bk(t,e);return n.subscribe.bind(n)}class Bk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jk(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=t0),s.error===void 0&&(s.error=t0),s.complete===void 0&&(s.complete=t0);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function t0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t){return t&&t._delegate?t._delegate:t}class pi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Vk(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Lk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Lk(t){return t===Xs?void 0:t}function Vk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ok(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const Uk={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},zk=ke.INFO,qk={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},$k=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=qk[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nm{constructor(e){this.name=e,this._logLevel=zk,this._logHandler=$k,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Uk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const Hk=(t,e)=>e.some(n=>t instanceof n);let cv,uv;function Wk(){return cv||(cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kk(){return uv||(uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S2=new WeakMap,ep=new WeakMap,I2=new WeakMap,n0=new WeakMap,Dm=new WeakMap;function Gk(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(_s(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&S2.set(n,t)}).catch(()=>{}),Dm.set(e,t),e}function Qk(t){if(ep.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});ep.set(t,e)}let tp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ep.get(t);if(e==="objectStoreNames")return t.objectStoreNames||I2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Yk(t){tp=t(tp)}function Xk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(r0(this),e,...n);return I2.set(r,e.sort?e.sort():[e]),_s(r)}:Kk().includes(t)?function(...e){return t.apply(r0(this),e),_s(S2.get(this))}:function(...e){return _s(t.apply(r0(this),e))}}function Jk(t){return typeof t=="function"?Xk(t):(t instanceof IDBTransaction&&Qk(t),Hk(t,Wk())?new Proxy(t,tp):t)}function _s(t){if(t instanceof IDBRequest)return Gk(t);if(n0.has(t))return n0.get(t);const e=Jk(t);return e!==t&&(n0.set(t,e),Dm.set(e,t)),e}const r0=t=>Dm.get(t);function Zk(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=_s(o);return r&&o.addEventListener("upgradeneeded",l=>{r(_s(o.result),l.oldVersion,l.newVersion,_s(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const eN=["get","getKey","getAll","getAllKeys","count"],tN=["put","add","delete","clear"],s0=new Map;function dv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(s0.get(e))return s0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=tN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||eN.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return s0.set(e,i),i}Yk(t=>({...t,get:(e,n,r)=>dv(e,n)||t.get(e,n,r),has:(e,n)=>!!dv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const np="@firebase/app",hv="0.10.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new Nm("@firebase/app"),sN="@firebase/app-compat",iN="@firebase/analytics-compat",oN="@firebase/analytics",aN="@firebase/app-check-compat",lN="@firebase/app-check",cN="@firebase/auth",uN="@firebase/auth-compat",dN="@firebase/database",hN="@firebase/data-connect",fN="@firebase/database-compat",pN="@firebase/functions",mN="@firebase/functions-compat",gN="@firebase/installations",yN="@firebase/installations-compat",xN="@firebase/messaging",vN="@firebase/messaging-compat",_N="@firebase/performance",EN="@firebase/performance-compat",wN="@firebase/remote-config",AN="@firebase/remote-config-compat",CN="@firebase/storage",TN="@firebase/storage-compat",SN="@firebase/firestore",IN="@firebase/vertexai-preview",bN="@firebase/firestore-compat",RN="firebase",kN="10.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="[DEFAULT]",NN={[np]:"fire-core",[sN]:"fire-core-compat",[oN]:"fire-analytics",[iN]:"fire-analytics-compat",[lN]:"fire-app-check",[aN]:"fire-app-check-compat",[cN]:"fire-auth",[uN]:"fire-auth-compat",[dN]:"fire-rtdb",[hN]:"fire-data-connect",[fN]:"fire-rtdb-compat",[pN]:"fire-fn",[mN]:"fire-fn-compat",[gN]:"fire-iid",[yN]:"fire-iid-compat",[xN]:"fire-fcm",[vN]:"fire-fcm-compat",[_N]:"fire-perf",[EN]:"fire-perf-compat",[wN]:"fire-rc",[AN]:"fire-rc-compat",[CN]:"fire-gcs",[TN]:"fire-gcs-compat",[SN]:"fire-fst",[bN]:"fire-fst-compat",[IN]:"fire-vertex","fire-js":"fire-js",[RN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=new Map,DN=new Map,sp=new Map;function fv(t,e){try{t.container.addComponent(e)}catch(n){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Eo(t){const e=t.name;if(sp.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;sp.set(e,t);for(const n of $u.values())fv(n,t);for(const n of DN.values())fv(n,t);return!0}function Pm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ir(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Es=new Dl("app","Firebase",PN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=kN;function b2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:rp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Es.create("bad-app-name",{appName:String(s)});if(n||(n=C2()),!n)throw Es.create("no-options");const i=$u.get(s);if(i){if(qu(n,i.options)&&qu(r,i.config))return i;throw Es.create("duplicate-app",{appName:s})}const o=new Mk(s);for(const l of sp.values())o.addComponent(l);const a=new FN(n,r,o);return $u.set(s,a),a}function R2(t=rp){const e=$u.get(t);if(!e&&t===rp&&C2())return b2();if(!e)throw Es.create("no-app",{appName:t});return e}function ws(t,e,n){var r;let s=(r=NN[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(a.join(" "));return}Eo(new pi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="firebase-heartbeat-database",jN=1,pl="firebase-heartbeat-store";let i0=null;function k2(){return i0||(i0=Zk(BN,jN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Es.create("idb-open",{originalErrorMessage:t.message})})),i0}async function ON(t){try{const n=(await k2()).transaction(pl),r=await n.objectStore(pl).get(N2(t));return await n.done,r}catch(e){if(e instanceof zr)Or.warn(e.message);else{const n=Es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Or.warn(n.message)}}}async function pv(t,e){try{const r=(await k2()).transaction(pl,"readwrite");await r.objectStore(pl).put(e,N2(t)),await r.done}catch(n){if(n instanceof zr)Or.warn(n.message);else{const r=Es.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Or.warn(r.message)}}}function N2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=1024,VN=30*24*60*60*1e3;class MN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=mv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=VN}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Or.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mv(),{heartbeatsToSend:r,unsentEntries:s}=UN(this._heartbeatsCache.heartbeats),i=zu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Or.warn(n),""}}}function mv(){return new Date().toISOString().substring(0,10)}function UN(t,e=LN){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),gv(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),gv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bk()?Rk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ON(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return pv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return pv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function gv(t){return zu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(t){Eo(new pi("platform-logger",e=>new nN(e),"PRIVATE")),Eo(new pi("heartbeat",e=>new MN(e),"PRIVATE")),ws(np,hv,t),ws(np,hv,"esm2017"),ws("fire-js","")}qN("");var $N="firebase",HN="10.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws($N,HN,"app");function Fm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function D2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WN=D2,P2=new Dl("auth","Firebase",D2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=new Nm("@firebase/auth");function KN(t,...e){Hu.logLevel<=ke.WARN&&Hu.warn(`Auth (${Oo}): ${t}`,...e)}function tu(t,...e){Hu.logLevel<=ke.ERROR&&Hu.error(`Auth (${Oo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(t,...e){throw Bm(t,...e)}function cr(t,...e){return Bm(t,...e)}function F2(t,e,n){const r=Object.assign(Object.assign({},WN()),{[e]:n});return new Dl("auth","Firebase",r).create(e,{appName:t.name})}function Nr(t){return F2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return P2.create(t,...e)}function ye(t,e,...n){if(!t)throw Bm(e,...n)}function Sr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw tu(e),new Error(e)}function Lr(t,e){t||Sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function GN(){return yv()==="http:"||yv()==="https:"}function yv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GN()||Ck()||"connection"in navigator)?navigator.onLine:!0}function YN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Lr(n>e,"Short delay should be less than long delay!"),this.isMobile=Ek()||Tk()}get(){return QN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t,e){Lr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=new Fl(3e4,6e4);function Bs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function js(t,e,n,r,s={}){return j2(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Pl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return Ak()||(c.referrerPolicy="no-referrer"),B2.fetch()(O2(t,t.config.apiHost,n,a),c)})}async function j2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},XN),e);try{const s=new eD(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Fc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Fc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Fc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw F2(t,d,c);Yn(t,d)}}catch(s){if(s instanceof zr)throw s;Yn(t,"network-request-failed",{message:String(s)})}}async function Bl(t,e,n,r,s={}){const i=await js(t,e,n,r,s);return"mfaPendingCredential"in i&&Yn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function O2(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?jm(t.config,s):`${t.config.apiScheme}://${s}`}function ZN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cr(this.auth,"network-request-failed")),JN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=cr(t,e,r);return s.customData._tokenResponse=n,s}function xv(t){return t!==void 0&&t.enterprise!==void 0}class tD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ZN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function nD(t,e){return js(t,"GET","/v2/recaptchaConfig",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(t,e){return js(t,"POST","/v1/accounts:delete",e)}async function L2(t,e){return js(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sD(t,e=!1){const n=at(t),r=await n.getIdToken(e),s=Om(r);ye(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Oa(o0(s.auth_time)),issuedAtTime:Oa(o0(s.iat)),expirationTime:Oa(o0(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function o0(t){return Number(t)*1e3}function Om(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return tu("JWT malformed, contained fewer than 3 sections"),null;try{const s=w2(n);return s?JSON.parse(s):(tu("Failed to decode base64 JWT payload"),null)}catch(s){return tu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function vv(t){const e=Om(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zr&&iD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function iD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oa(this.lastLoginAt),this.creationTime=Oa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ml(t,L2(n,{idToken:r}));ye(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?V2(i.providerUserInfo):[],a=lD(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new op(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function aD(t){const e=at(t);await Wu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lD(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function V2(t){return t.map(e=>{var{providerId:n}=e,r=Fm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(t,e){const n=await j2(t,{},async()=>{const r=Pl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=O2(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",B2.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uD(t,e){return js(t,"POST","/v2/accounts:revokeToken",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=vv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await cD(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new co;return r&&(ye(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ye(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ye(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return Sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ir{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Fm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new op(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ml(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sD(this,e)}reload(){return aD(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ir(this.auth.app))return Promise.reject(Nr(this.auth));const e=await this.getIdToken();return await ml(this,rD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(s=n.email)!==null&&s!==void 0?s:void 0,v=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,m=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:y,emailVerified:A,isAnonymous:P,providerData:F,stsTokenManager:I}=n;ye(y&&I,e,"internal-error");const T=co.fromJSON(this.name,I);ye(typeof y=="string",e,"internal-error"),Qr(h,e.name),Qr(p,e.name),ye(typeof A=="boolean",e,"internal-error"),ye(typeof P=="boolean",e,"internal-error"),Qr(v,e.name),Qr(x,e.name),Qr(w,e.name),Qr(E,e.name),Qr(_,e.name),Qr(m,e.name);const R=new Ir({uid:y,auth:e,email:p,emailVerified:A,displayName:h,isAnonymous:P,photoURL:x,phoneNumber:v,tenantId:w,stsTokenManager:T,createdAt:_,lastLoginAt:m});return F&&Array.isArray(F)&&(R.providerData=F.map(S=>Object.assign({},S))),E&&(R._redirectEventId=E),R}static async _fromIdTokenResponse(e,n,r=!1){const s=new co;s.updateFromServerResponse(n);const i=new Ir({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Wu(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ye(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?V2(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new co;a.updateFromIdToken(r);const l=new Ir({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new op(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=new Map;function br(t){Lr(t instanceof Function,"Expected a class definition");let e=_v.get(t);return e?(Lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_v.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}M2.type="NONE";const Ev=M2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t,e,n){return`firebase:${t}:${e}:${n}`}class uo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=nu(this.userKey,s.apiKey,i),this.fullPersistenceKey=nu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ir._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new uo(br(Ev),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||br(Ev);const o=nu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=Ir._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new uo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new uo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(U2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(W2(e))return"Blackberry";if(K2(e))return"Webos";if(z2(e))return"Safari";if((e.includes("chrome/")||q2(e))&&!e.includes("edge/"))return"Chrome";if(H2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function U2(t=Kt()){return/firefox\//i.test(t)}function z2(t=Kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function q2(t=Kt()){return/crios\//i.test(t)}function $2(t=Kt()){return/iemobile/i.test(t)}function H2(t=Kt()){return/android/i.test(t)}function W2(t=Kt()){return/blackberry/i.test(t)}function K2(t=Kt()){return/webos/i.test(t)}function Lm(t=Kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dD(t=Kt()){var e;return Lm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hD(){return Sk()&&document.documentMode===10}function G2(t=Kt()){return Lm(t)||H2(t)||K2(t)||W2(t)||/windows phone/i.test(t)||$2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t,e=[]){let n;switch(t){case"Browser":n=wv(Kt());break;case"Worker":n=`${wv(Kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(t,e={}){return js(t,"GET","/v2/passwordPolicy",Bs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=6;class gD{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:mD,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Av(this),this.idTokenSubscription=new Av(this),this.beforeStateQueue=new fD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=br(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await L2(this,{idToken:e}),r=await Ir._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ir(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ir(this.app))return Promise.reject(Nr(this));const n=e?at(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ir(this.app)?Promise.reject(Nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ir(this.app)?Promise.reject(Nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pD(this),n=new gD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&br(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[br(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Q2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&KN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ti(t){return at(t)}class Av{constructor(e){this.auth=e,this.observer=null,this.addObserver=Fk(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xD(t){Md=t}function Y2(t){return Md.loadJS(t)}function vD(){return Md.recaptchaEnterpriseScript}function _D(){return Md.gapiScript}function ED(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const wD="recaptcha-enterprise",AD="NO_RECAPTCHA";class CD{constructor(e){this.type=wD,this.auth=Ti(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{nD(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new tD(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;xv(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(AD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&xv(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=vD();l.length!==0&&(l+=a),Y2(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Cv(t,e,n,r=!1){const s=new CD(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ap(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Cv(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Cv(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(t,e){const n=Pm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(qu(i,e??{}))return s;Yn(s,"already-initialized")}return n.initialize({options:e})}function SD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(br);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ID(t,e,n){const r=Ti(t);ye(r._canInitEmulator,r,"emulator-config-failed"),ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=X2(e),{host:o,port:a}=bD(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),RD()}function X2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bD(t){const e=X2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Tv(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Tv(o)}}}function Tv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function RD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,n){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}}async function kD(t,e){return js(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(t,e){return Bl(t,"POST","/v1/accounts:signInWithPassword",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(t,e){return Bl(t,"POST","/v1/accounts:signInWithEmailLink",Bs(t,e))}async function PD(t,e){return Bl(t,"POST","/v1/accounts:signInWithEmailLink",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends Vm{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new gl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new gl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ap(e,n,"signInWithPassword",ND);case"emailLink":return DD(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ap(e,r,"signUpPassword",kD);case"emailLink":return PD(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(t,e){return Bl(t,"POST","/v1/accounts:signInWithIdp",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="http://localhost";class mi extends Vm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new mi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Fm(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new mi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ho(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:FD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jD(t){const e=wa(Aa(t)).link,n=e?wa(Aa(e)).deep_link_id:null,r=wa(Aa(t)).deep_link_id;return(r?wa(Aa(r)).link:null)||r||n||e||t}class Mm{constructor(e){var n,r,s,i,o,a;const l=wa(Aa(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=BD((s=l.mode)!==null&&s!==void 0?s:null);ye(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=jD(e);try{return new Mm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,n){return gl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Mm.parseLink(n);return ye(r,"argument-error"),gl._fromEmailAndCode(e,r.code,r.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends J2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends jl{constructor(){super("facebook.com")}static credential(e){return mi._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return mi._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ts.credential(n,r)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends jl{constructor(){super("github.com")}static credential(e){return mi._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends jl{constructor(){super("twitter.com")}static credential(e,n){return mi._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return rs.credential(n,r)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(t,e){return Bl(t,"POST","/v1/accounts:signUp",Bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ir._fromIdTokenResponse(e,r,s),o=Sv(r);return new gi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Sv(r);return new gi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Sv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends zr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ku.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ku(e,n,r,s)}}function Z2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ku._fromErrorAndOperation(t,i,e,r):i})}async function LD(t,e,n=!1){const r=await ml(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(t,e,n=!1){const{auth:r}=t;if(ir(r.app))return Promise.reject(Nr(r));const s="reauthenticate";try{const i=await ml(t,Z2(r,s,e,t),n);ye(i.idToken,r,"internal-error");const o=Om(i.idToken);ye(o,r,"internal-error");const{sub:a}=o;return ye(t.uid===a,r,"user-mismatch"),gi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Yn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eA(t,e,n=!1){if(ir(t.app))return Promise.reject(Nr(t));const r="signIn",s=await Z2(t,r,e),i=await gi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function MD(t,e){return eA(Ti(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tA(t){const e=Ti(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function UD(t,e,n){if(ir(t.app))return Promise.reject(Nr(t));const r=Ti(t),o=await ap(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OD).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&tA(t),l}),a=await gi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function zD(t,e,n){return ir(t.app)?Promise.reject(Nr(t)):MD(at(t),Lo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&tA(t),r})}function qD(t,e,n,r){return at(t).onIdTokenChanged(e,n,r)}function $D(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function HD(t){return at(t).signOut()}const Gu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gu,"1"),this.storage.removeItem(Gu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=1e3,KD=10;class rA extends nA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=G2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);hD()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,KD):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},WD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rA.type="LOCAL";const GD=rA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA extends nA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}sA.type="SESSION";const iA=sA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Ud(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await QD(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ud.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=Um("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return window}function XD(t){ur().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function JD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function eP(){return oA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="firebaseLocalStorageDb",tP=1,Qu="firebaseLocalStorage",lA="fbase_key";class Ol{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zd(t,e){return t.transaction([Qu],e?"readwrite":"readonly").objectStore(Qu)}function nP(){const t=indexedDB.deleteDatabase(aA);return new Ol(t).toPromise()}function lp(){const t=indexedDB.open(aA,tP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qu,{keyPath:lA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qu)?e(r):(r.close(),await nP(),e(await lp()))})})}async function Iv(t,e,n){const r=zd(t,!0).put({[lA]:e,value:n});return new Ol(r).toPromise()}async function rP(t,e){const n=zd(t,!1).get(e),r=await new Ol(n).toPromise();return r===void 0?null:r.value}function bv(t,e){const n=zd(t,!0).delete(e);return new Ol(n).toPromise()}const sP=800,iP=3;class cA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>iP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ud._getInstance(eP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await JD(),!this.activeServiceWorker)return;this.sender=new YD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lp();return await Iv(e,Gu,"1"),await bv(e,Gu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Iv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>rP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=zd(s,!1).getAll();return new Ol(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cA.type="LOCAL";const oP=cA;new Fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(t,e){return e?br(e):(ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm extends Vm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lP(t){return eA(t.auth,new zm(t),t.bypassAuthState)}function cP(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),VD(n,new zm(t),t.bypassAuthState)}async function uP(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),LD(n,new zm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lP;case"linkViaPopup":case"linkViaRedirect":return uP;case"reauthViaPopup":case"reauthViaRedirect":return cP;default:Yn(this.auth,"internal-error")}}resolve(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=new Fl(2e3,1e4);class Zi extends uA{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Zi.currentPopupAction&&Zi.currentPopupAction.cancel(),Zi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){Lr(this.filter.length===1,"Popup operations only handle one event");const e=Um();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dP.get())};e()}}Zi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="pendingRedirect",ru=new Map;class fP extends uA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ru.get(this.auth._key());if(!e){try{const r=await pP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ru.set(this.auth._key(),e)}return this.bypassAuthState||ru.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pP(t,e){const n=yP(e),r=gP(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function mP(t,e){ru.set(t._key(),e)}function gP(t){return br(t._redirectPersistence)}function yP(t){return nu(hP,t.config.apiKey,t.name)}async function xP(t,e,n=!1){if(ir(t.app))return Promise.reject(Nr(t));const r=Ti(t),s=aP(r,e),o=await new fP(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=10*60*1e3;class _P{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dA(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(cr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rv(e))}saveEventToCache(e){this.cachedEventUids.add(Rv(e)),this.lastProcessedEventTime=Date.now()}}function Rv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wP(t,e={}){return js(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CP=/^https?/;async function TP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wP(t);for(const n of e)try{if(SP(n))return}catch{}Yn(t,"unauthorized-domain")}function SP(t){const e=ip(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!CP.test(n))return!1;if(AP.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=new Fl(3e4,6e4);function kv(){const t=ur().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bP(t){return new Promise((e,n)=>{var r,s,i;function o(){kv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kv(),n(cr(t,"network-request-failed"))},timeout:IP.get()})}if(!((s=(r=ur().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ur().gapi)===null||i===void 0)&&i.load)o();else{const a=ED("iframefcb");return ur()[a]=()=>{gapi.load?o():n(cr(t,"network-request-failed"))},Y2(`${_D()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw su=null,e})}let su=null;function RP(t){return su=su||bP(t),su}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=new Fl(5e3,15e3),NP="__/auth/iframe",DP="emulator/auth/iframe",PP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BP(t){const e=t.config;ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jm(e,DP):`https://${t.config.authDomain}/${NP}`,r={apiKey:e.apiKey,appName:t.name,v:Oo},s=FP.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Pl(r).slice(1)}`}async function jP(t){const e=await RP(t),n=ur().gapi;return ye(n,t,"internal-error"),e.open({where:document.body,url:BP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PP,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=cr(t,"network-request-failed"),a=ur().setTimeout(()=>{i(o)},kP.get());function l(){ur().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LP=500,VP=600,MP="_blank",UP="http://localhost";class Nv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zP(t,e,n,r=LP,s=VP){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},OP),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Kt().toLowerCase();n&&(a=q2(c)?MP:n),U2(c)&&(e=e||UP,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[v,x])=>`${p}${v}=${x},`,"");if(dD(c)&&a!=="_self")return qP(e||"",a),new Nv(null);const h=window.open(e||"",a,d);ye(h,t,"popup-blocked");try{h.focus()}catch{}return new Nv(h)}function qP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="__/auth/handler",HP="emulator/auth/handler",WP=encodeURIComponent("fac");async function Dv(t,e,n,r,s,i){ye(t.config.authDomain,t,"auth-domain-config-required"),ye(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Oo,eventId:s};if(e instanceof J2){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Pk(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof jl){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${WP}=${encodeURIComponent(l)}`:"";return`${KP(t)}?${Pl(a).slice(1)}${c}`}function KP({config:t}){return t.emulator?jm(t,HP):`https://${t.authDomain}/${$P}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="webStorageSupport";class GP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iA,this._completeRedirectFn=xP,this._overrideRedirectResult=mP}async _openPopup(e,n,r,s){var i;Lr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Dv(e,n,r,ip(),s);return zP(e,o,Um())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Dv(e,n,r,ip(),s);return XD(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Lr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jP(e),r=new _P(e);return n.register("authEvent",s=>(ye(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(a0,{type:a0},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[a0];o!==void 0&&n(!!o),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return G2()||z2()||Lm()}}const QP=GP;var Pv="@firebase/auth",Fv="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JP(t){Eo(new pi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ye(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q2(t)},c=new yD(r,s,i,l);return SD(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Eo(new pi("auth-internal",e=>{const n=Ti(e.getProvider("auth").getImmediate());return(r=>new YP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(Pv,Fv,XP(t)),ws(Pv,Fv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=5*60,e8=T2("authIdTokenMaxAge")||ZP;let Bv=null;const t8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>e8)return;const s=n==null?void 0:n.token;Bv!==s&&(Bv=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function hA(t=R2()){const e=Pm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=TD(t,{popupRedirectResolver:QP,persistence:[oP,GD,iA]}),r=T2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=t8(i.toString());$D(n,o,()=>o(n.currentUser)),qD(n,a=>o(a))}}const s=A2("auth");return s&&ID(n,`http://${s}`),n}function n8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}xD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=cr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",n8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JP("Browser");var jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ai,fA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,T){function R(){}R.prototype=T.prototype,I.D=T.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(S,k,N){for(var b=Array(arguments.length-2),G=2;G<arguments.length;G++)b[G-2]=arguments[G];return T.prototype[k].apply(S,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,T,R){R||(R=0);var S=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)S[k]=T.charCodeAt(R++)|T.charCodeAt(R++)<<8|T.charCodeAt(R++)<<16|T.charCodeAt(R++)<<24;else for(k=0;16>k;++k)S[k]=T[R++]|T[R++]<<8|T[R++]<<16|T[R++]<<24;T=I.g[0],R=I.g[1],k=I.g[2];var N=I.g[3],b=T+(N^R&(k^N))+S[0]+3614090360&4294967295;T=R+(b<<7&4294967295|b>>>25),b=N+(k^T&(R^k))+S[1]+3905402710&4294967295,N=T+(b<<12&4294967295|b>>>20),b=k+(R^N&(T^R))+S[2]+606105819&4294967295,k=N+(b<<17&4294967295|b>>>15),b=R+(T^k&(N^T))+S[3]+3250441966&4294967295,R=k+(b<<22&4294967295|b>>>10),b=T+(N^R&(k^N))+S[4]+4118548399&4294967295,T=R+(b<<7&4294967295|b>>>25),b=N+(k^T&(R^k))+S[5]+1200080426&4294967295,N=T+(b<<12&4294967295|b>>>20),b=k+(R^N&(T^R))+S[6]+2821735955&4294967295,k=N+(b<<17&4294967295|b>>>15),b=R+(T^k&(N^T))+S[7]+4249261313&4294967295,R=k+(b<<22&4294967295|b>>>10),b=T+(N^R&(k^N))+S[8]+1770035416&4294967295,T=R+(b<<7&4294967295|b>>>25),b=N+(k^T&(R^k))+S[9]+2336552879&4294967295,N=T+(b<<12&4294967295|b>>>20),b=k+(R^N&(T^R))+S[10]+4294925233&4294967295,k=N+(b<<17&4294967295|b>>>15),b=R+(T^k&(N^T))+S[11]+2304563134&4294967295,R=k+(b<<22&4294967295|b>>>10),b=T+(N^R&(k^N))+S[12]+1804603682&4294967295,T=R+(b<<7&4294967295|b>>>25),b=N+(k^T&(R^k))+S[13]+4254626195&4294967295,N=T+(b<<12&4294967295|b>>>20),b=k+(R^N&(T^R))+S[14]+2792965006&4294967295,k=N+(b<<17&4294967295|b>>>15),b=R+(T^k&(N^T))+S[15]+1236535329&4294967295,R=k+(b<<22&4294967295|b>>>10),b=T+(k^N&(R^k))+S[1]+4129170786&4294967295,T=R+(b<<5&4294967295|b>>>27),b=N+(R^k&(T^R))+S[6]+3225465664&4294967295,N=T+(b<<9&4294967295|b>>>23),b=k+(T^R&(N^T))+S[11]+643717713&4294967295,k=N+(b<<14&4294967295|b>>>18),b=R+(N^T&(k^N))+S[0]+3921069994&4294967295,R=k+(b<<20&4294967295|b>>>12),b=T+(k^N&(R^k))+S[5]+3593408605&4294967295,T=R+(b<<5&4294967295|b>>>27),b=N+(R^k&(T^R))+S[10]+38016083&4294967295,N=T+(b<<9&4294967295|b>>>23),b=k+(T^R&(N^T))+S[15]+3634488961&4294967295,k=N+(b<<14&4294967295|b>>>18),b=R+(N^T&(k^N))+S[4]+3889429448&4294967295,R=k+(b<<20&4294967295|b>>>12),b=T+(k^N&(R^k))+S[9]+568446438&4294967295,T=R+(b<<5&4294967295|b>>>27),b=N+(R^k&(T^R))+S[14]+3275163606&4294967295,N=T+(b<<9&4294967295|b>>>23),b=k+(T^R&(N^T))+S[3]+4107603335&4294967295,k=N+(b<<14&4294967295|b>>>18),b=R+(N^T&(k^N))+S[8]+1163531501&4294967295,R=k+(b<<20&4294967295|b>>>12),b=T+(k^N&(R^k))+S[13]+2850285829&4294967295,T=R+(b<<5&4294967295|b>>>27),b=N+(R^k&(T^R))+S[2]+4243563512&4294967295,N=T+(b<<9&4294967295|b>>>23),b=k+(T^R&(N^T))+S[7]+1735328473&4294967295,k=N+(b<<14&4294967295|b>>>18),b=R+(N^T&(k^N))+S[12]+2368359562&4294967295,R=k+(b<<20&4294967295|b>>>12),b=T+(R^k^N)+S[5]+4294588738&4294967295,T=R+(b<<4&4294967295|b>>>28),b=N+(T^R^k)+S[8]+2272392833&4294967295,N=T+(b<<11&4294967295|b>>>21),b=k+(N^T^R)+S[11]+1839030562&4294967295,k=N+(b<<16&4294967295|b>>>16),b=R+(k^N^T)+S[14]+4259657740&4294967295,R=k+(b<<23&4294967295|b>>>9),b=T+(R^k^N)+S[1]+2763975236&4294967295,T=R+(b<<4&4294967295|b>>>28),b=N+(T^R^k)+S[4]+1272893353&4294967295,N=T+(b<<11&4294967295|b>>>21),b=k+(N^T^R)+S[7]+4139469664&4294967295,k=N+(b<<16&4294967295|b>>>16),b=R+(k^N^T)+S[10]+3200236656&4294967295,R=k+(b<<23&4294967295|b>>>9),b=T+(R^k^N)+S[13]+681279174&4294967295,T=R+(b<<4&4294967295|b>>>28),b=N+(T^R^k)+S[0]+3936430074&4294967295,N=T+(b<<11&4294967295|b>>>21),b=k+(N^T^R)+S[3]+3572445317&4294967295,k=N+(b<<16&4294967295|b>>>16),b=R+(k^N^T)+S[6]+76029189&4294967295,R=k+(b<<23&4294967295|b>>>9),b=T+(R^k^N)+S[9]+3654602809&4294967295,T=R+(b<<4&4294967295|b>>>28),b=N+(T^R^k)+S[12]+3873151461&4294967295,N=T+(b<<11&4294967295|b>>>21),b=k+(N^T^R)+S[15]+530742520&4294967295,k=N+(b<<16&4294967295|b>>>16),b=R+(k^N^T)+S[2]+3299628645&4294967295,R=k+(b<<23&4294967295|b>>>9),b=T+(k^(R|~N))+S[0]+4096336452&4294967295,T=R+(b<<6&4294967295|b>>>26),b=N+(R^(T|~k))+S[7]+1126891415&4294967295,N=T+(b<<10&4294967295|b>>>22),b=k+(T^(N|~R))+S[14]+2878612391&4294967295,k=N+(b<<15&4294967295|b>>>17),b=R+(N^(k|~T))+S[5]+4237533241&4294967295,R=k+(b<<21&4294967295|b>>>11),b=T+(k^(R|~N))+S[12]+1700485571&4294967295,T=R+(b<<6&4294967295|b>>>26),b=N+(R^(T|~k))+S[3]+2399980690&4294967295,N=T+(b<<10&4294967295|b>>>22),b=k+(T^(N|~R))+S[10]+4293915773&4294967295,k=N+(b<<15&4294967295|b>>>17),b=R+(N^(k|~T))+S[1]+2240044497&4294967295,R=k+(b<<21&4294967295|b>>>11),b=T+(k^(R|~N))+S[8]+1873313359&4294967295,T=R+(b<<6&4294967295|b>>>26),b=N+(R^(T|~k))+S[15]+4264355552&4294967295,N=T+(b<<10&4294967295|b>>>22),b=k+(T^(N|~R))+S[6]+2734768916&4294967295,k=N+(b<<15&4294967295|b>>>17),b=R+(N^(k|~T))+S[13]+1309151649&4294967295,R=k+(b<<21&4294967295|b>>>11),b=T+(k^(R|~N))+S[4]+4149444226&4294967295,T=R+(b<<6&4294967295|b>>>26),b=N+(R^(T|~k))+S[11]+3174756917&4294967295,N=T+(b<<10&4294967295|b>>>22),b=k+(T^(N|~R))+S[2]+718787259&4294967295,k=N+(b<<15&4294967295|b>>>17),b=R+(N^(k|~T))+S[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(k+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+N&4294967295}r.prototype.u=function(I,T){T===void 0&&(T=I.length);for(var R=T-this.blockSize,S=this.B,k=this.h,N=0;N<T;){if(k==0)for(;N<=R;)s(this,I,N),N+=this.blockSize;if(typeof I=="string"){for(;N<T;)if(S[k++]=I.charCodeAt(N++),k==this.blockSize){s(this,S),k=0;break}}else for(;N<T;)if(S[k++]=I[N++],k==this.blockSize){s(this,S),k=0;break}}this.h=k,this.o+=T},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;var R=8*this.o;for(T=I.length-8;T<I.length;++T)I[T]=R&255,R/=256;for(this.u(I),I=Array(16),T=R=0;4>T;++T)for(var S=0;32>S;S+=8)I[R++]=this.g[T]>>>S&255;return I};function i(I,T){var R=a;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=T(I)}function o(I,T){this.h=T;for(var R=[],S=!0,k=I.length-1;0<=k;k--){var N=I[k]|0;S&&N==T||(R[k]=N,S=!1)}this.g=R}var a={};function l(I){return-128<=I&&128>I?i(I,function(T){return new o([T|0],0>T?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return E(c(-I));for(var T=[],R=1,S=0;I>=R;S++)T[S]=I/R|0,R*=4294967296;return new o(T,0)}function d(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return E(d(I.substring(1),T));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(T,8)),S=h,k=0;k<I.length;k+=8){var N=Math.min(8,I.length-k),b=parseInt(I.substring(k,k+N),T);8>N?(N=c(Math.pow(T,N)),S=S.j(N).add(c(b))):(S=S.j(R),S=S.add(c(b)))}return S}var h=l(0),p=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-E(this).m();for(var I=0,T=1,R=0;R<this.g.length;R++){var S=this.i(R);I+=(0<=S?S:4294967296+S)*T,T*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(x(this))return"0";if(w(this))return"-"+E(this).toString(I);for(var T=c(Math.pow(I,6)),R=this,S="";;){var k=A(R,T).g;R=_(R,k.j(T));var N=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=k,x(R))return N+S;for(;6>N.length;)N="0"+N;S=N+S}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function x(I){if(I.h!=0)return!1;for(var T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function w(I){return I.h==-1}t.l=function(I){return I=_(this,I),w(I)?-1:x(I)?0:1};function E(I){for(var T=I.g.length,R=[],S=0;S<T;S++)R[S]=~I.g[S];return new o(R,~I.h).add(p)}t.abs=function(){return w(this)?E(this):this},t.add=function(I){for(var T=Math.max(this.g.length,I.g.length),R=[],S=0,k=0;k<=T;k++){var N=S+(this.i(k)&65535)+(I.i(k)&65535),b=(N>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);S=b>>>16,N&=65535,b&=65535,R[k]=b<<16|N}return new o(R,R[R.length-1]&-2147483648?-1:0)};function _(I,T){return I.add(E(T))}t.j=function(I){if(x(this)||x(I))return h;if(w(this))return w(I)?E(this).j(E(I)):E(E(this).j(I));if(w(I))return E(this.j(E(I)));if(0>this.l(v)&&0>I.l(v))return c(this.m()*I.m());for(var T=this.g.length+I.g.length,R=[],S=0;S<2*T;S++)R[S]=0;for(S=0;S<this.g.length;S++)for(var k=0;k<I.g.length;k++){var N=this.i(S)>>>16,b=this.i(S)&65535,G=I.i(k)>>>16,ee=I.i(k)&65535;R[2*S+2*k]+=b*ee,m(R,2*S+2*k),R[2*S+2*k+1]+=N*ee,m(R,2*S+2*k+1),R[2*S+2*k+1]+=b*G,m(R,2*S+2*k+1),R[2*S+2*k+2]+=N*G,m(R,2*S+2*k+2)}for(S=0;S<T;S++)R[S]=R[2*S+1]<<16|R[2*S];for(S=T;S<2*T;S++)R[S]=0;return new o(R,0)};function m(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function y(I,T){this.g=I,this.h=T}function A(I,T){if(x(T))throw Error("division by zero");if(x(I))return new y(h,h);if(w(I))return T=A(E(I),T),new y(E(T.g),E(T.h));if(w(T))return T=A(I,E(T)),new y(E(T.g),T.h);if(30<I.g.length){if(w(I)||w(T))throw Error("slowDivide_ only works with positive integers.");for(var R=p,S=T;0>=S.l(I);)R=P(R),S=P(S);var k=F(R,1),N=F(S,1);for(S=F(S,2),R=F(R,2);!x(S);){var b=N.add(S);0>=b.l(I)&&(k=k.add(R),N=b),S=F(S,1),R=F(R,1)}return T=_(I,k.j(T)),new y(k,T)}for(k=h;0<=I.l(T);){for(R=Math.max(1,Math.floor(I.m()/T.m())),S=Math.ceil(Math.log(R)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),N=c(R),b=N.j(T);w(b)||0<b.l(I);)R-=S,N=c(R),b=N.j(T);x(N)&&(N=p),k=k.add(N),I=_(I,b)}return new y(k,I)}t.A=function(I){return A(this,I).h},t.and=function(I){for(var T=Math.max(this.g.length,I.g.length),R=[],S=0;S<T;S++)R[S]=this.i(S)&I.i(S);return new o(R,this.h&I.h)},t.or=function(I){for(var T=Math.max(this.g.length,I.g.length),R=[],S=0;S<T;S++)R[S]=this.i(S)|I.i(S);return new o(R,this.h|I.h)},t.xor=function(I){for(var T=Math.max(this.g.length,I.g.length),R=[],S=0;S<T;S++)R[S]=this.i(S)^I.i(S);return new o(R,this.h^I.h)};function P(I){for(var T=I.g.length+1,R=[],S=0;S<T;S++)R[S]=I.i(S)<<1|I.i(S-1)>>>31;return new o(R,I.h)}function F(I,T){var R=T>>5;T%=32;for(var S=I.g.length-R,k=[],N=0;N<S;N++)k[N]=0<T?I.i(N+R)>>>T|I.i(N+R+1)<<32-T:I.i(N+R);return new o(k,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,fA=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,ai=o}).apply(typeof jv<"u"?jv:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pA,Ca,mA,iu,cp,gA,yA,xA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,C){return u==Array.prototype||u==Object.prototype||(u[g]=C.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var g=0;g<u.length;++g){var C=u[g];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function s(u,g){if(g)e:{var C=r;u=u.split(".");for(var D=0;D<u.length-1;D++){var j=u[D];if(!(j in C))break e;C=C[j]}u=u[u.length-1],D=C[u],g=g(D),g!=D&&g!=null&&e(C,u,{configurable:!0,writable:!0,value:g})}}function i(u,g){u instanceof String&&(u+="");var C=0,D=!1,j={next:function(){if(!D&&C<u.length){var U=C++;return{value:g(U,u[U]),done:!1}}return D=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}s("Array.prototype.values",function(u){return u||function(){return i(this,function(g,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function c(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function d(u,g,C){return u.call.apply(u.bind,arguments)}function h(u,g,C){if(!u)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,D),u.apply(g,j)}}return function(){return u.apply(g,arguments)}}function p(u,g,C){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function v(u,g){var C=Array.prototype.slice.call(arguments,1);return function(){var D=C.slice();return D.push.apply(D,arguments),u.apply(this,D)}}function x(u,g){function C(){}C.prototype=g.prototype,u.aa=g.prototype,u.prototype=new C,u.prototype.constructor=u,u.Qb=function(D,j,U){for(var se=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)se[Me-2]=arguments[Me];return g.prototype[j].apply(D,se)}}function w(u){const g=u.length;if(0<g){const C=Array(g);for(let D=0;D<g;D++)C[D]=u[D];return C}return[]}function E(u,g){for(let C=1;C<arguments.length;C++){const D=arguments[C];if(l(D)){const j=u.length||0,U=D.length||0;u.length=j+U;for(let se=0;se<U;se++)u[j+se]=D[se]}else u.push(D)}}class _{constructor(g,C){this.i=g,this.j=C,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function m(u){return/^[\s\xa0]*$/.test(u)}function y(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function A(u){return A[" "](u),u}A[" "]=function(){};var P=y().indexOf("Gecko")!=-1&&!(y().toLowerCase().indexOf("webkit")!=-1&&y().indexOf("Edge")==-1)&&!(y().indexOf("Trident")!=-1||y().indexOf("MSIE")!=-1)&&y().indexOf("Edge")==-1;function F(u,g,C){for(const D in u)g.call(C,u[D],D,u)}function I(u,g){for(const C in u)g.call(void 0,u[C],C,u)}function T(u){const g={};for(const C in u)g[C]=u[C];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(u,g){let C,D;for(let j=1;j<arguments.length;j++){D=arguments[j];for(C in D)u[C]=D[C];for(let U=0;U<R.length;U++)C=R[U],Object.prototype.hasOwnProperty.call(D,C)&&(u[C]=D[C])}}function k(u){var g=1;u=u.split(":");const C=[];for(;0<g&&u.length;)C.push(u.shift()),g--;return u.length&&C.push(u.join(":")),C}function N(u){a.setTimeout(()=>{throw u},0)}function b(){var u=Z;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class G{constructor(){this.h=this.g=null}add(g,C){const D=ee.get();D.set(g,C),this.h?this.h.next=D:this.g=D,this.h=D}}var ee=new _(()=>new re,u=>u.reset());class re{constructor(){this.next=this.g=this.h=null}set(g,C){this.h=g,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let le,W=!1,Z=new G,te=()=>{const u=a.Promise.resolve(void 0);le=()=>{u.then(V)}};var V=()=>{for(var u;u=b();){try{u.h.call(u.g)}catch(C){N(C)}var g=ee;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}W=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var H=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const C=()=>{};a.addEventListener("test",C,g),a.removeEventListener("test",C,g)}catch{}return u}();function xe(u,g){if($.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var C=this.type=u.type,D=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(P){e:{try{A(g.nodeName);var j=!0;break e}catch{}j=!1}j||(g=null)}}else C=="mouseover"?g=u.fromElement:C=="mouseout"&&(g=u.toElement);this.relatedTarget=g,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:me[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&xe.aa.h.call(this)}}x(xe,$);var me={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Pe="closure_listenable_"+(1e6*Math.random()|0),ve=0;function tr(u,g,C,D,j){this.listener=u,this.proxy=null,this.src=g,this.type=C,this.capture=!!D,this.ha=j,this.key=++ve,this.da=this.fa=!1}function pn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ln(u){this.src=u,this.g={},this.h=0}Ln.prototype.add=function(u,g,C,D,j){var U=u.toString();u=this.g[U],u||(u=this.g[U]=[],this.h++);var se=_t(u,g,D,j);return-1<se?(g=u[se],C||(g.fa=!1)):(g=new tr(g,this.src,U,!!D,j),g.fa=C,u.push(g)),g};function Vn(u,g){var C=g.type;if(C in u.g){var D=u.g[C],j=Array.prototype.indexOf.call(D,g,void 0),U;(U=0<=j)&&Array.prototype.splice.call(D,j,1),U&&(pn(g),u.g[C].length==0&&(delete u.g[C],u.h--))}}function _t(u,g,C,D){for(var j=0;j<u.length;++j){var U=u[j];if(!U.da&&U.listener==g&&U.capture==!!C&&U.ha==D)return j}return-1}var lt="closure_lm_"+(1e6*Math.random()|0),pr={};function mr(u,g,C,D,j){if(Array.isArray(g)){for(var U=0;U<g.length;U++)mr(u,g[U],C,D,j);return null}return C=be(C),u&&u[Pe]?u.K(g,C,c(D)?!!D.capture:!!D,j):Vs(u,g,C,!1,D,j)}function Vs(u,g,C,D,j,U){if(!g)throw Error("Invalid event type");var se=c(j)?!!j.capture:!!j,Me=Y(u);if(Me||(u[lt]=Me=new Ln(u)),C=Me.add(g,C,D,se,U),C.proxy)return C;if(D=B(),C.proxy=D,D.src=u,D.listener=C,u.addEventListener)H||(j=se),j===void 0&&(j=!1),u.addEventListener(g.toString(),D,j);else if(u.attachEvent)u.attachEvent(ne(g.toString()),D);else if(u.addListener&&u.removeListener)u.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return C}function B(){function u(C){return g.call(u.src,u.listener,C)}const g=J;return u}function O(u,g,C,D,j){if(Array.isArray(g))for(var U=0;U<g.length;U++)O(u,g[U],C,D,j);else D=c(D)?!!D.capture:!!D,C=be(C),u&&u[Pe]?(u=u.i,g=String(g).toString(),g in u.g&&(U=u.g[g],C=_t(U,C,D,j),-1<C&&(pn(U[C]),Array.prototype.splice.call(U,C,1),U.length==0&&(delete u.g[g],u.h--)))):u&&(u=Y(u))&&(g=u.g[g.toString()],u=-1,g&&(u=_t(g,C,D,j)),(C=-1<u?g[u]:null)&&q(C))}function q(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Pe])Vn(g.i,u);else{var C=u.type,D=u.proxy;g.removeEventListener?g.removeEventListener(C,D,u.capture):g.detachEvent?g.detachEvent(ne(C),D):g.addListener&&g.removeListener&&g.removeListener(D),(C=Y(g))?(Vn(C,u),C.h==0&&(C.src=null,g[lt]=null)):pn(u)}}}function ne(u){return u in pr?pr[u]:pr[u]="on"+u}function J(u,g){if(u.da)u=!0;else{g=new xe(g,this);var C=u.listener,D=u.ha||u.src;u.fa&&q(u),u=C.call(D,g)}return u}function Y(u){return u=u[lt],u instanceof Ln?u:null}var de="__closure_events_fn_"+(1e9*Math.random()>>>0);function be(u){return typeof u=="function"?u:(u[de]||(u[de]=function(g){return u.handleEvent(g)}),u[de])}function Ee(){M.call(this),this.i=new Ln(this),this.M=this,this.F=null}x(Ee,M),Ee.prototype[Pe]=!0,Ee.prototype.removeEventListener=function(u,g,C,D){O(this,u,g,C,D)};function Ae(u,g){var C,D=u.F;if(D)for(C=[];D;D=D.F)C.push(D);if(u=u.M,D=g.type||g,typeof g=="string")g=new $(g,u);else if(g instanceof $)g.target=g.target||u;else{var j=g;g=new $(D,u),S(g,j)}if(j=!0,C)for(var U=C.length-1;0<=U;U--){var se=g.g=C[U];j=nn(se,D,!0,g)&&j}if(se=g.g=u,j=nn(se,D,!0,g)&&j,j=nn(se,D,!1,g)&&j,C)for(U=0;U<C.length;U++)se=g.g=C[U],j=nn(se,D,!1,g)&&j}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var C=u.g[g],D=0;D<C.length;D++)pn(C[D]);delete u.g[g],u.h--}}this.F=null},Ee.prototype.K=function(u,g,C,D){return this.i.add(String(u),g,!1,C,D)},Ee.prototype.L=function(u,g,C,D){return this.i.add(String(u),g,!0,C,D)};function nn(u,g,C,D){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,U=0;U<g.length;++U){var se=g[U];if(se&&!se.da&&se.capture==C){var Me=se.listener,It=se.ha||se.src;se.fa&&Vn(u.i,se),j=Me.call(It,D)!==!1&&j}}return j&&!D.defaultPrevented}function Ms(u,g,C){if(typeof u=="function")C&&(u=p(u,C));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(u,g||0)}function gr(u){u.g=Ms(()=>{u.g=null,u.i&&(u.i=!1,gr(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Rn extends M{constructor(g,C){super(),this.m=g,this.l=C,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:gr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mn(u){M.call(this),this.h=u,this.g={}}x(mn,M);var Us=[];function zs(u){F(u.g,function(g,C){this.g.hasOwnProperty(C)&&q(g)},u),u.g={}}mn.prototype.N=function(){mn.aa.N.call(this),zs(this)},mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yr=a.JSON.stringify,lh=a.JSON.parse,ch=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function ki(){}ki.prototype.h=null;function Xl(u){return u.h||(u.h=u.i())}function Ko(){}var qs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ni(){$.call(this,"d")}x(Ni,$);function Go(){$.call(this,"c")}x(Go,$);var xr={},Jl=null;function $s(){return Jl=Jl||new Ee}xr.La="serverreachability";function Zl(u){$.call(this,xr.La,u)}x(Zl,$);function Hs(u){const g=$s();Ae(g,new Zl(g))}xr.STAT_EVENT="statevent";function Qo(u,g){$.call(this,xr.STAT_EVENT,u),this.stat=g}x(Qo,$);function St(u){const g=$s();Ae(g,new Qo(g,u))}xr.Ma="timingevent";function Yo(u,g){$.call(this,xr.Ma,u),this.size=g}x(Yo,$);function mt(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},g)}function rn(){this.g=!0}rn.prototype.xa=function(){this.g=!1};function ec(u,g,C,D,j,U){u.info(function(){if(u.g)if(U)for(var se="",Me=U.split("&"),It=0;It<Me.length;It++){var je=Me[It].split("=");if(1<je.length){var jt=je[0];je=je[1];var Ot=jt.split("_");se=2<=Ot.length&&Ot[1]=="type"?se+(jt+"="+je+"&"):se+(jt+"=redacted&")}}else se=null;else se=U;return"XMLHTTP REQ ("+D+") [attempt "+j+"]: "+g+`
`+C+`
`+se})}function uh(u,g,C,D,j,U,se){u.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+j+"]: "+g+`
`+C+`
`+U+" "+se})}function Di(u,g,C,D){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+c4(u,C)+(D?" "+D:"")})}function l4(u,g){u.info(function(){return"TIMEOUT: "+g})}rn.prototype.info=function(){};function c4(u,g){if(!u.g)return g;if(!g)return null;try{var C=JSON.parse(g);if(C){for(u=0;u<C.length;u++)if(Array.isArray(C[u])){var D=C[u];if(!(2>D.length)){var j=D[1];if(Array.isArray(j)&&!(1>j.length)){var U=j[0];if(U!="noop"&&U!="stop"&&U!="close")for(var se=1;se<j.length;se++)j[se]=""}}}}return yr(C)}catch{return g}}var tc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ug={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dh;function nc(){}x(nc,ki),nc.prototype.g=function(){return new XMLHttpRequest},nc.prototype.i=function(){return{}},dh=new nc;function $r(u,g,C,D){this.j=u,this.i=g,this.l=C,this.R=D||1,this.U=new mn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zg}function zg(){this.i=null,this.g="",this.h=!1}var qg={},hh={};function fh(u,g,C){u.L=1,u.v=oc(vr(g)),u.m=C,u.P=!0,$g(u,null)}function $g(u,g){u.F=Date.now(),rc(u),u.A=vr(u.v);var C=u.A,D=u.R;Array.isArray(D)||(D=[String(D)]),sy(C.i,"t",D),u.C=0,C=u.j.J,u.h=new zg,u.g=wy(u.j,C?g:null,!u.m),0<u.O&&(u.M=new Rn(p(u.Y,u,u.g),u.O)),g=u.U,C=u.g,D=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(Us[0]=j.toString()),j=Us);for(var U=0;U<j.length;U++){var se=mr(C,j[U],D||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Hs(),ec(u.i,u.u,u.A,u.l,u.R,u.m)}$r.prototype.ca=function(u){u=u.target;const g=this.M;g&&_r(u)==3?g.j():this.Y(u)},$r.prototype.Y=function(u){try{if(u==this.g)e:{const Ot=_r(this.g);var g=this.g.Ba();const Bi=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||dy(this.g)))){this.J||Ot!=4||g==7||(g==8||0>=Bi?Hs(3):Hs(2)),ph(this);var C=this.g.Z();this.X=C;t:if(Hg(this)){var D=dy(this.g);u="";var j=D.length,U=_r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ws(this),Xo(this);var se="";break t}this.h.i=new a.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,u+=this.h.i.decode(D[g],{stream:!(U&&g==j-1)});D.length=0,this.h.g+=u,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=C==200,uh(this.i,this.u,this.A,this.l,this.R,Ot,C),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,It=this.g;if((Me=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(Me)){var je=Me;break t}}je=null}if(C=je)Di(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mh(this,C);else{this.o=!1,this.s=3,St(12),Ws(this),Xo(this);break e}}if(this.P){C=!0;let Mn;for(;!this.J&&this.C<se.length;)if(Mn=u4(this,se),Mn==hh){Ot==4&&(this.s=4,St(14),C=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==qg){this.s=4,St(15),Di(this.i,this.l,se,"[Invalid Chunk]"),C=!1;break}else Di(this.i,this.l,Mn,null),mh(this,Mn);if(Hg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||se.length!=0||this.h.h||(this.s=1,St(16),C=!1),this.o=this.o&&C,!C)Di(this.i,this.l,se,"[Invalid Chunked Response]"),Ws(this),Xo(this);else if(0<se.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Eh(jt),jt.M=!0,St(11))}}else Di(this.i,this.l,se,null),mh(this,se);Ot==4&&Ws(this),this.o&&!this.J&&(Ot==4?xy(this.j,this):(this.o=!1,rc(this)))}else I4(this.g),C==400&&0<se.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),Ws(this),Xo(this)}}}catch{}finally{}};function Hg(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function u4(u,g){var C=u.C,D=g.indexOf(`
`,C);return D==-1?hh:(C=Number(g.substring(C,D)),isNaN(C)?qg:(D+=1,D+C>g.length?hh:(g=g.slice(D,D+C),u.C=D+C,g)))}$r.prototype.cancel=function(){this.J=!0,Ws(this)};function rc(u){u.S=Date.now()+u.I,Wg(u,u.I)}function Wg(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=mt(p(u.ba,u),g)}function ph(u){u.B&&(a.clearTimeout(u.B),u.B=null)}$r.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(l4(this.i,this.A),this.L!=2&&(Hs(),St(17)),Ws(this),this.s=2,Xo(this)):Wg(this,this.S-u)};function Xo(u){u.j.G==0||u.J||xy(u.j,u)}function Ws(u){ph(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,zs(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function mh(u,g){try{var C=u.j;if(C.G!=0&&(C.g==u||gh(C.h,u))){if(!u.K&&gh(C.h,u)&&C.G==3){try{var D=C.Da.g.parse(g)}catch{D=null}if(Array.isArray(D)&&D.length==3){var j=D;if(j[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<u.F)hc(C),uc(C);else break e;_h(C),St(18)}}else C.za=j[1],0<C.za-C.T&&37500>j[2]&&C.F&&C.v==0&&!C.C&&(C.C=mt(p(C.Za,C),6e3));if(1>=Qg(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Gs(C,11)}else if((u.K||C.g==u)&&hc(C),!m(g))for(j=C.Da.g.parse(g),g=0;g<j.length;g++){let je=j[g];if(C.T=je[0],je=je[1],C.G==2)if(je[0]=="c"){C.K=je[1],C.ia=je[2];const jt=je[3];jt!=null&&(C.la=jt,C.j.info("VER="+C.la));const Ot=je[4];Ot!=null&&(C.Aa=Ot,C.j.info("SVER="+C.Aa));const Bi=je[5];Bi!=null&&typeof Bi=="number"&&0<Bi&&(D=1.5*Bi,C.L=D,C.j.info("backChannelRequestTimeoutMs_="+D)),D=C;const Mn=u.g;if(Mn){const pc=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pc){var U=D.h;U.g||pc.indexOf("spdy")==-1&&pc.indexOf("quic")==-1&&pc.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(yh(U,U.h),U.h=null))}if(D.D){const wh=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;wh&&(D.ya=wh,$e(D.I,D.D,wh))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-u.F,C.j.info("Handshake RTT: "+C.R+"ms")),D=C;var se=u;if(D.qa=Ey(D,D.J?D.ia:null,D.W),se.K){Yg(D.h,se);var Me=se,It=D.L;It&&(Me.I=It),Me.B&&(ph(Me),rc(Me)),D.g=se}else gy(D);0<C.i.length&&dc(C)}else je[0]!="stop"&&je[0]!="close"||Gs(C,7);else C.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Gs(C,7):vh(C):je[0]!="noop"&&C.l&&C.l.ta(je),C.v=0)}}Hs(4)}catch{}}var d4=class{constructor(u,g){this.g=u,this.map=g}};function Kg(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gg(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Qg(u){return u.h?1:u.g?u.g.size:0}function gh(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function yh(u,g){u.g?u.g.add(g):u.h=g}function Yg(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Kg.prototype.cancel=function(){if(this.i=Xg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Xg(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const C of u.g.values())g=g.concat(C.D);return g}return w(u.i)}function h4(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var g=[],C=u.length,D=0;D<C;D++)g.push(u[D]);return g}g=[],C=0;for(D in u)g[C++]=u[D];return g}function f4(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var g=[];u=u.length;for(var C=0;C<u;C++)g.push(C);return g}g=[],C=0;for(const D in u)g[C++]=D;return g}}}function Jg(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var C=f4(u),D=h4(u),j=D.length,U=0;U<j;U++)g.call(void 0,D[U],C&&C[U],u)}var Zg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function p4(u,g){if(u){u=u.split("&");for(var C=0;C<u.length;C++){var D=u[C].indexOf("="),j=null;if(0<=D){var U=u[C].substring(0,D);j=u[C].substring(D+1)}else U=u[C];g(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ks(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ks){this.h=u.h,sc(this,u.j),this.o=u.o,this.g=u.g,ic(this,u.s),this.l=u.l;var g=u.i,C=new ea;C.i=g.i,g.g&&(C.g=new Map(g.g),C.h=g.h),ey(this,C),this.m=u.m}else u&&(g=String(u).match(Zg))?(this.h=!1,sc(this,g[1]||"",!0),this.o=Jo(g[2]||""),this.g=Jo(g[3]||"",!0),ic(this,g[4]),this.l=Jo(g[5]||"",!0),ey(this,g[6]||"",!0),this.m=Jo(g[7]||"")):(this.h=!1,this.i=new ea(null,this.h))}Ks.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Zo(g,ty,!0),":");var C=this.g;return(C||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Zo(g,ty,!0),"@"),u.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&u.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&u.push("/"),u.push(Zo(C,C.charAt(0)=="/"?y4:g4,!0))),(C=this.i.toString())&&u.push("?",C),(C=this.m)&&u.push("#",Zo(C,v4)),u.join("")};function vr(u){return new Ks(u)}function sc(u,g,C){u.j=C?Jo(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ic(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function ey(u,g,C){g instanceof ea?(u.i=g,_4(u.i,u.h)):(C||(g=Zo(g,x4)),u.i=new ea(g,u.h))}function $e(u,g,C){u.i.set(g,C)}function oc(u){return $e(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Jo(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Zo(u,g,C){return typeof u=="string"?(u=encodeURI(u).replace(g,m4),C&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function m4(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ty=/[#\/\?@]/g,g4=/[#\?:]/g,y4=/[#\?]/g,x4=/[#\?@]/g,v4=/#/g;function ea(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Hr(u){u.g||(u.g=new Map,u.h=0,u.i&&p4(u.i,function(g,C){u.add(decodeURIComponent(g.replace(/\+/g," ")),C)}))}t=ea.prototype,t.add=function(u,g){Hr(this),this.i=null,u=Pi(this,u);var C=this.g.get(u);return C||this.g.set(u,C=[]),C.push(g),this.h+=1,this};function ny(u,g){Hr(u),g=Pi(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function ry(u,g){return Hr(u),g=Pi(u,g),u.g.has(g)}t.forEach=function(u,g){Hr(this),this.g.forEach(function(C,D){C.forEach(function(j){u.call(g,j,D,this)},this)},this)},t.na=function(){Hr(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),C=[];for(let D=0;D<g.length;D++){const j=u[D];for(let U=0;U<j.length;U++)C.push(g[D])}return C},t.V=function(u){Hr(this);let g=[];if(typeof u=="string")ry(this,u)&&(g=g.concat(this.g.get(Pi(this,u))));else{u=Array.from(this.g.values());for(let C=0;C<u.length;C++)g=g.concat(u[C])}return g},t.set=function(u,g){return Hr(this),this.i=null,u=Pi(this,u),ry(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function sy(u,g,C){ny(u,g),0<C.length&&(u.i=null,u.g.set(Pi(u,g),w(C)),u.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var C=0;C<g.length;C++){var D=g[C];const U=encodeURIComponent(String(D)),se=this.V(D);for(D=0;D<se.length;D++){var j=U;se[D]!==""&&(j+="="+encodeURIComponent(String(se[D]))),u.push(j)}}return this.i=u.join("&")};function Pi(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function _4(u,g){g&&!u.j&&(Hr(u),u.i=null,u.g.forEach(function(C,D){var j=D.toLowerCase();D!=j&&(ny(this,D),sy(this,j,C))},u)),u.j=g}function E4(u,g){const C=new rn;if(a.Image){const D=new Image;D.onload=v(Wr,C,"TestLoadImage: loaded",!0,g,D),D.onerror=v(Wr,C,"TestLoadImage: error",!1,g,D),D.onabort=v(Wr,C,"TestLoadImage: abort",!1,g,D),D.ontimeout=v(Wr,C,"TestLoadImage: timeout",!1,g,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=u}else g(!1)}function w4(u,g){const C=new rn,D=new AbortController,j=setTimeout(()=>{D.abort(),Wr(C,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:D.signal}).then(U=>{clearTimeout(j),U.ok?Wr(C,"TestPingServer: ok",!0,g):Wr(C,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),Wr(C,"TestPingServer: error",!1,g)})}function Wr(u,g,C,D,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),D(C)}catch{}}function A4(){this.g=new ch}function C4(u,g,C){const D=C||"";try{Jg(u,function(j,U){let se=j;c(j)&&(se=yr(j)),g.push(D+U+"="+encodeURIComponent(se))})}catch(j){throw g.push(D+"type="+encodeURIComponent("_badmap")),j}}function ac(u){this.l=u.Ub||null,this.j=u.eb||!1}x(ac,ki),ac.prototype.g=function(){return new lc(this.l,this.j)},ac.prototype.i=function(u){return function(){return u}}({});function lc(u,g){Ee.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(lc,Ee),t=lc.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,na(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ta(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,na(this)),this.g&&(this.readyState=3,na(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;iy(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function iy(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?ta(this):na(this),this.readyState==3&&iy(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,ta(this))},t.Qa=function(u){this.g&&(this.response=u,ta(this))},t.ga=function(){this.g&&ta(this)};function ta(u){u.readyState=4,u.l=null,u.j=null,u.v=null,na(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var C=g.next();!C.done;)C=C.value,u.push(C[0]+": "+C[1]),C=g.next();return u.join(`\r
`)};function na(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(lc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function oy(u){let g="";return F(u,function(C,D){g+=D,g+=":",g+=C,g+=`\r
`}),g}function xh(u,g,C){e:{for(D in C){var D=!1;break e}D=!0}D||(C=oy(C),typeof u=="string"?C!=null&&encodeURIComponent(String(C)):$e(u,g,C))}function Je(u){Ee.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Je,Ee);var T4=/^https?$/i,S4=["POST","PUT"];t=Je.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,C,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dh.g(),this.v=this.o?Xl(this.o):Xl(dh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(U){ay(this,U);return}if(u=C||"",C=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var j in D)C.set(j,D[j]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const U of D.keys())C.set(U,D.get(U));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(C.keys()).find(U=>U.toLowerCase()=="content-type"),j=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(S4,g,void 0))||D||j||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,se]of C)this.g.setRequestHeader(U,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uy(this),this.u=!0,this.g.send(u),this.u=!1}catch(U){ay(this,U)}};function ay(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,ly(u),cc(u)}function ly(u){u.A||(u.A=!0,Ae(u,"complete"),Ae(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ae(this,"complete"),Ae(this,"abort"),cc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cc(this,!0)),Je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?cy(this):this.bb())},t.bb=function(){cy(this)};function cy(u){if(u.h&&typeof o<"u"&&(!u.v[1]||_r(u)!=4||u.Z()!=2)){if(u.u&&_r(u)==4)Ms(u.Ea,0,u);else if(Ae(u,"readystatechange"),_r(u)==4){u.h=!1;try{const se=u.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var C;if(!(C=g)){var D;if(D=se===0){var j=String(u.D).match(Zg)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),D=!T4.test(j?j.toLowerCase():"")}C=D}if(C)Ae(u,"complete"),Ae(u,"success");else{u.m=6;try{var U=2<_r(u)?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.Z()+"]",ly(u)}}finally{cc(u)}}}}function cc(u,g){if(u.g){uy(u);const C=u.g,D=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Ae(u,"ready");try{C.onreadystatechange=D}catch{}}}function uy(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function _r(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<_r(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),lh(g)}};function dy(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function I4(u){const g={};u=(u.g&&2<=_r(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<u.length;D++){if(m(u[D]))continue;var C=k(u[D]);const j=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const U=g[j]||[];g[j]=U,U.push(C)}I(g,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ra(u,g,C){return C&&C.internalChannelParams&&C.internalChannelParams[u]||g}function hy(u){this.Aa=0,this.i=[],this.j=new rn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ra("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ra("baseRetryDelayMs",5e3,u),this.cb=ra("retryDelaySeedMs",1e4,u),this.Wa=ra("forwardChannelMaxRetries",2,u),this.wa=ra("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Kg(u&&u.concurrentRequestLimit),this.Da=new A4,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=hy.prototype,t.la=8,t.G=1,t.connect=function(u,g,C,D){St(0),this.W=u,this.H=g||{},C&&D!==void 0&&(this.H.OSID=C,this.H.OAID=D),this.F=this.X,this.I=Ey(this,null,this.W),dc(this)};function vh(u){if(fy(u),u.G==3){var g=u.U++,C=vr(u.I);if($e(C,"SID",u.K),$e(C,"RID",g),$e(C,"TYPE","terminate"),sa(u,C),g=new $r(u,u.j,g),g.L=2,g.v=oc(vr(C)),C=!1,a.navigator&&a.navigator.sendBeacon)try{C=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!C&&a.Image&&(new Image().src=g.v,C=!0),C||(g.g=wy(g.j,null),g.g.ea(g.v)),g.F=Date.now(),rc(g)}_y(u)}function uc(u){u.g&&(Eh(u),u.g.cancel(),u.g=null)}function fy(u){uc(u),u.u&&(a.clearTimeout(u.u),u.u=null),hc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function dc(u){if(!Gg(u.h)&&!u.s){u.s=!0;var g=u.Ga;le||te(),W||(le(),W=!0),Z.add(g,u),u.B=0}}function b4(u,g){return Qg(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=mt(p(u.Ga,u,g),vy(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new $r(this,this.j,u);let U=this.o;if(this.S&&(U?(U=T(U),S(U,this.S)):U=this.S),this.m!==null||this.O||(j.H=U,U=null),this.P)e:{for(var g=0,C=0;C<this.i.length;C++){t:{var D=this.i[C];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(g+=D,4096<g){g=C;break e}if(g===4096||C===this.i.length-1){g=C+1;break e}}g=1e3}else g=1e3;g=my(this,j,g),C=vr(this.I),$e(C,"RID",u),$e(C,"CVER",22),this.D&&$e(C,"X-HTTP-Session-Id",this.D),sa(this,C),U&&(this.O?g="headers="+encodeURIComponent(String(oy(U)))+"&"+g:this.m&&xh(C,this.m,U)),yh(this.h,j),this.Ua&&$e(C,"TYPE","init"),this.P?($e(C,"$req",g),$e(C,"SID","null"),j.T=!0,fh(j,C,null)):fh(j,C,g),this.G=2}}else this.G==3&&(u?py(this,u):this.i.length==0||Gg(this.h)||py(this))};function py(u,g){var C;g?C=g.l:C=u.U++;const D=vr(u.I);$e(D,"SID",u.K),$e(D,"RID",C),$e(D,"AID",u.T),sa(u,D),u.m&&u.o&&xh(D,u.m,u.o),C=new $r(u,u.j,C,u.B+1),u.m===null&&(C.H=u.o),g&&(u.i=g.D.concat(u.i)),g=my(u,C,1e3),C.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),yh(u.h,C),fh(C,D,g)}function sa(u,g){u.H&&F(u.H,function(C,D){$e(g,D,C)}),u.l&&Jg({},function(C,D){$e(g,D,C)})}function my(u,g,C){C=Math.min(u.i.length,C);var D=u.l?p(u.l.Na,u.l,u):null;e:{var j=u.i;let U=-1;for(;;){const se=["count="+C];U==-1?0<C?(U=j[0].g,se.push("ofs="+U)):U=0:se.push("ofs="+U);let Me=!0;for(let It=0;It<C;It++){let je=j[It].g;const jt=j[It].map;if(je-=U,0>je)U=Math.max(0,j[It].g-100),Me=!1;else try{C4(jt,se,"req"+je+"_")}catch{D&&D(jt)}}if(Me){D=se.join("&");break e}}}return u=u.i.splice(0,C),g.D=u,D}function gy(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;le||te(),W||(le(),W=!0),Z.add(g,u),u.v=0}}function _h(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=mt(p(u.Fa,u),vy(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,yy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=mt(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),uc(this),yy(this))};function Eh(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function yy(u){u.g=new $r(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=vr(u.qa);$e(g,"RID","rpc"),$e(g,"SID",u.K),$e(g,"AID",u.T),$e(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&$e(g,"TO",u.ja),$e(g,"TYPE","xmlhttp"),sa(u,g),u.m&&u.o&&xh(g,u.m,u.o),u.L&&(u.g.I=u.L);var C=u.g;u=u.ia,C.L=1,C.v=oc(vr(g)),C.m=null,C.P=!0,$g(C,u)}t.Za=function(){this.C!=null&&(this.C=null,uc(this),_h(this),St(19))};function hc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function xy(u,g){var C=null;if(u.g==g){hc(u),Eh(u),u.g=null;var D=2}else if(gh(u.h,g))C=g.D,Yg(u.h,g),D=1;else return;if(u.G!=0){if(g.o)if(D==1){C=g.m?g.m.length:0,g=Date.now()-g.F;var j=u.B;D=$s(),Ae(D,new Yo(D,C)),dc(u)}else gy(u);else if(j=g.s,j==3||j==0&&0<g.X||!(D==1&&b4(u,g)||D==2&&_h(u)))switch(C&&0<C.length&&(g=u.h,g.i=g.i.concat(C)),j){case 1:Gs(u,5);break;case 4:Gs(u,10);break;case 3:Gs(u,6);break;default:Gs(u,2)}}}function vy(u,g){let C=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(C*=2),C*g}function Gs(u,g){if(u.j.info("Error code "+g),g==2){var C=p(u.fb,u),D=u.Xa;const j=!D;D=new Ks(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||sc(D,"https"),oc(D),j?E4(D.toString(),C):w4(D.toString(),C)}else St(2);u.G=0,u.l&&u.l.sa(g),_y(u),fy(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function _y(u){if(u.G=0,u.ka=[],u.l){const g=Xg(u.h);(g.length!=0||u.i.length!=0)&&(E(u.ka,g),E(u.ka,u.i),u.h.i.length=0,w(u.i),u.i.length=0),u.l.ra()}}function Ey(u,g,C){var D=C instanceof Ks?vr(C):new Ks(C);if(D.g!="")g&&(D.g=g+"."+D.g),ic(D,D.s);else{var j=a.location;D=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var U=new Ks(null);D&&sc(U,D),g&&(U.g=g),j&&ic(U,j),C&&(U.l=C),D=U}return C=u.D,g=u.ya,C&&g&&$e(D,C,g),$e(D,"VER",u.la),sa(u,D),D}function wy(u,g,C){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Je(new ac({eb:C})):new Je(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ay(){}t=Ay.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fc(){}fc.prototype.g=function(u,g){return new gn(u,g)};function gn(u,g){Ee.call(this),this.g=new hy(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!m(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!m(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Fi(this)}x(gn,Ee),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){vh(this.g)},gn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var C={};C.__data__=u,u=C}else this.u&&(C={},C.__data__=yr(u),u=C);g.i.push(new d4(g.Ya++,u)),g.G==3&&dc(g)},gn.prototype.N=function(){this.g.l=null,delete this.j,vh(this.g),delete this.g,gn.aa.N.call(this)};function Cy(u){Ni.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const C in g){u=C;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}x(Cy,Ni);function Ty(){Go.call(this),this.status=1}x(Ty,Go);function Fi(u){this.g=u}x(Fi,Ay),Fi.prototype.ua=function(){Ae(this.g,"a")},Fi.prototype.ta=function(u){Ae(this.g,new Cy(u))},Fi.prototype.sa=function(u){Ae(this.g,new Ty)},Fi.prototype.ra=function(){Ae(this.g,"b")},fc.prototype.createWebChannel=fc.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,xA=function(){return new fc},yA=function(){return $s()},gA=xr,cp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tc.NO_ERROR=0,tc.TIMEOUT=8,tc.HTTP_ERROR=6,iu=tc,Ug.COMPLETE="complete",mA=Ug,Ko.EventType=qs,qs.OPEN="a",qs.CLOSE="b",qs.ERROR="c",qs.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,Ca=Ko,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,pA=Je}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const Ov="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ut.UNAUTHENTICATED=new Ut(null),Ut.GOOGLE_CREDENTIALS=new Ut("google-credentials-uid"),Ut.FIRST_PARTY=new Ut("first-party-uid"),Ut.MOCK_USER=new Ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new Nm("@firebase/firestore");function pa(){return yi.logLevel}function he(t,...e){if(yi.logLevel<=ke.DEBUG){const n=e.map(qm);yi.debug(`Firestore (${Vo}): ${t}`,...n)}}function Vr(t,...e){if(yi.logLevel<=ke.ERROR){const n=e.map(qm);yi.error(`Firestore (${Vo}): ${t}`,...n)}}function wo(t,...e){if(yi.logLevel<=ke.WARN){const n=e.map(qm);yi.warn(`Firestore (${Vo}): ${t}`,...n)}}function qm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t="Unexpected state"){const e=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: `+t;throw Vr(e),new Error(e)}function Be(t,e){t||pe()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends zr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ut.UNAUTHENTICATED))}shutdown(){}}class s8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class i8{constructor(e){this.t=e,this.currentUser=Ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Be(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new dr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new dr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string"),new vA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new Ut(e)}}class o8{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class a8{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new o8(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l8{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c8{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Be(this.o===void 0);const r=i=>{i.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,he("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Be(typeof n.token=="string"),this.R=n.token,new l8(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=u8(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function Ao(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new vt(0,0))}static max(){return new ge(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(),r===void 0?r=e.length-n:r>e.length-n&&pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ze extends yl{construct(e,n,r){return new ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ze(n)}static emptyPath(){return new ze([])}}const d8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends yl{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return d8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ae(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ae(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ae(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.path=e}static fromPath(e){return new fe(ze.fromString(e))}static fromName(e){return new fe(ze.fromString(e).popFirst(5))}static empty(){return new fe(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new ze(e.slice()))}}function h8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ge.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new Is(s,fe.empty(),e)}function f8(t){return new Is(t.readTime,t.key,-1)}class Is{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Is(ge.min(),fe.empty(),-1)}static max(){return new Is(ge.max(),fe.empty(),-1)}}function p8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==m8)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(s=>s?Q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new Q((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function y8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}$m.oe=-1;function Ml(t){return t==null}function Yu(t){return t===0&&1/t==-1/0}function x8(t){return typeof t=="number"&&Number.isInteger(t)&&!Yu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Si(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function EA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=s??Rt.EMPTY,this.right=i??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Rt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Rt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vv(this.data.getIterator())}getIteratorFrom(e){return new Vv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class Vv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Dt(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new wA("Invalid base64 string: "+i):i}}(e);return new Bt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const v8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(t){if(Be(!!t),typeof t=="string"){let e=0;const n=v8.exec(t);if(Be(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xi(t){return typeof t=="string"?Bt.fromBase64String(t):Bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wm(t){const e=t.mapValue.fields.__previous_value__;return Hm(e)?Wm(e):e}function xl(t){const e=bs(t.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class vl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new vl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof vl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hm(t)?4:w8(t)?9007199254740991:E8(t)?10:11:pe()}function fr(t,e){if(t===e)return!0;const n=vi(t);if(n!==vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xl(t).isEqual(xl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=bs(s.timestampValue),a=bs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return xi(s.bytesValue).isEqual(xi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return st(s.geoPointValue.latitude)===st(i.geoPointValue.latitude)&&st(s.geoPointValue.longitude)===st(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return st(s.integerValue)===st(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=st(s.doubleValue),a=st(i.doubleValue);return o===a?Yu(o)===Yu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ao(t.arrayValue.values||[],e.arrayValue.values||[],fr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Lv(o)!==Lv(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!fr(o[l],a[l])))return!1;return!0}(t,e);default:return pe()}}function _l(t,e){return(t.values||[]).find(n=>fr(n,e))!==void 0}function Co(t,e){if(t===e)return 0;const n=vi(t),r=vi(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=st(i.integerValue||i.doubleValue),l=st(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Mv(t.timestampValue,e.timestampValue);case 4:return Mv(xl(t),xl(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(i,o){const a=xi(i),l=xi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Oe(a[c],l[c]);if(d!==0)return d}return Oe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Oe(st(i.latitude),st(o.latitude));return a!==0?a:Oe(st(i.longitude),st(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Uv(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,d;const h=i.fields||{},p=o.fields||{},v=(a=h.value)===null||a===void 0?void 0:a.arrayValue,x=(l=p.value)===null||l===void 0?void 0:l.arrayValue,w=Oe(((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0,((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:Uv(v,x)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Oc.mapValue&&o===Oc.mapValue)return 0;if(i===Oc.mapValue)return 1;if(o===Oc.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=Oe(l[h],d[h]);if(p!==0)return p;const v=Co(a[l[h]],c[d[h]]);if(v!==0)return v}return Oe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw pe()}}function Mv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=bs(t),r=bs(e),s=Oe(n.seconds,r.seconds);return s!==0?s:Oe(n.nanos,r.nanos)}function Uv(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Co(n[s],r[s]);if(i)return i}return Oe(n.length,r.length)}function To(t){return up(t)}function up(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=bs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=up(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${up(n.fields[o])}`;return s+"}"}(t.mapValue):pe()}function zv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dp(t){return!!t&&"integerValue"in t}function Km(t){return!!t&&"arrayValue"in t}function qv(t){return!!t&&"nullValue"in t}function $v(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ou(t){return!!t&&"mapValue"in t}function E8(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function La(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Si(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=La(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=La(t.arrayValue.values[n]);return e}return Object.assign({},t)}function w8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ou(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=La(n)}setAll(e){let n=kt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=La(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());ou(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ou(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Si(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Xt(La(this.value))}}function AA(t){const e=[];return Si(t.fields,(n,r)=>{const s=new kt([n]);if(ou(r)){const i=AA(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new At(e,0,ge.min(),ge.min(),ge.min(),Xt.empty(),0)}static newFoundDocument(e,n,r,s){return new At(e,1,n,ge.min(),r,s,0)}static newNoDocument(e,n){return new At(e,2,n,ge.min(),ge.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new At(e,3,n,ge.min(),ge.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof At&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new At(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n){this.position=e,this.inclusive=n}}function Hv(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=fe.comparator(fe.fromName(o.referenceValue),n.key):r=Co(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Wv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n="asc"){this.field=e,this.dir=n}}function A8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{}class dt extends CA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new T8(e,n,r):n==="array-contains"?new b8(e,r):n==="in"?new R8(e,r):n==="not-in"?new k8(e,r):n==="array-contains-any"?new N8(e,r):new dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new S8(e,r):new I8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Co(n,this.value)):n!==null&&vi(this.value)===vi(n)&&this.matchesComparison(Co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends CA{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Xn(e,n)}matches(e){return TA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function TA(t){return t.op==="and"}function SA(t){return C8(t)&&TA(t)}function C8(t){for(const e of t.filters)if(e instanceof Xn)return!1;return!0}function hp(t){if(t instanceof dt)return t.field.canonicalString()+t.op.toString()+To(t.value);if(SA(t))return t.filters.map(e=>hp(e)).join(",");{const e=t.filters.map(n=>hp(n)).join(",");return`${t.op}(${e})`}}function IA(t,e){return t instanceof dt?function(r,s){return s instanceof dt&&r.op===s.op&&r.field.isEqual(s.field)&&fr(r.value,s.value)}(t,e):t instanceof Xn?function(r,s){return s instanceof Xn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&IA(o,s.filters[a]),!0):!1}(t,e):void pe()}function bA(t){return t instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`}(t):t instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(bA).join(" ,")+"}"}(t):"Filter"}class T8 extends dt{constructor(e,n,r){super(e,n,r),this.key=fe.fromName(r.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class S8 extends dt{constructor(e,n){super(e,"in",n),this.keys=RA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class I8 extends dt{constructor(e,n){super(e,"not-in",n),this.keys=RA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function RA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>fe.fromName(r.referenceValue))}class b8 extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Km(n)&&_l(n.arrayValue,this.value)}}class R8 extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_l(this.value.arrayValue,n)}}class k8 extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(_l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!_l(this.value.arrayValue,n)}}class N8 extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Km(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_l(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Kv(t,e=null,n=[],r=[],s=null,i=null,o=null){return new D8(t,e,n,r,s,i,o)}function Gm(t){const e=_e(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>hp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ml(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>To(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>To(r)).join(",")),e.ue=n}return e.ue}function Qm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!A8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Wv(t.startAt,e.startAt)&&Wv(t.endAt,e.endAt)}function fp(t){return fe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function P8(t,e,n,r,s,i,o,a){return new Mo(t,e,n,r,s,i,o,a)}function qd(t){return new Mo(t)}function Gv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kA(t){return t.collectionGroup!==null}function Va(t){const e=_e(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Dt(kt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new El(i,r))}),n.has(kt.keyField().canonicalString())||e.ce.push(new El(kt.keyField(),r))}return e.ce}function hr(t){const e=_e(t);return e.le||(e.le=F8(e,Va(t))),e.le}function F8(t,e){if(t.limitType==="F")return Kv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new El(s.field,i)});const n=t.endAt?new Xu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xu(t.startAt.position,t.startAt.inclusive):null;return Kv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function pp(t,e){const n=t.filters.concat([e]);return new Mo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ju(t,e,n){return new Mo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $d(t,e){return Qm(hr(t),hr(e))&&t.limitType===e.limitType}function NA(t){return`${Gm(hr(t))}|lt:${t.limitType}`}function Li(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>bA(s)).join(", ")}]`),Ml(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>To(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>To(s)).join(",")),`Target(${r})`}(hr(t))}; limitType=${t.limitType})`}function Hd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):fe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Va(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=Hv(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Va(r),s)||r.endAt&&!function(o,a,l){const c=Hv(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Va(r),s))}(t,e)}function B8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DA(t){return(e,n)=>{let r=!1;for(const s of Va(t)){const i=j8(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function j8(t,e,n){const r=t.field.isKeyField()?fe.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Co(l,c):pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Si(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return EA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8=new Xe(fe.comparator);function Mr(){return O8}const PA=new Xe(fe.comparator);function Ta(...t){let e=PA;for(const n of t)e=e.insert(n.key,n);return e}function FA(t){let e=PA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ni(){return Ma()}function BA(){return Ma()}function Ma(){return new Uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const L8=new Xe(fe.comparator),V8=new Dt(fe.comparator);function Re(...t){let e=V8;for(const n of t)e=e.add(n);return e}const M8=new Dt(Oe);function U8(){return M8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(e)?"-0":e}}function jA(t){return{integerValue:""+t}}function z8(t,e){return x8(e)?jA(e):Ym(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(){this._=void 0}}function q8(t,e,n){return t instanceof Zu?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Hm(i)&&(i=Wm(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof wl?LA(t,e):t instanceof Al?VA(t,e):function(s,i){const o=OA(s,i),a=Qv(o)+Qv(s.Pe);return dp(o)&&dp(s.Pe)?jA(a):Ym(s.serializer,a)}(t,e)}function $8(t,e,n){return t instanceof wl?LA(t,e):t instanceof Al?VA(t,e):n}function OA(t,e){return t instanceof ed?function(r){return dp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Zu extends Wd{}class wl extends Wd{constructor(e){super(),this.elements=e}}function LA(t,e){const n=MA(e);for(const r of t.elements)n.some(s=>fr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Al extends Wd{constructor(e){super(),this.elements=e}}function VA(t,e){let n=MA(e);for(const r of t.elements)n=n.filter(s=>!fr(s,r));return{arrayValue:{values:n}}}class ed extends Wd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Qv(t){return st(t.integerValue||t.doubleValue)}function MA(t){return Km(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function H8(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof wl&&s instanceof wl||r instanceof Al&&s instanceof Al?Ao(r.elements,s.elements,fr):r instanceof ed&&s instanceof ed?fr(r.Pe,s.Pe):r instanceof Zu&&s instanceof Zu}(t.transform,e.transform)}class W8{constructor(e,n){this.version=e,this.transformResults=n}}class ht{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ht}static exists(e){return new ht(void 0,e)}static updateTime(e){return new ht(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function au(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kd{}function UA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zl(t.key,ht.none()):new Ul(t.key,t.data,ht.none());{const n=t.data,r=Xt.empty();let s=new Dt(kt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Os(t.key,r,new wn(s.toArray()),ht.none())}}function K8(t,e,n){t instanceof Ul?function(s,i,o){const a=s.value.clone(),l=Xv(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Os?function(s,i,o){if(!au(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Xv(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(zA(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ua(t,e,n,r){return t instanceof Ul?function(i,o,a,l){if(!au(i.precondition,o))return a;const c=i.value.clone(),d=Jv(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Os?function(i,o,a,l){if(!au(i.precondition,o))return a;const c=Jv(i.fieldTransforms,l,o),d=o.data;return d.setAll(zA(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return au(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function G8(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=OA(r.transform,s||null);i!=null&&(n===null&&(n=Xt.empty()),n.set(r.field,i))}return n||null}function Yv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ao(r,s,(i,o)=>H8(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ul extends Kd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Os extends Kd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function zA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Xv(t,e,n){const r=new Map;Be(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,$8(o,a,n[s]))}return r}function Jv(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,q8(i,o,e))}return r}class zl extends Kd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qA extends Kd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&K8(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ua(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ua(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BA();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=UA(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,(n,r)=>Yv(n,r))&&Ao(this.baseMutations,e.baseMutations,(n,r)=>Yv(n,r))}}class Xm{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Be(e.mutations.length===r.length);let s=function(){return L8}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Xm(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,De;function $A(t){switch(t){default:return pe();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function HA(t){if(t===void 0)return Vr("GRPC error has no .code"),K.UNKNOWN;switch(t){case ct.OK:return K.OK;case ct.CANCELLED:return K.CANCELLED;case ct.UNKNOWN:return K.UNKNOWN;case ct.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ct.INTERNAL:return K.INTERNAL;case ct.UNAVAILABLE:return K.UNAVAILABLE;case ct.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ct.NOT_FOUND:return K.NOT_FOUND;case ct.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ct.ABORTED:return K.ABORTED;case ct.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ct.DATA_LOSS:return K.DATA_LOSS;default:return pe()}}(De=ct||(ct={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8=new ai([4294967295,4294967295],0);function Zv(t){const e=J8().encode(t),n=new fA;return n.update(e),new Uint8Array(n.digest())}function e1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ai([n,r],0),new ai([s,i],0)]}class Jm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sa(`Invalid padding: ${n}`);if(r<0)throw new Sa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sa(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ai.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(ai.fromNumber(r)));return s.compare(Z8)===1&&(s=new ai([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Zv(e),[r,s]=e1(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Jm(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Zv(e),[r,s]=e1(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Sa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ql.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gd(ge.min(),s,new Xe(Oe),Mr(),Re())}}class ql{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ql(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class WA{constructor(e,n){this.targetId=e,this.me=n}}class KA{constructor(e,n,r=Bt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class t1{constructor(){this.fe=0,this.ge=r1(),this.pe=Bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Re(),n=Re(),r=Re();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:pe()}}),new ql(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=r1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class e6{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mr(),this.qe=n1(),this.Qe=new Xe(Oe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(fp(i))if(r===0){const o=new fe(i.path);this.Ue(n,o,At.newNoDocument(o,ge.min()))}else Be(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=xi(r).toUint8Array()}catch(l){if(l instanceof wA)return wo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Jm(o,s,i)}catch(l){return wo(l instanceof Sa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&fp(a.target)){const l=new fe(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,At.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Re();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Gd(e,n,this.Qe,this.ke,r);return this.ke=Mr(),this.qe=n1(),this.Qe=new Xe(Oe),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new t1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Dt(Oe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new t1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function n1(){return new Xe(fe.comparator)}function r1(){return new Xe(fe.comparator)}const t6={asc:"ASCENDING",desc:"DESCENDING"},n6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r6={and:"AND",or:"OR"};class s6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mp(t,e){return t.useProto3Json||Ml(e)?e:{value:e}}function td(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function i6(t,e){return td(t,e.toTimestamp())}function Tn(t){return Be(!!t),ge.fromTimestamp(function(n){const r=bs(n);return new vt(r.seconds,r.nanos)}(t))}function Zm(t,e){return gp(t,e).canonicalString()}function gp(t,e){const n=function(s){return new ze(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QA(t){const e=ze.fromString(t);return Be(tC(e)),e}function nd(t,e){return Zm(t.databaseId,e.path)}function za(t,e){const n=QA(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fe(XA(n))}function YA(t,e){return Zm(t.databaseId,e)}function o6(t){const e=QA(t);return e.length===4?ze.emptyPath():XA(e)}function yp(t){return new ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XA(t){return Be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function s1(t,e,n){return{name:nd(t,e),fields:n.value.mapValue.fields}}function a6(t,e){return"found"in e?function(r,s){Be(!!s.found),s.found.name,s.found.updateTime;const i=za(r,s.found.name),o=Tn(s.found.updateTime),a=s.found.createTime?Tn(s.found.createTime):ge.min(),l=new Xt({mapValue:{fields:s.found.fields}});return At.newFoundDocument(i,o,a,l)}(t,e):"missing"in e?function(r,s){Be(!!s.missing),Be(!!s.readTime);const i=za(r,s.missing),o=Tn(s.readTime);return At.newNoDocument(i,o)}(t,e):pe()}function l6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Be(d===void 0||typeof d=="string"),Bt.fromBase64String(d||"")):(Be(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Bt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?K.UNKNOWN:HA(c.code);return new ae(d,c.message||"")}(o);n=new KA(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=za(t,r.document.name),i=Tn(r.document.updateTime),o=r.document.createTime?Tn(r.document.createTime):ge.min(),a=new Xt({mapValue:{fields:r.document.fields}}),l=At.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new lu(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=za(t,r.document),i=r.readTime?Tn(r.readTime):ge.min(),o=At.newNoDocument(s,i),a=r.removedTargetIds||[];n=new lu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=za(t,r.document),i=r.removedTargetIds||[];n=new lu([],i,s,null)}else{if(!("filter"in e))return pe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new X8(s,i),a=r.targetId;n=new WA(a,o)}}return n}function JA(t,e){let n;if(e instanceof Ul)n={update:s1(t,e.key,e.value)};else if(e instanceof zl)n={delete:nd(t,e.key)};else if(e instanceof Os)n={update:s1(t,e.key,e.data),updateMask:y6(e.fieldMask)};else{if(!(e instanceof qA))return pe();n={verify:nd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Zu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Al)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ed)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:i6(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:pe()}(t,e.precondition)),n}function c6(t,e){return t&&t.length>0?(Be(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Tn(s.updateTime):Tn(i);return o.isEqual(ge.min())&&(o=Tn(i)),new W8(o,s.transformResults||[])}(n,e))):[]}function u6(t,e){return{documents:[YA(t,e.path)]}}function d6(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=YA(t,s);const i=function(c){if(c.length!==0)return eC(Xn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Vi(p.field),direction:p6(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=mp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function h6(t){let e=o6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Be(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const p=ZA(h);return p instanceof Xn&&SA(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(x){return new El(Mi(x.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Ml(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,v=h.values||[];return new Xu(v,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,v=h.values||[];return new Xu(v,p)}(n.endAt)),P8(e,s,o,i,a,"F",l,c)}function f6(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Mi(n.unaryFilter.field);return dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Mi(n.unaryFilter.field);return dt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Mi(n.unaryFilter.field);return dt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Mi(n.unaryFilter.field);return dt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(t):t.fieldFilter!==void 0?function(n){return dt.create(Mi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(r=>ZA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return pe()}}(n.compositeFilter.op))}(t):pe()}function p6(t){return t6[t]}function m6(t){return n6[t]}function g6(t){return r6[t]}function Vi(t){return{fieldPath:t.canonicalString()}}function Mi(t){return kt.fromServerFormat(t.fieldPath)}function eC(t){return t instanceof dt?function(n){if(n.op==="=="){if($v(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NAN"}};if(qv(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($v(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NOT_NAN"}};if(qv(n.value))return{unaryFilter:{field:Vi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vi(n.field),op:m6(n.op),value:n.value}}}(t):t instanceof Xn?function(n){const r=n.getFilters().map(s=>eC(s));return r.length===1?r[0]:{compositeFilter:{op:g6(n.op),filters:r}}}(t):pe()}function y6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n,r,s,i=ge.min(),o=ge.min(),a=Bt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.ct=e}}function v6(t){const e=h6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ju(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(){this.un=new E6}addToCollectionParentIndex(e,n){return this.un.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Is.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class E6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Dt(ze.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Dt(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new So(0)}static kn(){return new So(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this.changes=new Uo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,At.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ua(r.mutation,s,wn.empty(),vt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const s=ni();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ta();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ni();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Mr();const o=Ma(),a=function(){return Ma()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Os)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ua(d.mutation,c,d.mutation.getFieldMask(),vt.now())):o.set(c.key,wn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new A6(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ma();let s=new Xe((o,a)=>o-a),i=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||wn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(s.get(a.batchId)||Re()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=BA();d.forEach(p=>{if(!i.has(p)){const v=UA(n.get(p),r.get(p));v!==null&&h.set(p,v),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return Q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return fe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Q.resolve(ni());let a=-1,l=i;return o.next(c=>Q.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?Q.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Re())).next(d=>({batchId:a,changes:FA(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next(r=>{let s=Ta();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ta();return this.indexManager.getCollectionParents(e,i).next(a=>Q.forEach(a,l=>{const c=function(h,p){return new Mo(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,At.newInvalidDocument(d)))});let a=Ta();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&Ua(d.mutation,c,wn.empty(),vt.now()),Hd(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Tn(s.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:v6(s.bundledQuery),readTime:Tn(s.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(){this.overlays=new Xe(fe.comparator),this.Ir=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ni();return Q.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=ni(),i=n.length+1,o=new fe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Xe((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=ni(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=ni(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return Q.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Y8(n,r));let i=this.Ir.get(n);i===void 0&&(i=Re(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(){this.Tr=new Dt(Et.Er),this.dr=new Dt(Et.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Et(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Et(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new fe(new ze([])),r=new Et(n,e),s=new Et(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new fe(new ze([])),r=new Et(n,e),s=new Et(n,e+1);let i=Re();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Et(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Et{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return fe.comparator(e.key,n.key)||Oe(e.wr,n.wr)}static Ar(e,n){return Oe(e.wr,n.wr)||fe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Dt(Et.Er)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Q8(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new Et(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,n){return Q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Et(n,0),s=new Et(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dt(Oe);return n.forEach(s=>{const i=new Et(s,0),o=new Et(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),Q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;fe.isDocumentKey(i)||(i=i.child(""));const o=new Et(new fe(i),0);let a=new Dt(Oe);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),Q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Be(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Q.forEach(n.mutations,s=>{const i=new Et(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Et(n,0),s=this.br.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e){this.Mr=e,this.docs=function(){return new Xe(fe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():At.newInvalidDocument(n))}getEntries(e,n){let r=Mr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():At.newInvalidDocument(s))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Mr();const o=n.path,a=new fe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||p8(f8(d),r)<=0||(s.has(d.key)||Hd(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,n,r,s){pe()}Or(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new k6(this)}getSize(e){return Q.resolve(this.size)}}class k6 extends w6{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e){this.persistence=e,this.Nr=new Uo(n=>Gm(n),Qm),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Lr=0,this.Br=new eg,this.targetCount=0,this.kr=So.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new So(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Kn(n),Q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Q.waitFor(i).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Q.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new $m(0),this.Kr=!1,this.Kr=!0,this.$r=new I6,this.referenceDelegate=e(this),this.Ur=new N6(this),this.indexManager=new _6,this.remoteDocumentCache=function(s){return new R6(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new x6(n),this.Gr=new T6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new S6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new b6(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const s=new P6(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return Q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class P6 extends g8{constructor(e){super(),this.currentSequenceNumber=e}}class tg{constructor(e){this.persistence=e,this.Jr=new eg,this.Yr=null}static Zr(e){return new tg(e)}get Xr(){if(this.Yr)return this.Yr;throw pe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Xr,r=>{const s=fe.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,ge.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Q.or([()=>Q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Re(),s=Re();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new ng(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Ik()?8:y8(Kt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new F6;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(pa()<=ke.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Li(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Q.resolve()):(pa()<=ke.DEBUG&&he("QueryEngine","Query:",Li(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(pa()<=ke.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Li(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(n))):Q.resolve())}Yi(e,n){if(Gv(n))return Q.resolve(null);let r=hr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ju(n,null,"F"),r=hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Re(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,Ju(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return Gv(n)||s.isEqual(ge.min())?Q.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?Q.resolve(null):(pa()<=ke.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Li(n)),this.rs(e,o,n,h8(s,-1)).next(a=>a))})}ts(e,n){let r=new Dt(DA(e));return n.forEach((s,i)=>{Hd(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return pa()<=ke.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Li(n)),this.Ji.getDocumentsMatchingQuery(e,n,Is.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Xe(Oe),this._s=new Uo(i=>Gm(i),Qm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function O6(t,e,n,r){return new j6(t,e,n,r)}async function nC(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Re();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function L6(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,p=h.keys();let v=Q.resolve();return p.forEach(x=>{v=v.next(()=>d.getEntry(l,x)).next(w=>{const E=c.docVersions.get(x);Be(E!==null),w.version.compareTo(E)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),d.addEntry(w)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Re();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function rC(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function V6(t,e){const n=_e(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const p=s.get(h);if(!p)return;a.push(n.Ur.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(i,d.addedDocuments,h)));let v=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?v=v.withResumeToken(Bt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),s=s.insert(h,v),function(w,E,_){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,v,d)&&a.push(n.Ur.updateTargetData(i,v))});let l=Mr(),c=Re();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(M6(i,o,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(ge.min())){const d=n.Ur.getLastRemoteSnapshotVersion(i).next(h=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return Q.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function M6(t,e,n){let r=Re(),s=Re();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Mr();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):he("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function U6(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function z6(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,Q.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new us(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function xp(t,e,n){const r=_e(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Vl(o))throw o;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function i1(t,e,n){const r=_e(t);let s=ge.min(),i=Re();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=_e(l),p=h._s.get(d);return p!==void 0?Q.resolve(h.os.get(p)):h.Ur.getTargetData(c,d)}(r,o,hr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:ge.min(),n?i:Re())).next(a=>(q6(r,B8(e),a),{documents:a,Ts:i})))}function q6(t,e,n){let r=t.us.get(e)||ge.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class o1{constructor(){this.activeTargetIds=U8()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $6{constructor(){this.so=new o1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new o1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc=null;function l0(){return Lc===null?Lc=function(){return 268435456+Math.round(2147483648*Math.random())}():Lc++,"0x"+Lc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class G6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=l0(),l=this.xo(n,r.toUriEncodedString());he("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(d=>(he("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw wo("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",s),d})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=W6[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=l0();return new Promise((o,a)=>{const l=new pA;l.setWithCredentials(!0),l.listenOnce(mA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case iu.NO_ERROR:const d=l.getResponseJson();he(Mt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case iu.TIMEOUT:he(Mt,`RPC '${e}' ${i} timed out`),a(new ae(K.DEADLINE_EXCEEDED,"Request time out"));break;case iu.HTTP_ERROR:const h=l.getStatus();if(he(Mt,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const x=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(_)>=0?_:K.UNKNOWN}(v.status);a(new ae(x,v.message))}else a(new ae(K.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ae(K.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{he(Mt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);he(Mt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=l0(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=xA(),a=yA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");he(Mt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);let p=!1,v=!1;const x=new K6({Io:E=>{v?he(Mt,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(p||(he(Mt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),p=!0),he(Mt,`RPC '${e}' stream ${s} sending:`,E),h.send(E))},To:()=>h.close()}),w=(E,_,m)=>{E.listen(_,y=>{try{m(y)}catch(A){setTimeout(()=>{throw A},0)}})};return w(h,Ca.EventType.OPEN,()=>{v||(he(Mt,`RPC '${e}' stream ${s} transport opened.`),x.yo())}),w(h,Ca.EventType.CLOSE,()=>{v||(v=!0,he(Mt,`RPC '${e}' stream ${s} transport closed`),x.So())}),w(h,Ca.EventType.ERROR,E=>{v||(v=!0,wo(Mt,`RPC '${e}' stream ${s} transport errored:`,E),x.So(new ae(K.UNAVAILABLE,"The operation could not be completed")))}),w(h,Ca.EventType.MESSAGE,E=>{var _;if(!v){const m=E.data[0];Be(!!m);const y=m,A=y.error||((_=y[0])===null||_===void 0?void 0:_.error);if(A){he(Mt,`RPC '${e}' stream ${s} received error:`,A);const P=A.status;let F=function(R){const S=ct[R];if(S!==void 0)return HA(S)}(P),I=A.message;F===void 0&&(F=K.INTERNAL,I="Unknown error status: "+P+" with message "+A.message),v=!0,x.So(new ae(F,I)),h.close()}else he(Mt,`RPC '${e}' stream ${s} received:`,m),x.bo(m)}}),w(a,gA.STAT_EVENT,E=>{E.stat===cp.PROXY?he(Mt,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===cp.NOPROXY&&he(Mt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function c0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(t){return new s6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new rg(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(Vr(n.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new ae(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Q6 extends sC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=l6(this.serializer,e),r=function(i){if(!("targetChange"in i))return ge.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Tn(o.readTime):ge.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=yp(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=fp(l)?{documents:u6(i,l)}:{query:d6(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=GA(i,o.resumeToken);const c=mp(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=td(i,o.snapshotVersion.toTimestamp());const c=mp(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=f6(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=yp(this.serializer),n.removeTarget=e,this.a_(n)}}class Y6 extends sC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=c6(e.writeResults,e.commitTime),r=Tn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=yp(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>JA(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ae(K.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,gp(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ae(K.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,gp(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(K.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class J6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vr(n),this.D_=!1):he("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ii(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=_e(l);c.L_.add(4),await $l(c),c.q_.set("Unknown"),c.L_.delete(4),await Yd(c)}(this))})}),this.q_=new J6(r,s)}}async function Yd(t){if(Ii(t))for(const e of t.B_)await e(!0)}async function $l(t){for(const e of t.B_)await e(!1)}function iC(t,e){const n=_e(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ag(n)?og(n):zo(n).r_()&&ig(n,e))}function sg(t,e){const n=_e(t),r=zo(n);n.N_.delete(e),r.r_()&&oC(n,e),n.N_.size===0&&(r.r_()?r.o_():Ii(n)&&n.q_.set("Unknown"))}function ig(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zo(t).A_(e)}function oC(t,e){t.Q_.xe(e),zo(t).R_(e)}function og(t){t.Q_=new e6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),zo(t).start(),t.q_.v_()}function ag(t){return Ii(t)&&!zo(t).n_()&&t.N_.size>0}function Ii(t){return _e(t).L_.size===0}function aC(t){t.Q_=void 0}async function e3(t){t.q_.set("Online")}async function t3(t){t.N_.forEach((e,n)=>{ig(t,e)})}async function n3(t,e){aC(t),ag(t)?(t.q_.M_(e),og(t)):t.q_.set("Unknown")}async function r3(t,e,n){if(t.q_.set("Online"),e instanceof KA&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rd(t,r)}else if(e instanceof lu?t.Q_.Ke(e):e instanceof WA?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ge.min()))try{const r=await rC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.N_.get(c);d&&i.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.N_.get(l);if(!d)return;i.N_.set(l,d.withResumeToken(Bt.EMPTY_BYTE_STRING,d.snapshotVersion)),oC(i,l);const h=new us(d.target,l,c,d.sequenceNumber);ig(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){he("RemoteStore","Failed to raise snapshot:",r),await rd(t,r)}}async function rd(t,e,n){if(!Vl(e))throw e;t.L_.add(1),await $l(t),t.q_.set("Offline"),n||(n=()=>rC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Yd(t)})}function lC(t,e){return e().catch(n=>rd(t,n,e))}async function Xd(t){const e=_e(t),n=Rs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;s3(e);)try{const s=await U6(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,i3(e,s)}catch(s){await rd(e,s)}cC(e)&&uC(e)}function s3(t){return Ii(t)&&t.O_.length<10}function i3(t,e){t.O_.push(e);const n=Rs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function cC(t){return Ii(t)&&!Rs(t).n_()&&t.O_.length>0}function uC(t){Rs(t).start()}async function o3(t){Rs(t).p_()}async function a3(t){const e=Rs(t);for(const n of t.O_)e.m_(n.mutations)}async function l3(t,e,n){const r=t.O_.shift(),s=Xm.from(r,e,n);await lC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Xd(t)}async function c3(t,e){e&&Rs(t).V_&&await async function(r,s){if(function(o){return $A(o)&&o!==K.ABORTED}(s.code)){const i=r.O_.shift();Rs(r).s_(),await lC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Xd(r)}}(t,e),cC(t)&&uC(t)}async function l1(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=Ii(n);n.L_.add(3),await $l(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Yd(n)}async function u3(t,e){const n=_e(t);e?(n.L_.delete(2),await Yd(n)):e||(n.L_.add(2),await $l(n),n.q_.set("Unknown"))}function zo(t){return t.K_||(t.K_=function(n,r,s){const i=_e(n);return i.w_(),new Q6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:e3.bind(null,t),Ro:t3.bind(null,t),mo:n3.bind(null,t),d_:r3.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),ag(t)?og(t):t.q_.set("Unknown")):(await t.K_.stop(),aC(t))})),t.K_}function Rs(t){return t.U_||(t.U_=function(n,r,s){const i=_e(n);return i.w_(),new Y6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:o3.bind(null,t),mo:c3.bind(null,t),f_:a3.bind(null,t),g_:l3.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Xd(t)):(await t.U_.stop(),t.O_.length>0&&(he("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new lg(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cg(t,e){if(Vr("AsyncQueue",`${e}: ${t}`),Vl(t))return new ae(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||fe.comparator(n.key,r.key):(n,r)=>fe.comparator(n.key,r.key),this.keyedMap=Ta(),this.sortedSet=new Xe(this.comparator)}static emptySet(e){return new fo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.W_=new Xe(fe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):pe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Io{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Io(e,n,fo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class h3{constructor(){this.queries=u1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=_e(n),i=s.queries;s.queries=u1(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ae(K.ABORTED,"Firestore shutting down"))}}function u1(){return new Uo(t=>NA(t),$d)}async function ug(t,e){const n=_e(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new d3,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=cg(o,`Initialization of query '${Li(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&hg(n)}async function dg(t,e){const n=_e(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function f3(t,e){const n=_e(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&hg(n)}function p3(t,e,n){const r=_e(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function hg(t){t.Y_.forEach(e=>{e.next()})}var vp,d1;(d1=vp||(vp={})).ea="default",d1.Cache="cache";class fg{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Io(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==vp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.key=e}}class hC{constructor(e){this.key=e}}class m3{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Re(),this.mutatedKeys=Re(),this.Aa=DA(e),this.Ra=new fo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new c1,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const p=s.get(d),v=Hd(this.query,h)?h:null,x=!!p&&this.mutatedKeys.has(p.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;p&&v?p.data.isEqual(v.data)?x!==w&&(r.track({type:3,doc:v}),E=!0):this.ga(p,v)||(r.track({type:2,doc:v}),E=!0,(l&&this.Aa(v,l)>0||c&&this.Aa(v,c)<0)&&(a=!0)):!p&&v?(r.track({type:0,doc:v}),E=!0):p&&!v&&(r.track({type:1,doc:p}),E=!0,(l||c)&&(a=!0)),E&&(v?(o=o.add(v),i=w?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(v,x){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return w(v)-w(x)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Io(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new c1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Re(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new hC(r))}),this.da.forEach(r=>{e.has(r)||n.push(new dC(r))}),n}ba(e){this.Ta=e.Ts,this.da=Re();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Io.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class g3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class y3{constructor(e){this.key=e,this.va=!1}}class x3{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Uo(a=>NA(a),$d),this.Ma=new Map,this.xa=new Set,this.Oa=new Xe(fe.comparator),this.Na=new Map,this.La=new eg,this.Ba={},this.ka=new Map,this.qa=So.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function v3(t,e,n=!0){const r=xC(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await fC(r,e,n,!0),s}async function _3(t,e){const n=xC(t);await fC(n,e,!0,!1)}async function fC(t,e,n,r){const s=await z6(t.localStore,hr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await E3(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&iC(t.remoteStore,s),a}async function E3(t,e,n,r,s){t.Ka=(h,p,v)=>async function(w,E,_,m){let y=E.view.ma(_);y.ns&&(y=await i1(w.localStore,E.query,!1).then(({documents:I})=>E.view.ma(I,y)));const A=m&&m.targetChanges.get(E.targetId),P=m&&m.targetMismatches.get(E.targetId)!=null,F=E.view.applyChanges(y,w.isPrimaryClient,A,P);return f1(w,E.targetId,F.wa),F.snapshot}(t,h,p,v);const i=await i1(t.localStore,e,!0),o=new m3(e,i.Ts),a=o.ma(i.documents),l=ql.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);f1(t,n,c.wa);const d=new g3(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function w3(t,e,n){const r=_e(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!$d(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await xp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&sg(r.remoteStore,s.targetId),_p(r,s.targetId)}).catch(Ll)):(_p(r,s.targetId),await xp(r.localStore,s.targetId,!0))}async function A3(t,e){const n=_e(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sg(n.remoteStore,r.targetId))}async function C3(t,e,n){const r=N3(t);try{const s=await function(o,a){const l=_e(o),c=vt.now(),d=a.reduce((v,x)=>v.add(x.key),Re());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let x=Mr(),w=Re();return l.cs.getEntries(v,d).next(E=>{x=E,x.forEach((_,m)=>{m.isValidDocument()||(w=w.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,x)).next(E=>{h=E;const _=[];for(const m of a){const y=G8(m,h.get(m.key).overlayedDocument);y!=null&&_.push(new Os(m.key,y,AA(y.value.mapValue),ht.exists(!0)))}return l.mutationQueue.addMutationBatch(v,c,_,a)}).next(E=>{p=E;const _=E.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(v,E.batchId,_)})}).then(()=>({batchId:p.batchId,changes:FA(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Xe(Oe)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await Hl(r,s.changes),await Xd(r.remoteStore)}catch(s){const i=cg(s,"Failed to persist write");n.reject(i)}}async function pC(t,e){const n=_e(t);try{const r=await V6(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(Be(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Be(o.va):s.removedDocuments.size>0&&(Be(o.va),o.va=!1))}),await Hl(n,r,e)}catch(r){await Ll(r)}}function h1(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=_e(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const p of h.j_)p.Z_(a)&&(c=!0)}),c&&hg(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function T3(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Xe(fe.comparator);o=o.insert(i,At.newNoDocument(i,ge.min()));const a=Re().add(i),l=new Gd(ge.min(),new Map,new Xe(Oe),o,a);await pC(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),pg(r)}else await xp(r.localStore,e,!1).then(()=>_p(r,e,n)).catch(Ll)}async function S3(t,e){const n=_e(t),r=e.batch.batchId;try{const s=await L6(n.localStore,e);gC(n,r,null),mC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hl(n,s)}catch(s){await Ll(s)}}async function I3(t,e,n){const r=_e(t);try{const s=await function(o,a){const l=_e(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Be(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);gC(r,e,n),mC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hl(r,s)}catch(s){await Ll(s)}}function mC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function gC(t,e,n){const r=_e(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function _p(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||yC(t,r)})}function yC(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(sg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),pg(t))}function f1(t,e,n){for(const r of n)r instanceof dC?(t.La.addReference(r.key,e),b3(t,r)):r instanceof hC?(he("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||yC(t,r.key)):pe()}function b3(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(he("SyncEngine","New document in limbo: "+n),t.xa.add(r),pg(t))}function pg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new fe(ze.fromString(e)),r=t.qa.next();t.Na.set(r,new y3(n)),t.Oa=t.Oa.insert(n,r),iC(t.remoteStore,new us(hr(qd(n.path)),r,"TargetPurposeLimboResolution",$m.oe))}}async function Hl(t,e,n){const r=_e(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=ng.Wi(l.targetId,c);i.push(h)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const d=_e(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Q.forEach(c,p=>Q.forEach(p.$i,v=>d.persistence.referenceDelegate.addReference(h,p.targetId,v)).next(()=>Q.forEach(p.Ui,v=>d.persistence.referenceDelegate.removeReference(h,p.targetId,v)))))}catch(h){if(!Vl(h))throw h;he("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const v=d.os.get(p),x=v.snapshotVersion,w=v.withLastLimboFreeSnapshotVersion(x);d.os=d.os.insert(p,w)}}}(r.localStore,i))}async function R3(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const r=await nC(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new ae(K.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hl(n,r.hs)}}function k3(t,e){const n=_e(t),r=n.Na.get(e);if(r&&r.va)return Re().add(r.key);{let s=Re();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function xC(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=T3.bind(null,e),e.Ca.d_=f3.bind(null,e.eventManager),e.Ca.$a=p3.bind(null,e.eventManager),e}function N3(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=S3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I3.bind(null,e),e}class sd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return O6(this.persistence,new B6,e.initialUser,this.serializer)}Ga(e){return new D6(tg.Zr,this.serializer)}Wa(e){return new $6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sd.provider={build:()=>new sd};class Ep{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>h1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=R3.bind(null,this.syncEngine),await u3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new h3}()}createDatastore(e){const n=Qd(e.databaseInfo.databaseId),r=function(i){return new G6(i)}(e.databaseInfo);return function(i,o,a,l){return new X6(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new Z6(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>h1(this.syncEngine,n,0),function(){return a1.D()?new a1:new H6}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const h=new x3(s,i,o,a,l,c);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=_e(s);he("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await $l(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ep.provider={build:()=>new Ep};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ae(K.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(s,i){const o=_e(s),a={documents:i.map(h=>nd(o.serializer,h))},l=await o.Lo("BatchGetDocuments",o.serializer.databaseId,ze.emptyPath(),a,i.length),c=new Map;l.forEach(h=>{const p=a6(o.serializer,h);c.set(p.key.toString(),p)});const d=[];return i.forEach(h=>{const p=c.get(h.toString());Be(!!p),d.push(p)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new zl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const s=fe.fromPath(r);this.mutations.push(new qA(s,this.precondition(s)))}),await async function(r,s){const i=_e(r),o={writes:s.map(a=>JA(i.serializer,a))};await i.Mo("Commit",i.serializer.databaseId,ze.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw pe();n=ge.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ae(K.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ge.min())?ht.exists(!1):ht.updateTime(n):ht.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ge.min()))throw new ae(K.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ht.updateTime(n)}return ht.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this._u=r.maxAttempts,this.t_=new rg(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new D3(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.lu(s)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!Ml(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!$A(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ut.UNAUTHENTICATED,this.clientId=_A.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{he("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(he("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function u0(t,e){t.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await nC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function p1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await B3(t);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>l1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>l1(e.remoteStore,s)),t._onlineComponents=e}async function B3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await u0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===K.FAILED_PRECONDITION||s.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;wo("Error using user provided cache. Falling back to memory cache: "+n),await u0(t,new sd)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await u0(t,new sd);return t._offlineComponents}async function gg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await p1(t,t._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await p1(t,new Ep))),t._onlineComponents}function j3(t){return gg(t).then(e=>e.syncEngine)}function O3(t){return gg(t).then(e=>e.datastore)}async function id(t){const e=await gg(t),n=e.eventManager;return n.onListen=v3.bind(null,e.syncEngine),n.onUnlisten=w3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=A3.bind(null,e.syncEngine),n}function L3(t,e,n={}){const r=new dr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new mg({next:p=>{d.Za(),o.enqueueAndForget(()=>dg(i,h));const v=p.docs.has(a);!v&&p.fromCache?c.reject(new ae(K.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&l&&l.source==="server"?c.reject(new ae(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new fg(qd(a.path),d,{includeMetadataChanges:!0,_a:!0});return ug(i,h)}(await id(t),t.asyncQueue,e,n,r)),r.promise}function V3(t,e,n={}){const r=new dr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new mg({next:p=>{d.Za(),o.enqueueAndForget(()=>dg(i,h)),p.fromCache&&l.source==="server"?c.reject(new ae(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new fg(a,d,{includeMetadataChanges:!0,_a:!0});return ug(i,h)}(await id(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t,e,n){if(!n)throw new ae(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function M3(t,e,n,r){if(e===!0&&r===!0)throw new ae(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function g1(t){if(!fe.isDocumentKey(t))throw new ae(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function y1(t){if(fe.isDocumentKey(t))throw new ae(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe()}function Ht(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jd(t);throw new ae(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new r8;switch(r.type){case"firstParty":return new a8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=m1.get(n);r&&(he("ComponentProvider","Removing Datastore"),m1.delete(n),r.terminate())}(this),Promise.resolve()}}function U3(t,e,n,r={}){var s;const i=(t=Ht(t,Zd))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ut.MOCK_USER;else{a=_k(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ae(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ut(c)}t._authCredentials=new s8(new vA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qr(this.firestore,e,this._query)}}class Pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}}class As extends qr{constructor(e,n,r){super(e,n,qd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new fe(e))}withConverter(e){return new As(this.firestore,e,this._path)}}function rt(t,e,...n){if(t=at(t),_C("collection","path",e),t instanceof Zd){const r=ze.fromString(e,...n);return y1(r),new As(t,null,r)}{if(!(t instanceof Pt||t instanceof As))throw new ae(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return y1(r),new As(t.firestore,null,r)}}function Jt(t,e,...n){if(t=at(t),arguments.length===1&&(e=_A.newId()),_C("doc","path",e),t instanceof Zd){const r=ze.fromString(e,...n);return g1(r),new Pt(t,null,new fe(r))}{if(!(t instanceof Pt||t instanceof As))throw new ae(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ze.fromString(e,...n));return g1(r),new Pt(t.firestore,t instanceof As?t.converter:null,new fe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new rg(this,"async_queue_retry"),this.Vu=()=>{const r=c0();r&&he("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=c0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=c0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new dr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Vl(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Vr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=lg.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&pe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function _1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Jn extends Zd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new v1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new v1(e),this._firestoreClient=void 0,await e}}}function z3(t,e){const n=typeof t=="object"?t:R2(),r=typeof t=="string"?t:"(default)",s=Pm(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=xk("firestore");i&&U3(s,...i)}return s}function qo(t){if(t._terminated)throw new ae(K.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||q3(t),t._firestoreClient}function q3(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,d){return new _8(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,vC(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new F3(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _i(Bt.fromBase64String(e))}catch(n){throw new ae(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _i(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=/^__.*__$/;class H3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Os(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ul(e,this.data,n,this.fieldTransforms)}}class EC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class _g{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new _g(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return od(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(wC(this.Cu)&&$3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class W3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qd(e)}Qu(e,n,r,s=!1){return new _g({Cu:e,methodName:n,qu:r,path:kt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ho(t){const e=t._freezeSettings(),n=Qd(t._databaseId);return new W3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eh(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);Ag("Data must be an object, but it was:",o,r);const a=AC(r,o);let l,c;if(i.merge)l=new wn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const p=wp(e,h,n);if(!o.contains(p))throw new ae(K.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);TC(d,p)||d.push(p)}l=new wn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new H3(new Xt(a),l,c)}class th extends yg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof th}}function Eg(t,e,n,r){const s=t.Qu(1,e,n);Ag("Data must be an object, but it was:",s,r);const i=[],o=Xt.empty();Si(r,(l,c)=>{const d=Cg(e,l,n);c=at(c);const h=s.Nu(d);if(c instanceof th)i.push(d);else{const p=Wl(c,h);p!=null&&(i.push(d),o.set(d,p))}});const a=new wn(i);return new EC(o,a,s.fieldTransforms)}function wg(t,e,n,r,s,i){const o=t.Qu(1,e,n),a=[wp(e,r,n)],l=[s];if(i.length%2!=0)throw new ae(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(wp(e,i[p])),l.push(i[p+1]);const c=[],d=Xt.empty();for(let p=a.length-1;p>=0;--p)if(!TC(c,a[p])){const v=a[p];let x=l[p];x=at(x);const w=o.Nu(v);if(x instanceof th)c.push(v);else{const E=Wl(x,w);E!=null&&(c.push(v),d.set(v,E))}}const h=new wn(c);return new EC(d,h,o.fieldTransforms)}function K3(t,e,n,r=!1){return Wl(n,t.Qu(r?4:3,e))}function Wl(t,e){if(CC(t=at(t)))return Ag("Unsupported field value:",e,t),AC(t,e);if(t instanceof yg)return function(r,s){if(!wC(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Wl(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return z8(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=vt.fromDate(r);return{timestampValue:td(s.serializer,i)}}if(r instanceof vt){const i=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:td(s.serializer,i)}}if(r instanceof xg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _i)return{bytesValue:GA(s.serializer,r._byteString)};if(r instanceof Pt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Zm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof vg)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Ym(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Jd(r)}`)}(t,e)}function AC(t,e){const n={};return EA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Si(t,(r,s)=>{const i=Wl(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function CC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof xg||t instanceof _i||t instanceof Pt||t instanceof yg||t instanceof vg)}function Ag(t,e,n){if(!CC(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Jd(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function wp(t,e,n){if((e=at(e))instanceof $o)return e._internalPath;if(typeof e=="string")return Cg(t,e);throw od("Field path arguments must be of type string or ",t,!1,void 0,n)}const G3=new RegExp("[~\\*/\\[\\]]");function Cg(t,e,n){if(e.search(G3)>=0)throw od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $o(...e.split("."))._internalPath}catch{throw od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function od(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ae(K.INVALID_ARGUMENT,a+t+l)}function TC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Q3 extends ad{data(){return super.data()}}function nh(t,e){return typeof e=="string"?Cg(t,e):e instanceof $o?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tg{}class Sg extends Tg{}function Bn(t,e,...n){let r=[];e instanceof Tg&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Ig).length,a=i.filter(l=>l instanceof rh).length;if(o>1||o>0&&a>0)throw new ae(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class rh extends Sg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new rh(e,n,r)}_apply(e){const n=this._parse(e);return IC(e._query,n),new qr(e.firestore,e.converter,pp(e._query,n))}_parse(e){const n=Ho(e.firestore);return function(i,o,a,l,c,d,h){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ae(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){w1(h,d);const v=[];for(const x of h)v.push(E1(l,i,x));p={arrayValue:{values:v}}}else p=E1(l,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||w1(h,d),p=K3(a,o,h,d==="in"||d==="not-in");return dt.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Dr(t,e,n){const r=e,s=nh("where",t);return rh._create(s,r,n)}class Ig extends Tg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ig(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)IC(o,l),o=pp(o,l)}(e._query,n),new qr(e.firestore,e.converter,pp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bg extends Sg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new bg(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ae(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ae(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new El(i,o)}(e._query,this._field,this._direction);return new qr(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Mo(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Wo(t,e="asc"){const n=e,r=nh("orderBy",t);return bg._create(r,n)}class Rg extends Sg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Rg(e,n,r)}_apply(e){return new qr(e.firestore,e.converter,Ju(e._query,this._limit,this._limitType))}}function Y3(t){return Rg._create("limit",t,"F")}function E1(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new ae(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kA(e)&&n.indexOf("/")!==-1)throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ze.fromString(n));if(!fe.isDocumentKey(r))throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zv(t,new fe(r))}if(n instanceof Pt)return zv(t,n._key);throw new ae(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jd(n)}.`)}function w1(t,e){if(!Array.isArray(t)||t.length===0)throw new ae(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IC(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bC{convertValue(e,n="none"){switch(vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Si(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>st(o.doubleValue));return new vg(i)}convertGeoPoint(e){return new xg(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xl(e));default:return null}}convertTimestamp(e){const n=bs(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ze.fromString(e);Be(tC(r));const s=new vl(r.get(1),r.get(3)),i=new fe(r.popFirst(5));return s.isEqual(n)||Vr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class X3 extends bC{constructor(e){super(),this.firestore=e}convertBytes(e){return new _i(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kg extends ad{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class cu extends kg{data(e={}){return super.data(e)}}class RC{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new eo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cu(this._firestore,this._userDataWriter,r.key,r,new eo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new cu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new eo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new cu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new eo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:J3(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function J3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t){t=Ht(t,Pt);const e=Ht(t.firestore,Jn);return L3(qo(e),t._key).then(n=>kC(e,t,n))}class ih extends bC{constructor(e){super(),this.firestore=e}convertBytes(e){return new _i(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function $t(t){t=Ht(t,qr);const e=Ht(t.firestore,Jn),n=qo(e),r=new ih(e);return SC(t._query),V3(n,t._query).then(s=>new RC(e,r,t,s))}function Z3(t,e,n){t=Ht(t,Pt);const r=Ht(t.firestore,Jn),s=sh(t.converter,e,n);return Gl(r,[eh(Ho(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ht.none())])}function Ng(t,e,n,...r){t=Ht(t,Pt);const s=Ht(t.firestore,Jn),i=Ho(s);let o;return o=typeof(e=at(e))=="string"||e instanceof $o?wg(i,"updateDoc",t._key,e,n,r):Eg(i,"updateDoc",t._key,e),Gl(s,[o.toMutation(t._key,ht.exists(!0))])}function e5(t){return Gl(Ht(t.firestore,Jn),[new zl(t._key,ht.none())])}function Kl(t,e){const n=Ht(t.firestore,Jn),r=Jt(t),s=sh(t.converter,e);return Gl(n,[eh(Ho(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ht.exists(!1))]).then(()=>r)}function t5(t,...e){var n,r,s;t=at(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||_1(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(_1(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,c,d;if(t instanceof Pt)c=Ht(t.firestore,Jn),d=qd(t._key.path),l={next:h=>{e[o]&&e[o](kC(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Ht(t,qr);c=Ht(h.firestore,Jn),d=h._query;const p=new ih(c);l={next:v=>{e[o]&&e[o](new RC(c,p,h,v))},error:e[o+1],complete:e[o+2]},SC(t._query)}return function(p,v,x,w){const E=new mg(w),_=new fg(v,E,x);return p.asyncQueue.enqueueAndForget(async()=>ug(await id(p),_)),()=>{E.Za(),p.asyncQueue.enqueueAndForget(async()=>dg(await id(p),_))}}(qo(c),d,a,l)}function Gl(t,e){return function(r,s){const i=new dr;return r.asyncQueue.enqueueAndForget(async()=>C3(await j3(r),s,i)),i.promise}(qo(t),e)}function kC(t,e,n){const r=n.docs.get(e._key),s=new ih(t);return new kg(t,s,e._key,r,new eo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ho(e)}set(e,n,r){this._verifyNotCommitted();const s=ss(e,this._firestore),i=sh(s.converter,n,r),o=eh(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,ht.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=ss(e,this._firestore);let o;return o=typeof(n=at(n))=="string"||n instanceof $o?wg(this._dataReader,"WriteBatch.update",i._key,n,r,s):Eg(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,ht.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ss(e,this._firestore);return this._mutations=this._mutations.concat(new zl(n._key,ht.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(K.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ss(t,e){if((t=at(t)).firestore!==e)throw new ae(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5 extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Ho(n)}get(n){const r=ss(n,this._firestore),s=new X3(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return pe();const o=i[0];if(o.isFoundDocument())return new ad(this._firestore,s,o.key,o,r.converter);if(o.isNoDocument())return new ad(this._firestore,s,r._key,null,r.converter);throw pe()})}set(n,r,s){const i=ss(n,this._firestore),o=sh(i.converter,r,s),a=eh(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,s);return this._transaction.set(i._key,a),this}update(n,r,s,...i){const o=ss(n,this._firestore);let a;return a=typeof(r=at(r))=="string"||r instanceof $o?wg(this._dataReader,"Transaction.update",o._key,r,s,i):Eg(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=ss(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ss(e,this._firestore),r=new ih(this._firestore);return super.get(e).then(s=>new kg(this._firestore,r,n._key,s._document,new eo(!1,!1),n.converter))}}function i5(t,e,n){t=Ht(t,Jn);const r=Object.assign(Object.assign({},n5),n);return function(i){if(i.maxAttempts<1)throw new ae(K.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,a){const l=new dr;return i.asyncQueue.enqueueAndForget(async()=>{const c=await O3(i);new P3(i.asyncQueue,c,a,o,l).au()}),l.promise}(qo(t),s=>e(new s5(t,s)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t){return qo(t=Ht(t,Jn)),new r5(t,e=>Gl(t,e))}(function(e,n=!0){(function(s){Vo=s})(Oo),Eo(new pi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Jn(new i8(r.getProvider("auth-internal")),new c8(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ae(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vl(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ws(Ov,"4.7.3",e),ws(Ov,"4.7.3","esm2017")})();const a5={apiKey:"AIzaSyDM8I5WkgQtc0FWnIqM4mJ0LFnXq-GOvCE",authDomain:"crypto-3df25.firebaseapp.com",projectId:"crypto-3df25",storageBucket:"crypto-3df25.appspot.com",messagingSenderId:"72601918898",appId:"1:72601918898:web:e80d58d4a856532ed758ab"},Dg=b2(a5),ma=hA(Dg),Te=z3(Dg);hA(Dg).onAuthStateChanged(t=>{console.log(t?"Firebase connection successful":"Firebase connection successful, but no user is signed in")},t=>{console.error("Firebase connection error:",t)});const A1="qpzry9x8gf2tvdw0s3jn54khce6mua7l",l5=()=>{let t="bc1";const e=Math.floor(Math.random()*21)+39;for(let n=0;n<e;n++){const r=Math.floor(Math.random()*A1.length);t+=A1[r]}return t},NC=L.createContext(void 0),er=()=>{const t=L.useContext(NC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},c5=({children:t})=>{const[e,n]=L.useState(null),[r,s]=L.useState(null);L.useEffect(()=>ma.onAuthStateChanged(async p=>{if(n(p),p){const x=(await bo(Jt(Te,"users",p.uid))).data();s((x==null?void 0:x.role)||null)}else s(null)}),[]);const i=async(h,p)=>{try{await zD(ma,h,p);const x=(await bo(Jt(Te,"users",ma.currentUser.uid))).data();s((x==null?void 0:x.role)||"user"),ce.success("Login successful")}catch(v){throw console.error("Login error:",v),ce.error("Login failed. Please check your credentials."),v}},o=()=>l5(),d={user:e,userRole:r,login:i,signup:async(h,p,v)=>{try{const w=(await UD(ma,h,p)).user,E=o();await Z3(Jt(Te,"users",w.uid),{email:w.email,fullName:v,role:"user",balance:0,transactions:[],walletCode:E,registrationDate:new Date}),s("user"),ce.success(`Signup successful! Your wallet code is: ${E}`)}catch(x){throw console.error("Signup error:",x),ce.error("Signup failed. Please try again."),x}},logout:async()=>{try{await HD(ma),s(null),ce.success("Logged out successfully")}catch(h){throw console.error("Logout error:",h),ce.error("Logout failed. Please try again."),h}},isAdmin:()=>r==="admin"};return f.jsx(NC.Provider,{value:d,children:t})},u5=()=>{const{user:t,logout:e}=er(),n=Rl(),r=()=>{e(),n("/")};return f.jsx("nav",{className:"bg-white shadow-md",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between h-16",children:[f.jsx("div",{className:"flex",children:f.jsx("div",{className:"flex-shrink-0 flex items-center",children:f.jsx("span",{className:"text-xl font-bold",children:"CryptoExchange"})})}),f.jsx("div",{className:"flex items-center",children:f.jsx("div",{className:"ml-3 relative",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(Qw,{className:"h-8 w-8 rounded-full"}),f.jsx("span",{className:"ml-2",children:t==null?void 0:t.email}),f.jsx("button",{onClick:r,className:"ml-4 p-2 rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:f.jsx(Sb,{className:"h-5 w-5"})})]})})})]})})})},d5=({items:t})=>{const e=Ci();return f.jsx("aside",{className:"bg-gray-800 text-white w-64 min-h-screen p-4",children:f.jsx("nav",{children:f.jsx("ul",{children:t.map(n=>f.jsx("li",{className:"mb-2",children:f.jsx(vn,{to:n.route,className:`block p-2 rounded hover:bg-gray-700 ${e.pathname===n.route?"bg-gray-700":""}`,children:n.label})},n.route))})})})},DC=({children:t,sidebarItems:e})=>f.jsxs("div",{className:"flex flex-col h-screen",children:[f.jsx(u5,{}),f.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[f.jsx(d5,{items:e}),f.jsx("main",{className:"flex-1 overflow-y-auto p-4",children:t})]})]});var h5=Object.defineProperty,ld=Object.getOwnPropertySymbols,PC=Object.prototype.hasOwnProperty,FC=Object.prototype.propertyIsEnumerable,C1=(t,e,n)=>e in t?h5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ap=(t,e)=>{for(var n in e||(e={}))PC.call(e,n)&&C1(t,n,e[n]);if(ld)for(var n of ld(e))FC.call(e,n)&&C1(t,n,e[n]);return t},Cp=(t,e)=>{var n={};for(var r in t)PC.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ld)for(var r of ld(t))e.indexOf(r)<0&&FC.call(t,r)&&(n[r]=t[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Ei;(t=>{const e=class Se{constructor(l,c,d,h){if(this.version=l,this.errorCorrectionLevel=c,this.modules=[],this.isFunction=[],l<Se.MIN_VERSION||l>Se.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let p=[];for(let x=0;x<this.size;x++)p.push(!1);for(let x=0;x<this.size;x++)this.modules.push(p.slice()),this.isFunction.push(p.slice());this.drawFunctionPatterns();const v=this.addEccAndInterleave(d);if(this.drawCodewords(v),h==-1){let x=1e9;for(let w=0;w<8;w++){this.applyMask(w),this.drawFormatBits(w);const E=this.getPenaltyScore();E<x&&(h=w,x=E),this.applyMask(w)}}s(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(l,c){const d=t.QrSegment.makeSegments(l);return Se.encodeSegments(d,c)}static encodeBinary(l,c){const d=t.QrSegment.makeBytes(l);return Se.encodeSegments([d],c)}static encodeSegments(l,c,d=1,h=40,p=-1,v=!0){if(!(Se.MIN_VERSION<=d&&d<=h&&h<=Se.MAX_VERSION)||p<-1||p>7)throw new RangeError("Invalid value");let x,w;for(x=d;;x++){const y=Se.getNumDataCodewords(x,c)*8,A=o.getTotalBits(l,x);if(A<=y){w=A;break}if(x>=h)throw new RangeError("Data too long")}for(const y of[Se.Ecc.MEDIUM,Se.Ecc.QUARTILE,Se.Ecc.HIGH])v&&w<=Se.getNumDataCodewords(x,y)*8&&(c=y);let E=[];for(const y of l){n(y.mode.modeBits,4,E),n(y.numChars,y.mode.numCharCountBits(x),E);for(const A of y.getData())E.push(A)}s(E.length==w);const _=Se.getNumDataCodewords(x,c)*8;s(E.length<=_),n(0,Math.min(4,_-E.length),E),n(0,(8-E.length%8)%8,E),s(E.length%8==0);for(let y=236;E.length<_;y^=253)n(y,8,E);let m=[];for(;m.length*8<E.length;)m.push(0);return E.forEach((y,A)=>m[A>>>3]|=y<<7-(A&7)),new Se(x,c,m,p)}getModule(l,c){return 0<=l&&l<this.size&&0<=c&&c<this.size&&this.modules[c][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),c=l.length;for(let d=0;d<c;d++)for(let h=0;h<c;h++)d==0&&h==0||d==0&&h==c-1||d==c-1&&h==0||this.drawAlignmentPattern(l[d],l[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const c=this.errorCorrectionLevel.formatBits<<3|l;let d=c;for(let p=0;p<10;p++)d=d<<1^(d>>>9)*1335;const h=(c<<10|d)^21522;s(h>>>15==0);for(let p=0;p<=5;p++)this.setFunctionModule(8,p,r(h,p));this.setFunctionModule(8,7,r(h,6)),this.setFunctionModule(8,8,r(h,7)),this.setFunctionModule(7,8,r(h,8));for(let p=9;p<15;p++)this.setFunctionModule(14-p,8,r(h,p));for(let p=0;p<8;p++)this.setFunctionModule(this.size-1-p,8,r(h,p));for(let p=8;p<15;p++)this.setFunctionModule(8,this.size-15+p,r(h,p));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let d=0;d<12;d++)l=l<<1^(l>>>11)*7973;const c=this.version<<12|l;s(c>>>18==0);for(let d=0;d<18;d++){const h=r(c,d),p=this.size-11+d%3,v=Math.floor(d/3);this.setFunctionModule(p,v,h),this.setFunctionModule(v,p,h)}}drawFinderPattern(l,c){for(let d=-4;d<=4;d++)for(let h=-4;h<=4;h++){const p=Math.max(Math.abs(h),Math.abs(d)),v=l+h,x=c+d;0<=v&&v<this.size&&0<=x&&x<this.size&&this.setFunctionModule(v,x,p!=2&&p!=4)}}drawAlignmentPattern(l,c){for(let d=-2;d<=2;d++)for(let h=-2;h<=2;h++)this.setFunctionModule(l+h,c+d,Math.max(Math.abs(h),Math.abs(d))!=1)}setFunctionModule(l,c,d){this.modules[c][l]=d,this.isFunction[c][l]=!0}addEccAndInterleave(l){const c=this.version,d=this.errorCorrectionLevel;if(l.length!=Se.getNumDataCodewords(c,d))throw new RangeError("Invalid argument");const h=Se.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c],p=Se.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c],v=Math.floor(Se.getNumRawDataModules(c)/8),x=h-v%h,w=Math.floor(v/h);let E=[];const _=Se.reedSolomonComputeDivisor(p);for(let y=0,A=0;y<h;y++){let P=l.slice(A,A+w-p+(y<x?0:1));A+=P.length;const F=Se.reedSolomonComputeRemainder(P,_);y<x&&P.push(0),E.push(P.concat(F))}let m=[];for(let y=0;y<E[0].length;y++)E.forEach((A,P)=>{(y!=w-p||P>=x)&&m.push(A[y])});return s(m.length==v),m}drawCodewords(l){if(l.length!=Math.floor(Se.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let c=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let h=0;h<this.size;h++)for(let p=0;p<2;p++){const v=d-p,w=(d+1&2)==0?this.size-1-h:h;!this.isFunction[w][v]&&c<l.length*8&&(this.modules[w][v]=r(l[c>>>3],7-(c&7)),c++)}}s(c==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let c=0;c<this.size;c++)for(let d=0;d<this.size;d++){let h;switch(l){case 0:h=(d+c)%2==0;break;case 1:h=c%2==0;break;case 2:h=d%3==0;break;case 3:h=(d+c)%3==0;break;case 4:h=(Math.floor(d/3)+Math.floor(c/2))%2==0;break;case 5:h=d*c%2+d*c%3==0;break;case 6:h=(d*c%2+d*c%3)%2==0;break;case 7:h=((d+c)%2+d*c%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[c][d]&&h&&(this.modules[c][d]=!this.modules[c][d])}}getPenaltyScore(){let l=0;for(let p=0;p<this.size;p++){let v=!1,x=0,w=[0,0,0,0,0,0,0];for(let E=0;E<this.size;E++)this.modules[p][E]==v?(x++,x==5?l+=Se.PENALTY_N1:x>5&&l++):(this.finderPenaltyAddHistory(x,w),v||(l+=this.finderPenaltyCountPatterns(w)*Se.PENALTY_N3),v=this.modules[p][E],x=1);l+=this.finderPenaltyTerminateAndCount(v,x,w)*Se.PENALTY_N3}for(let p=0;p<this.size;p++){let v=!1,x=0,w=[0,0,0,0,0,0,0];for(let E=0;E<this.size;E++)this.modules[E][p]==v?(x++,x==5?l+=Se.PENALTY_N1:x>5&&l++):(this.finderPenaltyAddHistory(x,w),v||(l+=this.finderPenaltyCountPatterns(w)*Se.PENALTY_N3),v=this.modules[E][p],x=1);l+=this.finderPenaltyTerminateAndCount(v,x,w)*Se.PENALTY_N3}for(let p=0;p<this.size-1;p++)for(let v=0;v<this.size-1;v++){const x=this.modules[p][v];x==this.modules[p][v+1]&&x==this.modules[p+1][v]&&x==this.modules[p+1][v+1]&&(l+=Se.PENALTY_N2)}let c=0;for(const p of this.modules)c=p.reduce((v,x)=>v+(x?1:0),c);const d=this.size*this.size,h=Math.ceil(Math.abs(c*20-d*10)/d)-1;return s(0<=h&&h<=9),l+=h*Se.PENALTY_N4,s(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,c=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let d=[6];for(let h=this.size-7;d.length<l;h-=c)d.splice(1,0,h);return d}}static getNumRawDataModules(l){if(l<Se.MIN_VERSION||l>Se.MAX_VERSION)throw new RangeError("Version number out of range");let c=(16*l+128)*l+64;if(l>=2){const d=Math.floor(l/7)+2;c-=(25*d-10)*d-55,l>=7&&(c-=36)}return s(208<=c&&c<=29648),c}static getNumDataCodewords(l,c){return Math.floor(Se.getNumRawDataModules(l)/8)-Se.ECC_CODEWORDS_PER_BLOCK[c.ordinal][l]*Se.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let c=[];for(let h=0;h<l-1;h++)c.push(0);c.push(1);let d=1;for(let h=0;h<l;h++){for(let p=0;p<c.length;p++)c[p]=Se.reedSolomonMultiply(c[p],d),p+1<c.length&&(c[p]^=c[p+1]);d=Se.reedSolomonMultiply(d,2)}return c}static reedSolomonComputeRemainder(l,c){let d=c.map(h=>0);for(const h of l){const p=h^d.shift();d.push(0),c.forEach((v,x)=>d[x]^=Se.reedSolomonMultiply(v,p))}return d}static reedSolomonMultiply(l,c){if(l>>>8||c>>>8)throw new RangeError("Byte out of range");let d=0;for(let h=7;h>=0;h--)d=d<<1^(d>>>7)*285,d^=(c>>>h&1)*l;return s(d>>>8==0),d}finderPenaltyCountPatterns(l){const c=l[1];s(c<=this.size*3);const d=c>0&&l[2]==c&&l[3]==c*3&&l[4]==c&&l[5]==c;return(d&&l[0]>=c*4&&l[6]>=c?1:0)+(d&&l[6]>=c*4&&l[0]>=c?1:0)}finderPenaltyTerminateAndCount(l,c,d){return l&&(this.finderPenaltyAddHistory(c,d),c=0),c+=this.size,this.finderPenaltyAddHistory(c,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(l,c){c[0]==0&&(l+=this.size),c.pop(),c.unshift(l)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(a,l,c){if(l<0||l>31||a>>>l)throw new RangeError("Value out of range");for(let d=l-1;d>=0;d--)c.push(a>>>d&1)}function r(a,l){return(a>>>l&1)!=0}function s(a){if(!a)throw new Error("Assertion error")}const i=class Ze{constructor(l,c,d){if(this.mode=l,this.numChars=c,this.bitData=d,c<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(l){let c=[];for(const d of l)n(d,8,c);return new Ze(Ze.Mode.BYTE,l.length,c)}static makeNumeric(l){if(!Ze.isNumeric(l))throw new RangeError("String contains non-numeric characters");let c=[];for(let d=0;d<l.length;){const h=Math.min(l.length-d,3);n(parseInt(l.substring(d,d+h),10),h*3+1,c),d+=h}return new Ze(Ze.Mode.NUMERIC,l.length,c)}static makeAlphanumeric(l){if(!Ze.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let c=[],d;for(d=0;d+2<=l.length;d+=2){let h=Ze.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d))*45;h+=Ze.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d+1)),n(h,11,c)}return d<l.length&&n(Ze.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d)),6,c),new Ze(Ze.Mode.ALPHANUMERIC,l.length,c)}static makeSegments(l){return l==""?[]:Ze.isNumeric(l)?[Ze.makeNumeric(l)]:Ze.isAlphanumeric(l)?[Ze.makeAlphanumeric(l)]:[Ze.makeBytes(Ze.toUtf8ByteArray(l))]}static makeEci(l){let c=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,c);else if(l<16384)n(2,2,c),n(l,14,c);else if(l<1e6)n(6,3,c),n(l,21,c);else throw new RangeError("ECI assignment value out of range");return new Ze(Ze.Mode.ECI,0,c)}static isNumeric(l){return Ze.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return Ze.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,c){let d=0;for(const h of l){const p=h.mode.numCharCountBits(c);if(h.numChars>=1<<p)return 1/0;d+=4+p+h.bitData.length}return d}static toUtf8ByteArray(l){l=encodeURI(l);let c=[];for(let d=0;d<l.length;d++)l.charAt(d)!="%"?c.push(l.charCodeAt(d)):(c.push(parseInt(l.substring(d+1,d+3),16)),d+=2);return c}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;t.QrSegment=i})(Ei||(Ei={}));(t=>{(e=>{const n=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Ei||(Ei={}));(t=>{(e=>{const n=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Ei||(Ei={}));var to=Ei;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var f5={L:to.QrCode.Ecc.LOW,M:to.QrCode.Ecc.MEDIUM,Q:to.QrCode.Ecc.QUARTILE,H:to.QrCode.Ecc.HIGH},BC=128,jC="L",OC="#FFFFFF",LC="#000000",VC=!1,MC=1,p5=4,m5=0,g5=.1;function UC(t,e=0){const n=[];return t.forEach(function(r,s){let i=null;r.forEach(function(o,a){if(!o&&i!==null){n.push(`M${i+e} ${s+e}h${a-i}v1H${i+e}z`),i=null;return}if(a===r.length-1){if(!o)return;i===null?n.push(`M${a+e},${s+e} h1v1H${a+e}z`):n.push(`M${i+e},${s+e} h${a+1-i}v1H${i+e}z`);return}o&&i===null&&(i=a)})}),n.join("")}function zC(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((s,i)=>i<e.x||i>=e.x+e.w?s:!1))}function y5(t,e,n,r){if(r==null)return null;const s=t.length+n*2,i=Math.floor(e*g5),o=s/e,a=(r.width||i)*o,l=(r.height||i)*o,c=r.x==null?t.length/2-a/2:r.x*o,d=r.y==null?t.length/2-l/2:r.y*o,h=r.opacity==null?1:r.opacity;let p=null;if(r.excavate){let x=Math.floor(c),w=Math.floor(d),E=Math.ceil(a+c-x),_=Math.ceil(l+d-w);p={x,y:w,w:E,h:_}}const v=r.crossOrigin;return{x:c,y:d,h:l,w:a,excavation:p,opacity:h,crossOrigin:v}}function x5(t,e){return e!=null?Math.max(Math.floor(e),0):t?p5:m5}function qC({value:t,level:e,minVersion:n,includeMargin:r,marginSize:s,imageSettings:i,size:o}){let a=oe.useMemo(()=>{const p=to.QrSegment.makeSegments(t);return to.QrCode.encodeSegments(p,f5[e],n)},[t,e,n]);const{cells:l,margin:c,numCells:d,calculatedImageSettings:h}=oe.useMemo(()=>{let p=a.getModules();const v=x5(r,s),x=p.length+v*2,w=y5(p,o,v,i);return{cells:p,margin:v,numCells:x,calculatedImageSettings:w}},[a,o,i,r,s]);return{qrcode:a,margin:c,cells:l,numCells:d,calculatedImageSettings:h}}var v5=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),_5=oe.forwardRef(function(e,n){const r=e,{value:s,size:i=BC,level:o=jC,bgColor:a=OC,fgColor:l=LC,includeMargin:c=VC,minVersion:d=MC,marginSize:h,imageSettings:p}=r,x=Cp(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","marginSize","imageSettings"]),{style:w}=x,E=Cp(x,["style"]),_=p==null?void 0:p.src,m=oe.useRef(null),y=oe.useRef(null),A=oe.useCallback(b=>{m.current=b,typeof n=="function"?n(b):n&&(n.current=b)},[n]),[P,F]=oe.useState(!1),{margin:I,cells:T,numCells:R,calculatedImageSettings:S}=qC({value:s,level:o,minVersion:d,includeMargin:c,marginSize:h,imageSettings:p,size:i});oe.useEffect(()=>{if(m.current!=null){const b=m.current,G=b.getContext("2d");if(!G)return;let ee=T;const re=y.current,le=S!=null&&re!==null&&re.complete&&re.naturalHeight!==0&&re.naturalWidth!==0;le&&S.excavation!=null&&(ee=zC(T,S.excavation));const W=window.devicePixelRatio||1;b.height=b.width=i*W;const Z=i/R*W;G.scale(Z,Z),G.fillStyle=a,G.fillRect(0,0,R,R),G.fillStyle=l,v5?G.fill(new Path2D(UC(ee,I))):T.forEach(function(te,V){te.forEach(function(M,$){M&&G.fillRect($+I,V+I,1,1)})}),S&&(G.globalAlpha=S.opacity),le&&G.drawImage(re,S.x+I,S.y+I,S.w,S.h)}}),oe.useEffect(()=>{F(!1)},[_]);const k=Ap({height:i,width:i},w);let N=null;return _!=null&&(N=oe.createElement("img",{src:_,key:_,style:{display:"none"},onLoad:()=>{F(!0)},ref:y,crossOrigin:S==null?void 0:S.crossOrigin})),oe.createElement(oe.Fragment,null,oe.createElement("canvas",Ap({style:k,height:i,width:i,ref:A,role:"img"},E)),N)});_5.displayName="QRCodeCanvas";var $C=oe.forwardRef(function(e,n){const r=e,{value:s,size:i=BC,level:o=jC,bgColor:a=OC,fgColor:l=LC,includeMargin:c=VC,minVersion:d=MC,title:h,marginSize:p,imageSettings:v}=r,x=Cp(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","title","marginSize","imageSettings"]),{margin:w,cells:E,numCells:_,calculatedImageSettings:m}=qC({value:s,level:o,minVersion:d,includeMargin:c,marginSize:p,imageSettings:v,size:i});let y=E,A=null;v!=null&&m!=null&&(m.excavation!=null&&(y=zC(E,m.excavation)),A=oe.createElement("image",{href:v.src,height:m.h,width:m.w,x:m.x+w,y:m.y+w,preserveAspectRatio:"none",opacity:m.opacity,crossOrigin:m.crossOrigin}));const P=UC(y,w);return oe.createElement("svg",Ap({height:i,width:i,viewBox:`0 0 ${_} ${_}`,ref:n,role:"img"},x),!!h&&oe.createElement("title",null,h),oe.createElement("path",{fill:a,d:`M0,0 h${_}v${_}H0z`,shapeRendering:"crispEdges"}),oe.createElement("path",{fill:l,d:P,shapeRendering:"crispEdges"}),A)});$C.displayName="QRCodeSVG";const E5=()=>{const{user:t}=er(),[e,n]=L.useState(0),[r,s]=L.useState(!1),[i,o]=L.useState([]),[a,l]=L.useState([]),[c,d]=L.useState(""),[h,p]=L.useState(!1);L.useEffect(()=>{t&&(v(),x())},[t]);const v=async()=>{if(t)try{const A=Jt(Te,"users",t.uid),P=await bo(A);if(P.exists()){const re=P.data();d(re.walletCode||"")}const F=rt(Te,"transactions"),I=Bn(F,Dr("userId","==",t.uid),Wo("date","desc")),R=(await $t(I)).docs.map(re=>({id:re.id,...re.data(),amount:typeof re.data().amount=="string"?parseFloat(re.data().amount):Number(re.data().amount)||0,date:re.data().date.toDate()})),S=R.reduce((re,le)=>le.type==="deposit"||le.type==="sell"?re+le.amount:le.type==="withdraw"||le.type==="buy"?re-le.amount:re,0),k=rt(Te,"withdrawRequests"),N=Bn(k,Dr("userId","==",t.uid)),G=(await $t(N)).docs.reduce((re,le)=>{const W=le.data();return re+(Number(W.amount)||0)},0),ee=S-G;n(ee),o(R)}catch(A){console.error("Error fetching user data:",A),ce.error("Failed to fetch user data")}},x=async()=>{try{const A=await km(10);l(A)}catch(A){console.error("Error fetching crypto prices:",A),ce.error("Failed to fetch cryptocurrency prices")}},w=()=>{s(!r)},E=()=>{p(!h)},_=()=>h?c:c.slice(0,12)+"...",m=A=>{switch(A){case"deposit":case"sell":return f.jsx(mb,{className:"text-green-500"});case"withdraw":case"buy":return f.jsx(gb,{className:"text-red-500"});default:return null}},y=A=>{switch(A){case"deposit":case"sell":return"text-green-600";case"withdraw":case"buy":return"text-red-600";default:return"text-gray-600"}};return f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Your Wallet"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[f.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Balance"}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("p",{className:"text-3xl font-bold mr-2 ",children:r?`$${e.toFixed(2)}`:"••••••"}),f.jsx("button",{onClick:w,className:"text-blue-600 hover:text-blue-800",children:r?f.jsx(Lu,{size:20}):f.jsx(Vu,{size:20})})]})]}),f.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[f.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Wallet Code"}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx($C,{value:c,size:120}),f.jsxs("div",{className:"mt-4 text-lg font-medium break-all",children:[f.jsx("p",{className:"lowercase",children:_()}),f.jsx("button",{onClick:E,className:"mt-2 flex items-center text-blue-600 hover:text-blue-800",children:h?f.jsxs(f.Fragment,{children:[f.jsx(Eb,{size:20,className:"mr-1"}),"Hide"]}):f.jsxs(f.Fragment,{children:[f.jsx(_b,{size:20,className:"mr-1"}),"Show More"]})})]})]})]})]}),f.jsxs("div",{className:"mt-8 bg-white shadow-md rounded-lg p-6",children:[f.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Transactions"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(A=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[m(A.type),f.jsx("span",{className:`ml-2 ${y(A.type)} capitalize`,children:A.type})]})}),f.jsxs("td",{className:`px-6 py-4 whitespace-nowrap ${y(A.type)}`,children:[A.type==="withdraw"||A.type==="buy"?"-":"+","$",typeof A.amount=="number"?A.amount.toFixed(2):"0.00"]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A.status.toLowerCase()==="complete"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:A.status})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.date.toLocaleString()})]},A.id))})]})})]}),f.jsxs("div",{className:"mt-8 bg-white shadow-md rounded-lg p-6",children:[f.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Cryptocurrency Prices"}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"24h Change"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(A=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.market_cap_rank}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("img",{src:A.image,alt:A.name,className:"w-6 h-6 mr-2"}),f.jsx("span",{className:"font-medium",children:A.name}),f.jsx("span",{className:"ml-2 text-gray-500",children:A.symbol.toUpperCase()})]})}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:["$",A.current_price.toFixed(2)]}),f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-right text-sm font-medium ${A.price_change_percentage_24h>=0?"text-green-600":"text-red-600"}`,children:f.jsxs("span",{className:"flex items-center justify-end",children:[A.price_change_percentage_24h>=0?f.jsx(Gw,{size:16,className:"mr-1"}):f.jsx(Kw,{size:16,className:"mr-1"}),A.price_change_percentage_24h.toFixed(2),"%"]})})]},A.id))})]})})]})]})};var Ql=t=>t.type==="checkbox",no=t=>t instanceof Date,Qt=t=>t==null;const HC=t=>typeof t=="object";var pt=t=>!Qt(t)&&!Array.isArray(t)&&HC(t)&&!no(t),WC=t=>pt(t)&&t.target?Ql(t.target)?t.target.checked:t.target.value:t,w5=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,KC=(t,e)=>t.has(w5(e)),A5=t=>{const e=t.constructor&&t.constructor.prototype;return pt(e)&&e.hasOwnProperty("isPrototypeOf")},Pg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function sn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Pg&&(t instanceof Blob||t instanceof FileList))&&(n||pt(t)))if(e=n?[]:{},!n&&!A5(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=sn(t[r]));else return t;return e}var oh=t=>Array.isArray(t)?t.filter(Boolean):[],nt=t=>t===void 0,ie=(t,e,n)=>{if(!e||!pt(t))return n;const r=oh(e.split(/[,[\].]+?/)).reduce((s,i)=>Qt(s)?s:s[i],t);return nt(r)||r===t?nt(t[e])?n:t[e]:r},kn=t=>typeof t=="boolean",Fg=t=>/^\w*$/.test(t),GC=t=>oh(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ue=(t,e,n)=>{let r=-1;const s=Fg(e)?[e]:GC(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let l=n;if(r!==o){const c=t[a];l=pt(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const cd={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Wn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Er={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},C5=oe.createContext(null),Bg=()=>oe.useContext(C5);var QC=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Wn.all&&(e._proxyFormState[o]=!r||Wn.all),n&&(n[o]=!0),t[o]}});return s},on=t=>pt(t)&&!Object.keys(t).length,YC=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return on(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||Wn.all))},qa=t=>Array.isArray(t)?t:[t],XC=(t,e,n)=>!t||!e||t===e||qa(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function jg(t){const e=oe.useRef(t);e.current=t,oe.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function T5(t){const e=Bg(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=oe.useState(n._formState),l=oe.useRef(!0),c=oe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=oe.useRef(s);return d.current=s,jg({disabled:r,next:h=>l.current&&XC(d.current,h.name,i)&&YC(h,c.current,n._updateFormState)&&a({...n._formState,...h}),subject:n._subjects.state}),oe.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),QC(o,n,c.current,!1)}var or=t=>typeof t=="string",JC=(t,e,n,r,s)=>or(t)?(r&&e.watch.add(t),ie(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),ie(n,i))):(r&&(e.watchAll=!0),n);function S5(t){const e=Bg(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=oe.useRef(r);a.current=r,jg({disabled:i,subject:n._subjects.values,next:d=>{XC(a.current,d.name,o)&&c(sn(JC(a.current,n._names,d.values||n._formValues,!1,s)))}});const[l,c]=oe.useState(n._getWatch(r,s));return oe.useEffect(()=>n._removeUnmounted()),l}function I5(t){const e=Bg(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=KC(s._names.array,n),a=S5({control:s,name:n,defaultValue:ie(s._formValues,n,ie(s._defaultValues,n,t.defaultValue)),exact:!0}),l=T5({control:s,name:n,exact:!0}),c=oe.useRef(s.register(n,{...t.rules,value:a,...kn(t.disabled)?{disabled:t.disabled}:{}}));return oe.useEffect(()=>{const d=s._options.shouldUnregister||i,h=(p,v)=>{const x=ie(s._fields,p);x&&x._f&&(x._f.mount=v)};if(h(n,!0),d){const p=sn(ie(s._options.defaultValues,n));Ue(s._defaultValues,n,p),nt(ie(s._formValues,n))&&Ue(s._formValues,n,p)}return()=>{(o?d&&!s._state.action:d)?s.unregister(n):h(n,!1)}},[n,s,o,i]),oe.useEffect(()=>{ie(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:ie(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:a,...kn(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:oe.useCallback(d=>c.current.onChange({target:{value:WC(d),name:n},type:cd.CHANGE}),[n]),onBlur:oe.useCallback(()=>c.current.onBlur({target:{value:ie(s._formValues,n),name:n},type:cd.BLUR}),[n,s]),ref:oe.useCallback(d=>{const h=ie(s._fields,n);h&&d&&(h._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:p=>d.setCustomValidity(p),reportValidity:()=>d.reportValidity()})},[s._fields,n])},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ie(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!ie(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ie(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ie(l.validatingFields,n)},error:{enumerable:!0,get:()=>ie(l.errors,n)}})}}const yn=t=>t.render(I5(t));var b5=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},T1=t=>({isOnSubmit:!t||t===Wn.onSubmit,isOnBlur:t===Wn.onBlur,isOnChange:t===Wn.onChange,isOnAll:t===Wn.all,isOnTouch:t===Wn.onTouched}),S1=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const $a=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=ie(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if($a(a,e))break}else if(pt(a)&&$a(a,e))break}}};var R5=(t,e,n)=>{const r=qa(ie(t,n));return Ue(r,"root",e[n]),Ue(t,n,r),t},Og=t=>t.type==="file",Rr=t=>typeof t=="function",ud=t=>{if(!Pg)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},uu=t=>or(t),Lg=t=>t.type==="radio",dd=t=>t instanceof RegExp;const I1={value:!1,isValid:!1},b1={value:!0,isValid:!0};var ZC=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!nt(t[0].attributes.value)?nt(t[0].value)||t[0].value===""?b1:{value:t[0].value,isValid:!0}:b1:I1}return I1};const R1={isValid:!1,value:null};var e4=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,R1):R1;function k1(t,e,n="validate"){if(uu(t)||Array.isArray(t)&&t.every(uu)||kn(t)&&!t)return{type:n,message:uu(t)?t:"",ref:e}}var Oi=t=>pt(t)&&!dd(t)?t:{value:t,message:""},N1=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:l,minLength:c,min:d,max:h,pattern:p,validate:v,name:x,valueAsNumber:w,mount:E,disabled:_}=t._f,m=ie(e,x);if(!E||_)return{};const y=o?o[0]:i,A=N=>{r&&y.reportValidity&&(y.setCustomValidity(kn(N)?"":N||""),y.reportValidity())},P={},F=Lg(i),I=Ql(i),T=F||I,R=(w||Og(i))&&nt(i.value)&&nt(m)||ud(i)&&i.value===""||m===""||Array.isArray(m)&&!m.length,S=b5.bind(null,x,n,P),k=(N,b,G,ee=Er.maxLength,re=Er.minLength)=>{const le=N?b:G;P[x]={type:N?ee:re,message:le,ref:i,...S(N?ee:re,le)}};if(s?!Array.isArray(m)||!m.length:a&&(!T&&(R||Qt(m))||kn(m)&&!m||I&&!ZC(o).isValid||F&&!e4(o).isValid)){const{value:N,message:b}=uu(a)?{value:!!a,message:a}:Oi(a);if(N&&(P[x]={type:Er.required,message:b,ref:y,...S(Er.required,b)},!n))return A(b),P}if(!R&&(!Qt(d)||!Qt(h))){let N,b;const G=Oi(h),ee=Oi(d);if(!Qt(m)&&!isNaN(m)){const re=i.valueAsNumber||m&&+m;Qt(G.value)||(N=re>G.value),Qt(ee.value)||(b=re<ee.value)}else{const re=i.valueAsDate||new Date(m),le=te=>new Date(new Date().toDateString()+" "+te),W=i.type=="time",Z=i.type=="week";or(G.value)&&m&&(N=W?le(m)>le(G.value):Z?m>G.value:re>new Date(G.value)),or(ee.value)&&m&&(b=W?le(m)<le(ee.value):Z?m<ee.value:re<new Date(ee.value))}if((N||b)&&(k(!!N,G.message,ee.message,Er.max,Er.min),!n))return A(P[x].message),P}if((l||c)&&!R&&(or(m)||s&&Array.isArray(m))){const N=Oi(l),b=Oi(c),G=!Qt(N.value)&&m.length>+N.value,ee=!Qt(b.value)&&m.length<+b.value;if((G||ee)&&(k(G,N.message,b.message),!n))return A(P[x].message),P}if(p&&!R&&or(m)){const{value:N,message:b}=Oi(p);if(dd(N)&&!m.match(N)&&(P[x]={type:Er.pattern,message:b,ref:i,...S(Er.pattern,b)},!n))return A(b),P}if(v){if(Rr(v)){const N=await v(m,e),b=k1(N,y);if(b&&(P[x]={...b,...S(Er.validate,b.message)},!n))return A(b.message),P}else if(pt(v)){let N={};for(const b in v){if(!on(N)&&!n)break;const G=k1(await v[b](m,e),y,b);G&&(N={...G,...S(b,G.message)},A(G.message),n&&(P[x]=N))}if(!on(N)&&(P[x]={ref:y,...N},!n))return P}}return A(!0),P};function k5(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=nt(t)?r++:t[e[r++]];return t}function N5(t){for(const e in t)if(t.hasOwnProperty(e)&&!nt(t[e]))return!1;return!0}function gt(t,e){const n=Array.isArray(e)?e:Fg(e)?[e]:GC(e),r=n.length===1?t:k5(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(pt(r)&&on(r)||Array.isArray(r)&&N5(r))&&gt(t,n.slice(0,-1)),t}var d0=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},hd=t=>Qt(t)||!HC(t);function is(t,e){if(hd(t)||hd(e))return t===e;if(no(t)&&no(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(no(i)&&no(o)||pt(i)&&pt(o)||Array.isArray(i)&&Array.isArray(o)?!is(i,o):i!==o)return!1}}return!0}var t4=t=>t.type==="select-multiple",D5=t=>Lg(t)||Ql(t),h0=t=>ud(t)&&t.isConnected,n4=t=>{for(const e in t)if(Rr(t[e]))return!0;return!1};function fd(t,e={}){const n=Array.isArray(t);if(pt(t)||n)for(const r in t)Array.isArray(t[r])||pt(t[r])&&!n4(t[r])?(e[r]=Array.isArray(t[r])?[]:{},fd(t[r],e[r])):Qt(t[r])||(e[r]=!0);return e}function r4(t,e,n){const r=Array.isArray(t);if(pt(t)||r)for(const s in t)Array.isArray(t[s])||pt(t[s])&&!n4(t[s])?nt(e)||hd(n[s])?n[s]=Array.isArray(t[s])?fd(t[s],[]):{...fd(t[s])}:r4(t[s],Qt(e)?{}:e[s],n[s]):n[s]=!is(t[s],e[s]);return n}var Vc=(t,e)=>r4(t,e,fd(e)),s4=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>nt(t)?t:e?t===""?NaN:t&&+t:n&&or(t)?new Date(t):r?r(t):t;function f0(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Og(e)?e.files:Lg(e)?e4(t.refs).value:t4(e)?[...e.selectedOptions].map(({value:n})=>n):Ql(e)?ZC(t.refs).value:s4(nt(e.value)?t.ref.value:e.value,t)}var P5=(t,e,n,r)=>{const s={};for(const i of t){const o=ie(e,i);o&&Ue(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},ga=t=>nt(t)?t:dd(t)?t.source:pt(t)?dd(t.value)?t.value.source:t.value:t;const D1="AsyncFunction";var F5=t=>(!t||!t.validate)&&!!(Rr(t.validate)&&t.validate.constructor.name===D1||pt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===D1)),B5=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function P1(t,e,n){const r=ie(t,n);if(r||Fg(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=ie(e,i),a=ie(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var j5=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,O5=(t,e)=>!oh(ie(t,e)).length&&gt(t,e);const L5={mode:Wn.onSubmit,reValidateMode:Wn.onChange,shouldFocusError:!0};function V5(t={}){let e={...L5,...t},n={submitCount:0,isDirty:!1,isLoading:Rr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=pt(e.defaultValues)||pt(e.values)?sn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:sn(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:d0(),array:d0(),state:d0()},p=T1(e.mode),v=T1(e.reValidateMode),x=e.criteriaMode===Wn.all,w=B=>O=>{clearTimeout(c),c=setTimeout(B,O)},E=async B=>{if(d.isValid||B){const O=e.resolver?on((await T()).errors):await S(r,!0);O!==n.isValid&&h.state.next({isValid:O})}},_=(B,O)=>{(d.isValidating||d.validatingFields)&&((B||Array.from(a.mount)).forEach(q=>{q&&(O?Ue(n.validatingFields,q,O):gt(n.validatingFields,q))}),h.state.next({validatingFields:n.validatingFields,isValidating:!on(n.validatingFields)}))},m=(B,O=[],q,ne,J=!0,Y=!0)=>{if(ne&&q){if(o.action=!0,Y&&Array.isArray(ie(r,B))){const de=q(ie(r,B),ne.argA,ne.argB);J&&Ue(r,B,de)}if(Y&&Array.isArray(ie(n.errors,B))){const de=q(ie(n.errors,B),ne.argA,ne.argB);J&&Ue(n.errors,B,de),O5(n.errors,B)}if(d.touchedFields&&Y&&Array.isArray(ie(n.touchedFields,B))){const de=q(ie(n.touchedFields,B),ne.argA,ne.argB);J&&Ue(n.touchedFields,B,de)}d.dirtyFields&&(n.dirtyFields=Vc(s,i)),h.state.next({name:B,isDirty:N(B,O),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ue(i,B,O)},y=(B,O)=>{Ue(n.errors,B,O),h.state.next({errors:n.errors})},A=B=>{n.errors=B,h.state.next({errors:n.errors,isValid:!1})},P=(B,O,q,ne)=>{const J=ie(r,B);if(J){const Y=ie(i,B,nt(q)?ie(s,B):q);nt(Y)||ne&&ne.defaultChecked||O?Ue(i,B,O?Y:f0(J._f)):ee(B,Y),o.mount&&E()}},F=(B,O,q,ne,J)=>{let Y=!1,de=!1;const be={name:B},Ee=!!(ie(r,B)&&ie(r,B)._f&&ie(r,B)._f.disabled);if(!q||ne){d.isDirty&&(de=n.isDirty,n.isDirty=be.isDirty=N(),Y=de!==be.isDirty);const Ae=Ee||is(ie(s,B),O);de=!!(!Ee&&ie(n.dirtyFields,B)),Ae||Ee?gt(n.dirtyFields,B):Ue(n.dirtyFields,B,!0),be.dirtyFields=n.dirtyFields,Y=Y||d.dirtyFields&&de!==!Ae}if(q){const Ae=ie(n.touchedFields,B);Ae||(Ue(n.touchedFields,B,q),be.touchedFields=n.touchedFields,Y=Y||d.touchedFields&&Ae!==q)}return Y&&J&&h.state.next(be),Y?be:{}},I=(B,O,q,ne)=>{const J=ie(n.errors,B),Y=d.isValid&&kn(O)&&n.isValid!==O;if(t.delayError&&q?(l=w(()=>y(B,q)),l(t.delayError)):(clearTimeout(c),l=null,q?Ue(n.errors,B,q):gt(n.errors,B)),(q?!is(J,q):J)||!on(ne)||Y){const de={...ne,...Y&&kn(O)?{isValid:O}:{},errors:n.errors,name:B};n={...n,...de},h.state.next(de)}},T=async B=>{_(B,!0);const O=await e.resolver(i,e.context,P5(B||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return _(B),O},R=async B=>{const{errors:O}=await T(B);if(B)for(const q of B){const ne=ie(O,q);ne?Ue(n.errors,q,ne):gt(n.errors,q)}else n.errors=O;return O},S=async(B,O,q={valid:!0})=>{for(const ne in B){const J=B[ne];if(J){const{_f:Y,...de}=J;if(Y){const be=a.array.has(Y.name),Ee=J._f&&F5(J._f);Ee&&d.validatingFields&&_([ne],!0);const Ae=await N1(J,i,x,e.shouldUseNativeValidation&&!O,be);if(Ee&&d.validatingFields&&_([ne]),Ae[Y.name]&&(q.valid=!1,O))break;!O&&(ie(Ae,Y.name)?be?R5(n.errors,Ae,Y.name):Ue(n.errors,Y.name,Ae[Y.name]):gt(n.errors,Y.name))}!on(de)&&await S(de,O,q)}}return q.valid},k=()=>{for(const B of a.unMount){const O=ie(r,B);O&&(O._f.refs?O._f.refs.every(q=>!h0(q)):!h0(O._f.ref))&&me(B)}a.unMount=new Set},N=(B,O)=>(B&&O&&Ue(i,B,O),!is(V(),s)),b=(B,O,q)=>JC(B,a,{...o.mount?i:nt(O)?s:or(B)?{[B]:O}:O},q,O),G=B=>oh(ie(o.mount?i:s,B,t.shouldUnregister?ie(s,B,[]):[])),ee=(B,O,q={})=>{const ne=ie(r,B);let J=O;if(ne){const Y=ne._f;Y&&(!Y.disabled&&Ue(i,B,s4(O,Y)),J=ud(Y.ref)&&Qt(O)?"":O,t4(Y.ref)?[...Y.ref.options].forEach(de=>de.selected=J.includes(de.value)):Y.refs?Ql(Y.ref)?Y.refs.length>1?Y.refs.forEach(de=>(!de.defaultChecked||!de.disabled)&&(de.checked=Array.isArray(J)?!!J.find(be=>be===de.value):J===de.value)):Y.refs[0]&&(Y.refs[0].checked=!!J):Y.refs.forEach(de=>de.checked=de.value===J):Og(Y.ref)?Y.ref.value="":(Y.ref.value=J,Y.ref.type||h.values.next({name:B,values:{...i}})))}(q.shouldDirty||q.shouldTouch)&&F(B,J,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&te(B)},re=(B,O,q)=>{for(const ne in O){const J=O[ne],Y=`${B}.${ne}`,de=ie(r,Y);(a.array.has(B)||!hd(J)||de&&!de._f)&&!no(J)?re(Y,J,q):ee(Y,J,q)}},le=(B,O,q={})=>{const ne=ie(r,B),J=a.array.has(B),Y=sn(O);Ue(i,B,Y),J?(h.array.next({name:B,values:{...i}}),(d.isDirty||d.dirtyFields)&&q.shouldDirty&&h.state.next({name:B,dirtyFields:Vc(s,i),isDirty:N(B,Y)})):ne&&!ne._f&&!Qt(Y)?re(B,Y,q):ee(B,Y,q),S1(B,a)&&h.state.next({...n}),h.values.next({name:o.mount?B:void 0,values:{...i}})},W=async B=>{o.mount=!0;const O=B.target;let q=O.name,ne=!0;const J=ie(r,q),Y=()=>O.type?f0(J._f):WC(B),de=be=>{ne=Number.isNaN(be)||is(be,ie(i,q,be))};if(J){let be,Ee;const Ae=Y(),nn=B.type===cd.BLUR||B.type===cd.FOCUS_OUT,Ms=!B5(J._f)&&!e.resolver&&!ie(n.errors,q)&&!J._f.deps||j5(nn,ie(n.touchedFields,q),n.isSubmitted,v,p),gr=S1(q,a,nn);Ue(i,q,Ae),nn?(J._f.onBlur&&J._f.onBlur(B),l&&l(0)):J._f.onChange&&J._f.onChange(B);const Rn=F(q,Ae,nn,!1),mn=!on(Rn)||gr;if(!nn&&h.values.next({name:q,type:B.type,values:{...i}}),Ms)return d.isValid&&(t.mode==="onBlur"?nn&&E():E()),mn&&h.state.next({name:q,...gr?{}:Rn});if(!nn&&gr&&h.state.next({...n}),e.resolver){const{errors:Us}=await T([q]);if(de(Ae),ne){const zs=P1(n.errors,r,q),yr=P1(Us,r,zs.name||q);be=yr.error,q=yr.name,Ee=on(Us)}}else _([q],!0),be=(await N1(J,i,x,e.shouldUseNativeValidation))[q],_([q]),de(Ae),ne&&(be?Ee=!1:d.isValid&&(Ee=await S(r,!0)));ne&&(J._f.deps&&te(J._f.deps),I(q,Ee,be,Rn))}},Z=(B,O)=>{if(ie(n.errors,O)&&B.focus)return B.focus(),1},te=async(B,O={})=>{let q,ne;const J=qa(B);if(e.resolver){const Y=await R(nt(B)?B:J);q=on(Y),ne=B?!J.some(de=>ie(Y,de)):q}else B?(ne=(await Promise.all(J.map(async Y=>{const de=ie(r,Y);return await S(de&&de._f?{[Y]:de}:de)}))).every(Boolean),!(!ne&&!n.isValid)&&E()):ne=q=await S(r);return h.state.next({...!or(B)||d.isValid&&q!==n.isValid?{}:{name:B},...e.resolver||!B?{isValid:q}:{},errors:n.errors}),O.shouldFocus&&!ne&&$a(r,Z,B?J:a.mount),ne},V=B=>{const O={...o.mount?i:s};return nt(B)?O:or(B)?ie(O,B):B.map(q=>ie(O,q))},M=(B,O)=>({invalid:!!ie((O||n).errors,B),isDirty:!!ie((O||n).dirtyFields,B),error:ie((O||n).errors,B),isValidating:!!ie(n.validatingFields,B),isTouched:!!ie((O||n).touchedFields,B)}),$=B=>{B&&qa(B).forEach(O=>gt(n.errors,O)),h.state.next({errors:B?n.errors:{}})},H=(B,O,q)=>{const ne=(ie(r,B,{_f:{}})._f||{}).ref,J=ie(n.errors,B)||{},{ref:Y,message:de,type:be,...Ee}=J;Ue(n.errors,B,{...Ee,...O,ref:ne}),h.state.next({name:B,errors:n.errors,isValid:!1}),q&&q.shouldFocus&&ne&&ne.focus&&ne.focus()},xe=(B,O)=>Rr(B)?h.values.subscribe({next:q=>B(b(void 0,O),q)}):b(B,O,!0),me=(B,O={})=>{for(const q of B?qa(B):a.mount)a.mount.delete(q),a.array.delete(q),O.keepValue||(gt(r,q),gt(i,q)),!O.keepError&&gt(n.errors,q),!O.keepDirty&&gt(n.dirtyFields,q),!O.keepTouched&&gt(n.touchedFields,q),!O.keepIsValidating&&gt(n.validatingFields,q),!e.shouldUnregister&&!O.keepDefaultValue&&gt(s,q);h.values.next({values:{...i}}),h.state.next({...n,...O.keepDirty?{isDirty:N()}:{}}),!O.keepIsValid&&E()},Pe=({disabled:B,name:O,field:q,fields:ne,value:J})=>{if(kn(B)&&o.mount||B){const Y=B?void 0:nt(J)?f0(q?q._f:ie(ne,O)._f):J;Ue(i,O,Y),F(O,Y,!1,!1,!0)}},ve=(B,O={})=>{let q=ie(r,B);const ne=kn(O.disabled)||kn(t.disabled);return Ue(r,B,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:B}},name:B,mount:!0,...O}}),a.mount.add(B),q?Pe({field:q,disabled:kn(O.disabled)?O.disabled:t.disabled,name:B,value:O.value}):P(B,!0,O.value),{...ne?{disabled:O.disabled||t.disabled}:{},...e.progressive?{required:!!O.required,min:ga(O.min),max:ga(O.max),minLength:ga(O.minLength),maxLength:ga(O.maxLength),pattern:ga(O.pattern)}:{},name:B,onChange:W,onBlur:W,ref:J=>{if(J){ve(B,O),q=ie(r,B);const Y=nt(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,de=D5(Y),be=q._f.refs||[];if(de?be.find(Ee=>Ee===Y):Y===q._f.ref)return;Ue(r,B,{_f:{...q._f,...de?{refs:[...be.filter(h0),Y,...Array.isArray(ie(s,B))?[{}]:[]],ref:{type:Y.type,name:B}}:{ref:Y}}}),P(B,!1,void 0,Y)}else q=ie(r,B,{}),q._f&&(q._f.mount=!1),(e.shouldUnregister||O.shouldUnregister)&&!(KC(a.array,B)&&o.action)&&a.unMount.add(B)}}},tr=()=>e.shouldFocusError&&$a(r,Z,a.mount),pn=B=>{kn(B)&&(h.state.next({disabled:B}),$a(r,(O,q)=>{const ne=ie(r,q);ne&&(O.disabled=ne._f.disabled||B,Array.isArray(ne._f.refs)&&ne._f.refs.forEach(J=>{J.disabled=ne._f.disabled||B}))},0,!1))},Ln=(B,O)=>async q=>{let ne;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let J=sn(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:Y,values:de}=await T();n.errors=Y,J=de}else await S(r);if(gt(n.errors,"root"),on(n.errors)){h.state.next({errors:{}});try{await B(J,q)}catch(Y){ne=Y}}else O&&await O({...n.errors},q),tr(),setTimeout(tr);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:on(n.errors)&&!ne,submitCount:n.submitCount+1,errors:n.errors}),ne)throw ne},Vn=(B,O={})=>{ie(r,B)&&(nt(O.defaultValue)?le(B,sn(ie(s,B))):(le(B,O.defaultValue),Ue(s,B,sn(O.defaultValue))),O.keepTouched||gt(n.touchedFields,B),O.keepDirty||(gt(n.dirtyFields,B),n.isDirty=O.defaultValue?N(B,sn(ie(s,B))):N()),O.keepError||(gt(n.errors,B),d.isValid&&E()),h.state.next({...n}))},_t=(B,O={})=>{const q=B?sn(B):s,ne=sn(q),J=on(B),Y=J?s:ne;if(O.keepDefaultValues||(s=q),!O.keepValues){if(O.keepDirtyValues)for(const de of a.mount)ie(n.dirtyFields,de)?Ue(Y,de,ie(i,de)):le(de,ie(Y,de));else{if(Pg&&nt(B))for(const de of a.mount){const be=ie(r,de);if(be&&be._f){const Ee=Array.isArray(be._f.refs)?be._f.refs[0]:be._f.ref;if(ud(Ee)){const Ae=Ee.closest("form");if(Ae){Ae.reset();break}}}}r={}}i=t.shouldUnregister?O.keepDefaultValues?sn(s):{}:sn(Y),h.array.next({values:{...Y}}),h.values.next({values:{...Y}})}a={mount:O.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!O.keepIsValid||!!O.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:O.keepSubmitCount?n.submitCount:0,isDirty:J?!1:O.keepDirty?n.isDirty:!!(O.keepDefaultValues&&!is(B,s)),isSubmitted:O.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:J?{}:O.keepDirtyValues?O.keepDefaultValues&&i?Vc(s,i):n.dirtyFields:O.keepDefaultValues&&B?Vc(s,B):O.keepDirty?n.dirtyFields:{},touchedFields:O.keepTouched?n.touchedFields:{},errors:O.keepErrors?n.errors:{},isSubmitSuccessful:O.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},lt=(B,O)=>_t(Rr(B)?B(i):B,O);return{control:{register:ve,unregister:me,getFieldState:M,handleSubmit:Ln,setError:H,_executeSchema:T,_getWatch:b,_getDirty:N,_updateValid:E,_removeUnmounted:k,_updateFieldArray:m,_updateDisabledField:Pe,_getFieldArray:G,_reset:_t,_resetDefaultValues:()=>Rr(e.defaultValues)&&e.defaultValues().then(B=>{lt(B,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:B=>{n={...n,...B}},_disableForm:pn,_subjects:h,_proxyFormState:d,_setErrors:A,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(B){o=B},get _defaultValues(){return s},get _names(){return a},set _names(B){a=B},get _formState(){return n},set _formState(B){n=B},get _options(){return e},set _options(B){e={...e,...B}}},trigger:te,register:ve,handleSubmit:Ln,watch:xe,setValue:le,getValues:V,reset:lt,resetField:Vn,clearErrors:$,unregister:me,setError:H,setFocus:(B,O={})=>{const q=ie(r,B),ne=q&&q._f;if(ne){const J=ne.refs?ne.refs[0]:ne.ref;J.focus&&(J.focus(),O.shouldSelect&&J.select())}},getFieldState:M}}function Yl(t={}){const e=oe.useRef(),n=oe.useRef(),[r,s]=oe.useState({isDirty:!1,isValidating:!1,isLoading:Rr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Rr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...V5(t),formState:r});const i=e.current.control;return i._options=t,jg({subject:i._subjects.state,next:o=>{YC(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),oe.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),oe.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),oe.useEffect(()=>{t.values&&!is(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),oe.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),oe.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),oe.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=QC(r,i),e.current}const M5=()=>{const{user:t}=er(),[e,n]=L.useState([]),[r,s]=L.useState(!0),[i,o]=L.useState(null),[a,l]=L.useState([]),{register:c,handleSubmit:d,watch:h,control:p,formState:{errors:v}}=Yl(),x=h("cryptocurrency"),w=h("amount");L.useEffect(()=>{(async()=>{if(t)try{const A=await km(10);console.log("Fetched cryptos:",A),n(A),await E(),o(null)}catch(A){console.error("Error fetching data:",A),o("Failed to fetch cryptocurrency data. Please try again later."),ce.error("Failed to fetch data. Please try again later.")}finally{s(!1)}})()},[t]);const E=async()=>{if(t)try{const y=rt(Te,"buyRequests"),A=Bn(y,Dr("userId","==",t.uid),Wo("date","desc")),F=(await $t(A)).docs.map(I=>({id:I.id,...I.data(),date:I.data().date.toDate()}));l(F)}catch(y){console.error("Error fetching buy requests:",y),ce.error("Failed to fetch buy requests. Please try again later.")}},_=async y=>{if(!t){ce.error("You must be logged in to make a purchase");return}try{const A=await Kl(rt(Te,"buyRequests"),{userId:t.uid,cryptocurrency:y.cryptocurrency,amount:parseFloat(y.amount),date:new Date,status:"pending"});ce.success("Buy request submitted successfully");const P={id:A.id,userId:t.uid,cryptocurrency:y.cryptocurrency,amount:parseFloat(y.amount),date:new Date,status:"pending"};l(F=>[P,...F])}catch(A){console.error("Error submitting buy request:",A),ce.error("Failed to submit buy request. Please try again.")}},m=()=>f.jsxs("div",{className:"animate-pulse space-y-4",children:[f.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"}),f.jsx("div",{className:"h-10 bg-gray-200 rounded"}),f.jsx("div",{className:"h-10 bg-gray-200 rounded"}),f.jsx("div",{className:"h-10 bg-gray-200 rounded w-1/2"})]});return r?f.jsxs("div",{className:"max-w-2xl mx-auto mt-8 p-6 bg-white rounded-lg shadow-md",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Buy Cryptocurrency"}),f.jsx(m,{})]}):i?f.jsxs("div",{className:"max-w-2xl mx-auto mt-8 p-6 bg-white rounded-lg shadow-md",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Buy Cryptocurrency"}),f.jsx("p",{className:"text-red-500",children:i}),f.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Retry"})]}):f.jsxs("div",{className:"max-w-2xl mx-auto mt-8 p-6 bg-white rounded-lg shadow-md",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Buy Cryptocurrency"}),f.jsxs("form",{onSubmit:d(_),className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"cryptocurrency",className:"block text-sm font-medium text-gray-700",children:"Select Cryptocurrency"}),f.jsx(yn,{name:"cryptocurrency",control:p,rules:{required:"Please select a cryptocurrency"},render:({field:y})=>f.jsxs("select",{...y,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md border-2 shadow-sm",children:[f.jsx("option",{value:"",children:"Select a cryptocurrency"}),e.map(A=>f.jsx("option",{value:A.id,children:A.name},A.id))]})}),v.cryptocurrency&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.cryptocurrency.message})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:"Amount (USD)"}),f.jsx("input",{type:"number",step:"0.01",...c("amount",{required:"Amount is required",min:{value:.01,message:"Minimum amount is 0.01 USD"}}),className:"mt-1 block w-full pl-3 pr-3 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md border-2 shadow-sm"}),v.amount&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:v.amount.message})]}),x&&w&&e.length>0&&f.jsxs("div",{className:"text-sm text-gray-600",children:["You will receive approximately ",(parseFloat(w)/e.find(y=>y.id===x).current_price).toFixed(8)," ",x.toUpperCase()]}),f.jsxs("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:["Buy ",f.jsx($w,{className:"ml-2",size:16})]})]}),f.jsx("h3",{className:"text-xl font-bold mt-8 mb-4",children:"Your Buy Requests"}),a.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cryptocurrency"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount (USD)"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(y=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y.date.toLocaleString()}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:y.cryptocurrency}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",y.amount.toFixed(2)]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${y.status==="approved"?"bg-green-100 text-green-800":y.status==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:y.status})})]},y.id))})]})}):f.jsx("p",{className:"text-gray-600",children:"You have no buy requests at the moment."})]})};var i4={exports:{}};function U5(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var p0={exports:{}};const z5={},q5=Object.freeze(Object.defineProperty({__proto__:null,default:z5},Symbol.toStringTag,{value:"Module"})),$5=k4(q5);var F1;function Ne(){return F1||(F1=1,function(t,e){(function(n,r){t.exports=r()})(Ce,function(){var n=n||function(r,s){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof Ce<"u"&&Ce.crypto&&(i=Ce.crypto),!i&&typeof U5=="function")try{i=$5}catch{}var o=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function m(){}return function(y){var A;return m.prototype=y,A=new m,m.prototype=null,A}}(),l={},c=l.lib={},d=c.Base=function(){return{extend:function(m){var y=a(this);return m&&y.mixIn(m),(!y.hasOwnProperty("init")||this.init===y.init)&&(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var y in m)m.hasOwnProperty(y)&&(this[y]=m[y]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=c.WordArray=d.extend({init:function(m,y){m=this.words=m||[],y!=s?this.sigBytes=y:this.sigBytes=m.length*4},toString:function(m){return(m||v).stringify(this)},concat:function(m){var y=this.words,A=m.words,P=this.sigBytes,F=m.sigBytes;if(this.clamp(),P%4)for(var I=0;I<F;I++){var T=A[I>>>2]>>>24-I%4*8&255;y[P+I>>>2]|=T<<24-(P+I)%4*8}else for(var R=0;R<F;R+=4)y[P+R>>>2]=A[R>>>2];return this.sigBytes+=F,this},clamp:function(){var m=this.words,y=this.sigBytes;m[y>>>2]&=4294967295<<32-y%4*8,m.length=r.ceil(y/4)},clone:function(){var m=d.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var y=[],A=0;A<m;A+=4)y.push(o());return new h.init(y,m)}}),p=l.enc={},v=p.Hex={stringify:function(m){for(var y=m.words,A=m.sigBytes,P=[],F=0;F<A;F++){var I=y[F>>>2]>>>24-F%4*8&255;P.push((I>>>4).toString(16)),P.push((I&15).toString(16))}return P.join("")},parse:function(m){for(var y=m.length,A=[],P=0;P<y;P+=2)A[P>>>3]|=parseInt(m.substr(P,2),16)<<24-P%8*4;return new h.init(A,y/2)}},x=p.Latin1={stringify:function(m){for(var y=m.words,A=m.sigBytes,P=[],F=0;F<A;F++){var I=y[F>>>2]>>>24-F%4*8&255;P.push(String.fromCharCode(I))}return P.join("")},parse:function(m){for(var y=m.length,A=[],P=0;P<y;P++)A[P>>>2]|=(m.charCodeAt(P)&255)<<24-P%4*8;return new h.init(A,y)}},w=p.Utf8={stringify:function(m){try{return decodeURIComponent(escape(x.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return x.parse(unescape(encodeURIComponent(m)))}},E=c.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(m){typeof m=="string"&&(m=w.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var y,A=this._data,P=A.words,F=A.sigBytes,I=this.blockSize,T=I*4,R=F/T;m?R=r.ceil(R):R=r.max((R|0)-this._minBufferSize,0);var S=R*I,k=r.min(S*4,F);if(S){for(var N=0;N<S;N+=I)this._doProcessBlock(P,N);y=P.splice(0,S),A.sigBytes-=k}return new h.init(y,k)},clone:function(){var m=d.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0});c.Hasher=E.extend({cfg:d.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){E.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){m&&this._append(m);var y=this._doFinalize();return y},blockSize:16,_createHelper:function(m){return function(y,A){return new m.init(A).finalize(y)}},_createHmacHelper:function(m){return function(y,A){return new _.HMAC.init(m,A).finalize(y)}}});var _=l.algo={};return l}(Math);return n})}(p0)),p0.exports}var m0={exports:{}},B1;function ah(){return B1||(B1=1,function(t,e){(function(n,r){t.exports=r(Ne())})(Ce,function(n){return function(r){var s=n,i=s.lib,o=i.Base,a=i.WordArray,l=s.x64={};l.Word=o.extend({init:function(c,d){this.high=c,this.low=d}}),l.WordArray=o.extend({init:function(c,d){c=this.words=c||[],d!=r?this.sigBytes=d:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,d=c.length,h=[],p=0;p<d;p++){var v=c[p];h.push(v.high),h.push(v.low)}return a.create(h,this.sigBytes)},clone:function(){for(var c=o.clone.call(this),d=c.words=this.words.slice(0),h=d.length,p=0;p<h;p++)d[p]=d[p].clone();return c}})}(),n})}(m0)),m0.exports}var g0={exports:{}},j1;function H5(){return j1||(j1=1,function(t,e){(function(n,r){t.exports=r(Ne())})(Ce,function(n){return function(){if(typeof ArrayBuffer=="function"){var r=n,s=r.lib,i=s.WordArray,o=i.init,a=i.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var c=l.byteLength,d=[],h=0;h<c;h++)d[h>>>2]|=l[h]<<24-h%4*8;o.call(this,d,c)}else o.apply(this,arguments)};a.prototype=i}}(),n.lib.WordArray})}(g0)),g0.exports}var y0={exports:{}},O1;function W5(){return O1||(O1=1,function(t,e){(function(n,r){t.exports=r(Ne())})(Ce,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(l){for(var c=l.words,d=l.sigBytes,h=[],p=0;p<d;p+=2){var v=c[p>>>2]>>>16-p%4*8&65535;h.push(String.fromCharCode(v))}return h.join("")},parse:function(l){for(var c=l.length,d=[],h=0;h<c;h++)d[h>>>1]|=l.charCodeAt(h)<<16-h%2*16;return i.create(d,c*2)}},o.Utf16LE={stringify:function(l){for(var c=l.words,d=l.sigBytes,h=[],p=0;p<d;p+=2){var v=a(c[p>>>2]>>>16-p%4*8&65535);h.push(String.fromCharCode(v))}return h.join("")},parse:function(l){for(var c=l.length,d=[],h=0;h<c;h++)d[h>>>1]|=a(l.charCodeAt(h)<<16-h%2*16);return i.create(d,c*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}}(),n.enc.Utf16})}(y0)),y0.exports}var x0={exports:{}},L1;function bi(){return L1||(L1=1,function(t,e){(function(n,r){t.exports=r(Ne())})(Ce,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,o=r.enc;o.Base64={stringify:function(l){var c=l.words,d=l.sigBytes,h=this._map;l.clamp();for(var p=[],v=0;v<d;v+=3)for(var x=c[v>>>2]>>>24-v%4*8&255,w=c[v+1>>>2]>>>24-(v+1)%4*8&255,E=c[v+2>>>2]>>>24-(v+2)%4*8&255,_=x<<16|w<<8|E,m=0;m<4&&v+m*.75<d;m++)p.push(h.charAt(_>>>6*(3-m)&63));var y=h.charAt(64);if(y)for(;p.length%4;)p.push(y);return p.join("")},parse:function(l){var c=l.length,d=this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var p=0;p<d.length;p++)h[d.charCodeAt(p)]=p}var v=d.charAt(64);if(v){var x=l.indexOf(v);x!==-1&&(c=x)}return a(l,c,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,d){for(var h=[],p=0,v=0;v<c;v++)if(v%4){var x=d[l.charCodeAt(v-1)]<<v%4*2,w=d[l.charCodeAt(v)]>>>6-v%4*2,E=x|w;h[p>>>2]|=E<<24-p%4*8,p++}return i.create(h,p)}}(),n.enc.Base64})}(x0)),x0.exports}var v0={exports:{}},V1;function K5(){return V1||(V1=1,function(t,e){(function(n,r){t.exports=r(Ne())})(Ce,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,o=r.enc;o.Base64url={stringify:function(l,c){c===void 0&&(c=!0);var d=l.words,h=l.sigBytes,p=c?this._safe_map:this._map;l.clamp();for(var v=[],x=0;x<h;x+=3)for(var w=d[x>>>2]>>>24-x%4*8&255,E=d[x+1>>>2]>>>24-(x+1)%4*8&255,_=d[x+2>>>2]>>>24-(x+2)%4*8&255,m=w<<16|E<<8|_,y=0;y<4&&x+y*.75<h;y++)v.push(p.charAt(m>>>6*(3-y)&63));var A=p.charAt(64);if(A)for(;v.length%4;)v.push(A);return v.join("")},parse:function(l,c){c===void 0&&(c=!0);var d=l.length,h=c?this._safe_map:this._map,p=this._reverseMap;if(!p){p=this._reverseMap=[];for(var v=0;v<h.length;v++)p[h.charCodeAt(v)]=v}var x=h.charAt(64);if(x){var w=l.indexOf(x);w!==-1&&(d=w)}return a(l,d,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,d){for(var h=[],p=0,v=0;v<c;v++)if(v%4){var x=d[l.charCodeAt(v-1)]<<v%4*2,w=d[l.charCodeAt(v)]>>>6-v%4*2,E=x|w;h[p>>>2]|=E<<24-p%4*8,p++}return i.create(h,p)}}(),n.enc.Base64url})}(v0)),v0.exports}var _0={exports:{}},M1;function Ri(){return M1||(M1=1,function(t,e){(function(n,r){t.exports=r(Ne())})(Ce,function(n){return function(r){var s=n,i=s.lib,o=i.WordArray,a=i.Hasher,l=s.algo,c=[];(function(){for(var w=0;w<64;w++)c[w]=r.abs(r.sin(w+1))*4294967296|0})();var d=l.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(w,E){for(var _=0;_<16;_++){var m=E+_,y=w[m];w[m]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360}var A=this._hash.words,P=w[E+0],F=w[E+1],I=w[E+2],T=w[E+3],R=w[E+4],S=w[E+5],k=w[E+6],N=w[E+7],b=w[E+8],G=w[E+9],ee=w[E+10],re=w[E+11],le=w[E+12],W=w[E+13],Z=w[E+14],te=w[E+15],V=A[0],M=A[1],$=A[2],H=A[3];V=h(V,M,$,H,P,7,c[0]),H=h(H,V,M,$,F,12,c[1]),$=h($,H,V,M,I,17,c[2]),M=h(M,$,H,V,T,22,c[3]),V=h(V,M,$,H,R,7,c[4]),H=h(H,V,M,$,S,12,c[5]),$=h($,H,V,M,k,17,c[6]),M=h(M,$,H,V,N,22,c[7]),V=h(V,M,$,H,b,7,c[8]),H=h(H,V,M,$,G,12,c[9]),$=h($,H,V,M,ee,17,c[10]),M=h(M,$,H,V,re,22,c[11]),V=h(V,M,$,H,le,7,c[12]),H=h(H,V,M,$,W,12,c[13]),$=h($,H,V,M,Z,17,c[14]),M=h(M,$,H,V,te,22,c[15]),V=p(V,M,$,H,F,5,c[16]),H=p(H,V,M,$,k,9,c[17]),$=p($,H,V,M,re,14,c[18]),M=p(M,$,H,V,P,20,c[19]),V=p(V,M,$,H,S,5,c[20]),H=p(H,V,M,$,ee,9,c[21]),$=p($,H,V,M,te,14,c[22]),M=p(M,$,H,V,R,20,c[23]),V=p(V,M,$,H,G,5,c[24]),H=p(H,V,M,$,Z,9,c[25]),$=p($,H,V,M,T,14,c[26]),M=p(M,$,H,V,b,20,c[27]),V=p(V,M,$,H,W,5,c[28]),H=p(H,V,M,$,I,9,c[29]),$=p($,H,V,M,N,14,c[30]),M=p(M,$,H,V,le,20,c[31]),V=v(V,M,$,H,S,4,c[32]),H=v(H,V,M,$,b,11,c[33]),$=v($,H,V,M,re,16,c[34]),M=v(M,$,H,V,Z,23,c[35]),V=v(V,M,$,H,F,4,c[36]),H=v(H,V,M,$,R,11,c[37]),$=v($,H,V,M,N,16,c[38]),M=v(M,$,H,V,ee,23,c[39]),V=v(V,M,$,H,W,4,c[40]),H=v(H,V,M,$,P,11,c[41]),$=v($,H,V,M,T,16,c[42]),M=v(M,$,H,V,k,23,c[43]),V=v(V,M,$,H,G,4,c[44]),H=v(H,V,M,$,le,11,c[45]),$=v($,H,V,M,te,16,c[46]),M=v(M,$,H,V,I,23,c[47]),V=x(V,M,$,H,P,6,c[48]),H=x(H,V,M,$,N,10,c[49]),$=x($,H,V,M,Z,15,c[50]),M=x(M,$,H,V,S,21,c[51]),V=x(V,M,$,H,le,6,c[52]),H=x(H,V,M,$,T,10,c[53]),$=x($,H,V,M,ee,15,c[54]),M=x(M,$,H,V,F,21,c[55]),V=x(V,M,$,H,b,6,c[56]),H=x(H,V,M,$,te,10,c[57]),$=x($,H,V,M,k,15,c[58]),M=x(M,$,H,V,W,21,c[59]),V=x(V,M,$,H,R,6,c[60]),H=x(H,V,M,$,re,10,c[61]),$=x($,H,V,M,I,15,c[62]),M=x(M,$,H,V,G,21,c[63]),A[0]=A[0]+V|0,A[1]=A[1]+M|0,A[2]=A[2]+$|0,A[3]=A[3]+H|0},_doFinalize:function(){var w=this._data,E=w.words,_=this._nDataBytes*8,m=w.sigBytes*8;E[m>>>5]|=128<<24-m%32;var y=r.floor(_/4294967296),A=_;E[(m+64>>>9<<4)+15]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,E[(m+64>>>9<<4)+14]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,w.sigBytes=(E.length+1)*4,this._process();for(var P=this._hash,F=P.words,I=0;I<4;I++){var T=F[I];F[I]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}return P},clone:function(){var w=a.clone.call(this);return w._hash=this._hash.clone(),w}});function h(w,E,_,m,y,A,P){var F=w+(E&_|~E&m)+y+P;return(F<<A|F>>>32-A)+E}function p(w,E,_,m,y,A,P){var F=w+(E&m|_&~m)+y+P;return(F<<A|F>>>32-A)+E}function v(w,E,_,m,y,A,P){var F=w+(E^_^m)+y+P;return(F<<A|F>>>32-A)+E}function x(w,E,_,m,y,A,P){var F=w+(_^(E|~m))+y+P;return(F<<A|F>>>32-A)+E}s.MD5=a._createHelper(d),s.HmacMD5=a._createHmacHelper(d)}(Math),n.MD5})}(_0)),_0.exports}var E0={exports:{}},U1;function o4(){return U1||(U1=1,function(t,e){(function(n,r){t.exports=r(Ne())})(Ce,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,o=s.Hasher,a=r.algo,l=[],c=a.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,h){for(var p=this._hash.words,v=p[0],x=p[1],w=p[2],E=p[3],_=p[4],m=0;m<80;m++){if(m<16)l[m]=d[h+m]|0;else{var y=l[m-3]^l[m-8]^l[m-14]^l[m-16];l[m]=y<<1|y>>>31}var A=(v<<5|v>>>27)+_+l[m];m<20?A+=(x&w|~x&E)+1518500249:m<40?A+=(x^w^E)+1859775393:m<60?A+=(x&w|x&E|w&E)-1894007588:A+=(x^w^E)-899497514,_=E,E=w,w=x<<30|x>>>2,x=v,v=A}p[0]=p[0]+v|0,p[1]=p[1]+x|0,p[2]=p[2]+w|0,p[3]=p[3]+E|0,p[4]=p[4]+_|0},_doFinalize:function(){var d=this._data,h=d.words,p=this._nDataBytes*8,v=d.sigBytes*8;return h[v>>>5]|=128<<24-v%32,h[(v+64>>>9<<4)+14]=Math.floor(p/4294967296),h[(v+64>>>9<<4)+15]=p,d.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var d=o.clone.call(this);return d._hash=this._hash.clone(),d}});r.SHA1=o._createHelper(c),r.HmacSHA1=o._createHmacHelper(c)}(),n.SHA1})}(E0)),E0.exports}var w0={exports:{}},z1;function Vg(){return z1||(z1=1,function(t,e){(function(n,r){t.exports=r(Ne())})(Ce,function(n){return function(r){var s=n,i=s.lib,o=i.WordArray,a=i.Hasher,l=s.algo,c=[],d=[];(function(){function v(_){for(var m=r.sqrt(_),y=2;y<=m;y++)if(!(_%y))return!1;return!0}function x(_){return(_-(_|0))*4294967296|0}for(var w=2,E=0;E<64;)v(w)&&(E<8&&(c[E]=x(r.pow(w,1/2))),d[E]=x(r.pow(w,1/3)),E++),w++})();var h=[],p=l.SHA256=a.extend({_doReset:function(){this._hash=new o.init(c.slice(0))},_doProcessBlock:function(v,x){for(var w=this._hash.words,E=w[0],_=w[1],m=w[2],y=w[3],A=w[4],P=w[5],F=w[6],I=w[7],T=0;T<64;T++){if(T<16)h[T]=v[x+T]|0;else{var R=h[T-15],S=(R<<25|R>>>7)^(R<<14|R>>>18)^R>>>3,k=h[T-2],N=(k<<15|k>>>17)^(k<<13|k>>>19)^k>>>10;h[T]=S+h[T-7]+N+h[T-16]}var b=A&P^~A&F,G=E&_^E&m^_&m,ee=(E<<30|E>>>2)^(E<<19|E>>>13)^(E<<10|E>>>22),re=(A<<26|A>>>6)^(A<<21|A>>>11)^(A<<7|A>>>25),le=I+re+b+d[T]+h[T],W=ee+G;I=F,F=P,P=A,A=y+le|0,y=m,m=_,_=E,E=le+W|0}w[0]=w[0]+E|0,w[1]=w[1]+_|0,w[2]=w[2]+m|0,w[3]=w[3]+y|0,w[4]=w[4]+A|0,w[5]=w[5]+P|0,w[6]=w[6]+F|0,w[7]=w[7]+I|0},_doFinalize:function(){var v=this._data,x=v.words,w=this._nDataBytes*8,E=v.sigBytes*8;return x[E>>>5]|=128<<24-E%32,x[(E+64>>>9<<4)+14]=r.floor(w/4294967296),x[(E+64>>>9<<4)+15]=w,v.sigBytes=x.length*4,this._process(),this._hash},clone:function(){var v=a.clone.call(this);return v._hash=this._hash.clone(),v}});s.SHA256=a._createHelper(p),s.HmacSHA256=a._createHmacHelper(p)}(Math),n.SHA256})}(w0)),w0.exports}var A0={exports:{}},q1;function G5(){return q1||(q1=1,function(t,e){(function(n,r,s){t.exports=r(Ne(),Vg())})(Ce,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,o=r.algo,a=o.SHA256,l=o.SHA224=a.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=a._doFinalize.call(this);return c.sigBytes-=4,c}});r.SHA224=a._createHelper(l),r.HmacSHA224=a._createHmacHelper(l)}(),n.SHA224})}(A0)),A0.exports}var C0={exports:{}},$1;function a4(){return $1||($1=1,function(t,e){(function(n,r,s){t.exports=r(Ne(),ah())})(Ce,function(n){return function(){var r=n,s=r.lib,i=s.Hasher,o=r.x64,a=o.Word,l=o.WordArray,c=r.algo;function d(){return a.create.apply(a,arguments)}var h=[d(1116352408,3609767458),d(1899447441,602891725),d(3049323471,3964484399),d(3921009573,2173295548),d(961987163,4081628472),d(1508970993,3053834265),d(2453635748,2937671579),d(2870763221,3664609560),d(3624381080,2734883394),d(310598401,1164996542),d(607225278,1323610764),d(1426881987,3590304994),d(1925078388,4068182383),d(2162078206,991336113),d(2614888103,633803317),d(3248222580,3479774868),d(3835390401,2666613458),d(4022224774,944711139),d(264347078,2341262773),d(604807628,2007800933),d(770255983,1495990901),d(1249150122,1856431235),d(1555081692,3175218132),d(1996064986,2198950837),d(2554220882,3999719339),d(2821834349,766784016),d(2952996808,2566594879),d(3210313671,3203337956),d(3336571891,1034457026),d(3584528711,2466948901),d(113926993,3758326383),d(338241895,168717936),d(666307205,1188179964),d(773529912,1546045734),d(1294757372,1522805485),d(1396182291,2643833823),d(1695183700,2343527390),d(1986661051,1014477480),d(2177026350,1206759142),d(2456956037,344077627),d(2730485921,1290863460),d(2820302411,3158454273),d(3259730800,3505952657),d(3345764771,106217008),d(3516065817,3606008344),d(3600352804,1432725776),d(4094571909,1467031594),d(275423344,851169720),d(430227734,3100823752),d(506948616,1363258195),d(659060556,3750685593),d(883997877,3785050280),d(958139571,3318307427),d(1322822218,3812723403),d(1537002063,2003034995),d(1747873779,3602036899),d(1955562222,1575990012),d(2024104815,1125592928),d(2227730452,2716904306),d(2361852424,442776044),d(2428436474,593698344),d(2756734187,3733110249),d(3204031479,2999351573),d(3329325298,3815920427),d(3391569614,3928383900),d(3515267271,566280711),d(3940187606,3454069534),d(4118630271,4000239992),d(116418474,1914138554),d(174292421,2731055270),d(289380356,3203993006),d(460393269,320620315),d(685471733,587496836),d(852142971,1086792851),d(1017036298,365543100),d(1126000580,2618297676),d(1288033470,3409855158),d(1501505948,4234509866),d(1607167915,987167468),d(1816402316,1246189591)],p=[];(function(){for(var x=0;x<80;x++)p[x]=d()})();var v=c.SHA512=i.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(x,w){for(var E=this._hash.words,_=E[0],m=E[1],y=E[2],A=E[3],P=E[4],F=E[5],I=E[6],T=E[7],R=_.high,S=_.low,k=m.high,N=m.low,b=y.high,G=y.low,ee=A.high,re=A.low,le=P.high,W=P.low,Z=F.high,te=F.low,V=I.high,M=I.low,$=T.high,H=T.low,xe=R,me=S,Pe=k,ve=N,tr=b,pn=G,Ln=ee,Vn=re,_t=le,lt=W,pr=Z,mr=te,Vs=V,B=M,O=$,q=H,ne=0;ne<80;ne++){var J,Y,de=p[ne];if(ne<16)Y=de.high=x[w+ne*2]|0,J=de.low=x[w+ne*2+1]|0;else{var be=p[ne-15],Ee=be.high,Ae=be.low,nn=(Ee>>>1|Ae<<31)^(Ee>>>8|Ae<<24)^Ee>>>7,Ms=(Ae>>>1|Ee<<31)^(Ae>>>8|Ee<<24)^(Ae>>>7|Ee<<25),gr=p[ne-2],Rn=gr.high,mn=gr.low,Us=(Rn>>>19|mn<<13)^(Rn<<3|mn>>>29)^Rn>>>6,zs=(mn>>>19|Rn<<13)^(mn<<3|Rn>>>29)^(mn>>>6|Rn<<26),yr=p[ne-7],lh=yr.high,ch=yr.low,ki=p[ne-16],Xl=ki.high,Ko=ki.low;J=Ms+ch,Y=nn+lh+(J>>>0<Ms>>>0?1:0),J=J+zs,Y=Y+Us+(J>>>0<zs>>>0?1:0),J=J+Ko,Y=Y+Xl+(J>>>0<Ko>>>0?1:0),de.high=Y,de.low=J}var qs=_t&pr^~_t&Vs,Ni=lt&mr^~lt&B,Go=xe&Pe^xe&tr^Pe&tr,xr=me&ve^me&pn^ve&pn,Jl=(xe>>>28|me<<4)^(xe<<30|me>>>2)^(xe<<25|me>>>7),$s=(me>>>28|xe<<4)^(me<<30|xe>>>2)^(me<<25|xe>>>7),Zl=(_t>>>14|lt<<18)^(_t>>>18|lt<<14)^(_t<<23|lt>>>9),Hs=(lt>>>14|_t<<18)^(lt>>>18|_t<<14)^(lt<<23|_t>>>9),Qo=h[ne],St=Qo.high,Yo=Qo.low,mt=q+Hs,rn=O+Zl+(mt>>>0<q>>>0?1:0),mt=mt+Ni,rn=rn+qs+(mt>>>0<Ni>>>0?1:0),mt=mt+Yo,rn=rn+St+(mt>>>0<Yo>>>0?1:0),mt=mt+J,rn=rn+Y+(mt>>>0<J>>>0?1:0),ec=$s+xr,uh=Jl+Go+(ec>>>0<$s>>>0?1:0);O=Vs,q=B,Vs=pr,B=mr,pr=_t,mr=lt,lt=Vn+mt|0,_t=Ln+rn+(lt>>>0<Vn>>>0?1:0)|0,Ln=tr,Vn=pn,tr=Pe,pn=ve,Pe=xe,ve=me,me=mt+ec|0,xe=rn+uh+(me>>>0<mt>>>0?1:0)|0}S=_.low=S+me,_.high=R+xe+(S>>>0<me>>>0?1:0),N=m.low=N+ve,m.high=k+Pe+(N>>>0<ve>>>0?1:0),G=y.low=G+pn,y.high=b+tr+(G>>>0<pn>>>0?1:0),re=A.low=re+Vn,A.high=ee+Ln+(re>>>0<Vn>>>0?1:0),W=P.low=W+lt,P.high=le+_t+(W>>>0<lt>>>0?1:0),te=F.low=te+mr,F.high=Z+pr+(te>>>0<mr>>>0?1:0),M=I.low=M+B,I.high=V+Vs+(M>>>0<B>>>0?1:0),H=T.low=H+q,T.high=$+O+(H>>>0<q>>>0?1:0)},_doFinalize:function(){var x=this._data,w=x.words,E=this._nDataBytes*8,_=x.sigBytes*8;w[_>>>5]|=128<<24-_%32,w[(_+128>>>10<<5)+30]=Math.floor(E/4294967296),w[(_+128>>>10<<5)+31]=E,x.sigBytes=w.length*4,this._process();var m=this._hash.toX32();return m},clone:function(){var x=i.clone.call(this);return x._hash=this._hash.clone(),x},blockSize:1024/32});r.SHA512=i._createHelper(v),r.HmacSHA512=i._createHmacHelper(v)}(),n.SHA512})}(C0)),C0.exports}var T0={exports:{}},H1;function Q5(){return H1||(H1=1,function(t,e){(function(n,r,s){t.exports=r(Ne(),ah(),a4())})(Ce,function(n){return function(){var r=n,s=r.x64,i=s.Word,o=s.WordArray,a=r.algo,l=a.SHA512,c=a.SHA384=l.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var d=l._doFinalize.call(this);return d.sigBytes-=16,d}});r.SHA384=l._createHelper(c),r.HmacSHA384=l._createHmacHelper(c)}(),n.SHA384})}(T0)),T0.exports}var S0={exports:{}},W1;function Y5(){return W1||(W1=1,function(t,e){(function(n,r,s){t.exports=r(Ne(),ah())})(Ce,function(n){return function(r){var s=n,i=s.lib,o=i.WordArray,a=i.Hasher,l=s.x64,c=l.Word,d=s.algo,h=[],p=[],v=[];(function(){for(var E=1,_=0,m=0;m<24;m++){h[E+5*_]=(m+1)*(m+2)/2%64;var y=_%5,A=(2*E+3*_)%5;E=y,_=A}for(var E=0;E<5;E++)for(var _=0;_<5;_++)p[E+5*_]=_+(2*E+3*_)%5*5;for(var P=1,F=0;F<24;F++){for(var I=0,T=0,R=0;R<7;R++){if(P&1){var S=(1<<R)-1;S<32?T^=1<<S:I^=1<<S-32}P&128?P=P<<1^113:P<<=1}v[F]=c.create(I,T)}})();var x=[];(function(){for(var E=0;E<25;E++)x[E]=c.create()})();var w=d.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var E=this._state=[],_=0;_<25;_++)E[_]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(E,_){for(var m=this._state,y=this.blockSize/2,A=0;A<y;A++){var P=E[_+2*A],F=E[_+2*A+1];P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,F=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360;var I=m[A];I.high^=F,I.low^=P}for(var T=0;T<24;T++){for(var R=0;R<5;R++){for(var S=0,k=0,N=0;N<5;N++){var I=m[R+5*N];S^=I.high,k^=I.low}var b=x[R];b.high=S,b.low=k}for(var R=0;R<5;R++)for(var G=x[(R+4)%5],ee=x[(R+1)%5],re=ee.high,le=ee.low,S=G.high^(re<<1|le>>>31),k=G.low^(le<<1|re>>>31),N=0;N<5;N++){var I=m[R+5*N];I.high^=S,I.low^=k}for(var W=1;W<25;W++){var S,k,I=m[W],Z=I.high,te=I.low,V=h[W];V<32?(S=Z<<V|te>>>32-V,k=te<<V|Z>>>32-V):(S=te<<V-32|Z>>>64-V,k=Z<<V-32|te>>>64-V);var M=x[p[W]];M.high=S,M.low=k}var $=x[0],H=m[0];$.high=H.high,$.low=H.low;for(var R=0;R<5;R++)for(var N=0;N<5;N++){var W=R+5*N,I=m[W],xe=x[W],me=x[(R+1)%5+5*N],Pe=x[(R+2)%5+5*N];I.high=xe.high^~me.high&Pe.high,I.low=xe.low^~me.low&Pe.low}var I=m[0],ve=v[T];I.high^=ve.high,I.low^=ve.low}},_doFinalize:function(){var E=this._data,_=E.words;this._nDataBytes*8;var m=E.sigBytes*8,y=this.blockSize*32;_[m>>>5]|=1<<24-m%32,_[(r.ceil((m+1)/y)*y>>>5)-1]|=128,E.sigBytes=_.length*4,this._process();for(var A=this._state,P=this.cfg.outputLength/8,F=P/8,I=[],T=0;T<F;T++){var R=A[T],S=R.high,k=R.low;S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,I.push(k),I.push(S)}return new o.init(I,P)},clone:function(){for(var E=a.clone.call(this),_=E._state=this._state.slice(0),m=0;m<25;m++)_[m]=_[m].clone();return E}});s.SHA3=a._createHelper(w),s.HmacSHA3=a._createHmacHelper(w)}(Math),n.SHA3})}(S0)),S0.exports}var I0={exports:{}},K1;function X5(){return K1||(K1=1,function(t,e){(function(n,r){t.exports=r(Ne())})(Ce,function(n){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var s=n,i=s.lib,o=i.WordArray,a=i.Hasher,l=s.algo,c=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),d=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),h=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),p=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),v=o.create([0,1518500249,1859775393,2400959708,2840853838]),x=o.create([1352829926,1548603684,1836072691,2053994217,0]),w=l.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(F,I){for(var T=0;T<16;T++){var R=I+T,S=F[R];F[R]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}var k=this._hash.words,N=v.words,b=x.words,G=c.words,ee=d.words,re=h.words,le=p.words,W,Z,te,V,M,$,H,xe,me,Pe;$=W=k[0],H=Z=k[1],xe=te=k[2],me=V=k[3],Pe=M=k[4];for(var ve,T=0;T<80;T+=1)ve=W+F[I+G[T]]|0,T<16?ve+=E(Z,te,V)+N[0]:T<32?ve+=_(Z,te,V)+N[1]:T<48?ve+=m(Z,te,V)+N[2]:T<64?ve+=y(Z,te,V)+N[3]:ve+=A(Z,te,V)+N[4],ve=ve|0,ve=P(ve,re[T]),ve=ve+M|0,W=M,M=V,V=P(te,10),te=Z,Z=ve,ve=$+F[I+ee[T]]|0,T<16?ve+=A(H,xe,me)+b[0]:T<32?ve+=y(H,xe,me)+b[1]:T<48?ve+=m(H,xe,me)+b[2]:T<64?ve+=_(H,xe,me)+b[3]:ve+=E(H,xe,me)+b[4],ve=ve|0,ve=P(ve,le[T]),ve=ve+Pe|0,$=Pe,Pe=me,me=P(xe,10),xe=H,H=ve;ve=k[1]+te+me|0,k[1]=k[2]+V+Pe|0,k[2]=k[3]+M+$|0,k[3]=k[4]+W+H|0,k[4]=k[0]+Z+xe|0,k[0]=ve},_doFinalize:function(){var F=this._data,I=F.words,T=this._nDataBytes*8,R=F.sigBytes*8;I[R>>>5]|=128<<24-R%32,I[(R+64>>>9<<4)+14]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,F.sigBytes=(I.length+1)*4,this._process();for(var S=this._hash,k=S.words,N=0;N<5;N++){var b=k[N];k[N]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}return S},clone:function(){var F=a.clone.call(this);return F._hash=this._hash.clone(),F}});function E(F,I,T){return F^I^T}function _(F,I,T){return F&I|~F&T}function m(F,I,T){return(F|~I)^T}function y(F,I,T){return F&T|I&~T}function A(F,I,T){return F^(I|~T)}function P(F,I){return F<<I|F>>>32-I}s.RIPEMD160=a._createHelper(w),s.HmacRIPEMD160=a._createHmacHelper(w)}(),n.RIPEMD160})}(I0)),I0.exports}var b0={exports:{}},G1;function Mg(){return G1||(G1=1,function(t,e){(function(n,r){t.exports=r(Ne())})(Ce,function(n){(function(){var r=n,s=r.lib,i=s.Base,o=r.enc,a=o.Utf8,l=r.algo;l.HMAC=i.extend({init:function(c,d){c=this._hasher=new c.init,typeof d=="string"&&(d=a.parse(d));var h=c.blockSize,p=h*4;d.sigBytes>p&&(d=c.finalize(d)),d.clamp();for(var v=this._oKey=d.clone(),x=this._iKey=d.clone(),w=v.words,E=x.words,_=0;_<h;_++)w[_]^=1549556828,E[_]^=909522486;v.sigBytes=x.sigBytes=p,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var d=this._hasher,h=d.finalize(c);d.reset();var p=d.finalize(this._oKey.clone().concat(h));return p}})})()})}(b0)),b0.exports}var R0={exports:{}},Q1;function J5(){return Q1||(Q1=1,function(t,e){(function(n,r,s){t.exports=r(Ne(),Vg(),Mg())})(Ce,function(n){return function(){var r=n,s=r.lib,i=s.Base,o=s.WordArray,a=r.algo,l=a.SHA256,c=a.HMAC,d=a.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,p){for(var v=this.cfg,x=c.create(v.hasher,h),w=o.create(),E=o.create([1]),_=w.words,m=E.words,y=v.keySize,A=v.iterations;_.length<y;){var P=x.update(p).finalize(E);x.reset();for(var F=P.words,I=F.length,T=P,R=1;R<A;R++){T=x.finalize(T),x.reset();for(var S=T.words,k=0;k<I;k++)F[k]^=S[k]}w.concat(P),m[0]++}return w.sigBytes=y*4,w}});r.PBKDF2=function(h,p,v){return d.create(v).compute(h,p)}}(),n.PBKDF2})}(R0)),R0.exports}var k0={exports:{}},Y1;function Ls(){return Y1||(Y1=1,function(t,e){(function(n,r,s){t.exports=r(Ne(),o4(),Mg())})(Ce,function(n){return function(){var r=n,s=r.lib,i=s.Base,o=s.WordArray,a=r.algo,l=a.MD5,c=a.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:l,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,h){for(var p,v=this.cfg,x=v.hasher.create(),w=o.create(),E=w.words,_=v.keySize,m=v.iterations;E.length<_;){p&&x.update(p),p=x.update(d).finalize(h),x.reset();for(var y=1;y<m;y++)p=x.finalize(p),x.reset();w.concat(p)}return w.sigBytes=_*4,w}});r.EvpKDF=function(d,h,p){return c.create(p).compute(d,h)}}(),n.EvpKDF})}(k0)),k0.exports}var N0={exports:{}},X1;function Tt(){return X1||(X1=1,function(t,e){(function(n,r,s){t.exports=r(Ne(),Ls())})(Ce,function(n){n.lib.Cipher||function(r){var s=n,i=s.lib,o=i.Base,a=i.WordArray,l=i.BufferedBlockAlgorithm,c=s.enc;c.Utf8;var d=c.Base64,h=s.algo,p=h.EvpKDF,v=i.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(S,k){return this.create(this._ENC_XFORM_MODE,S,k)},createDecryptor:function(S,k){return this.create(this._DEC_XFORM_MODE,S,k)},init:function(S,k,N){this.cfg=this.cfg.extend(N),this._xformMode=S,this._key=k,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(S){return this._append(S),this._process()},finalize:function(S){S&&this._append(S);var k=this._doFinalize();return k},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function S(k){return typeof k=="string"?R:F}return function(k){return{encrypt:function(N,b,G){return S(b).encrypt(k,N,b,G)},decrypt:function(N,b,G){return S(b).decrypt(k,N,b,G)}}}}()});i.StreamCipher=v.extend({_doFinalize:function(){var S=this._process(!0);return S},blockSize:1});var x=s.mode={},w=i.BlockCipherMode=o.extend({createEncryptor:function(S,k){return this.Encryptor.create(S,k)},createDecryptor:function(S,k){return this.Decryptor.create(S,k)},init:function(S,k){this._cipher=S,this._iv=k}}),E=x.CBC=function(){var S=w.extend();S.Encryptor=S.extend({processBlock:function(N,b){var G=this._cipher,ee=G.blockSize;k.call(this,N,b,ee),G.encryptBlock(N,b),this._prevBlock=N.slice(b,b+ee)}}),S.Decryptor=S.extend({processBlock:function(N,b){var G=this._cipher,ee=G.blockSize,re=N.slice(b,b+ee);G.decryptBlock(N,b),k.call(this,N,b,ee),this._prevBlock=re}});function k(N,b,G){var ee,re=this._iv;re?(ee=re,this._iv=r):ee=this._prevBlock;for(var le=0;le<G;le++)N[b+le]^=ee[le]}return S}(),_=s.pad={},m=_.Pkcs7={pad:function(S,k){for(var N=k*4,b=N-S.sigBytes%N,G=b<<24|b<<16|b<<8|b,ee=[],re=0;re<b;re+=4)ee.push(G);var le=a.create(ee,b);S.concat(le)},unpad:function(S){var k=S.words[S.sigBytes-1>>>2]&255;S.sigBytes-=k}};i.BlockCipher=v.extend({cfg:v.cfg.extend({mode:E,padding:m}),reset:function(){var S;v.reset.call(this);var k=this.cfg,N=k.iv,b=k.mode;this._xformMode==this._ENC_XFORM_MODE?S=b.createEncryptor:(S=b.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==S?this._mode.init(this,N&&N.words):(this._mode=S.call(b,this,N&&N.words),this._mode.__creator=S)},_doProcessBlock:function(S,k){this._mode.processBlock(S,k)},_doFinalize:function(){var S,k=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(k.pad(this._data,this.blockSize),S=this._process(!0)):(S=this._process(!0),k.unpad(S)),S},blockSize:128/32});var y=i.CipherParams=o.extend({init:function(S){this.mixIn(S)},toString:function(S){return(S||this.formatter).stringify(this)}}),A=s.format={},P=A.OpenSSL={stringify:function(S){var k,N=S.ciphertext,b=S.salt;return b?k=a.create([1398893684,1701076831]).concat(b).concat(N):k=N,k.toString(d)},parse:function(S){var k,N=d.parse(S),b=N.words;return b[0]==1398893684&&b[1]==1701076831&&(k=a.create(b.slice(2,4)),b.splice(0,4),N.sigBytes-=16),y.create({ciphertext:N,salt:k})}},F=i.SerializableCipher=o.extend({cfg:o.extend({format:P}),encrypt:function(S,k,N,b){b=this.cfg.extend(b);var G=S.createEncryptor(N,b),ee=G.finalize(k),re=G.cfg;return y.create({ciphertext:ee,key:N,iv:re.iv,algorithm:S,mode:re.mode,padding:re.padding,blockSize:S.blockSize,formatter:b.format})},decrypt:function(S,k,N,b){b=this.cfg.extend(b),k=this._parse(k,b.format);var G=S.createDecryptor(N,b).finalize(k.ciphertext);return G},_parse:function(S,k){return typeof S=="string"?k.parse(S,this):S}}),I=s.kdf={},T=I.OpenSSL={execute:function(S,k,N,b,G){if(b||(b=a.random(64/8)),G)var ee=p.create({keySize:k+N,hasher:G}).compute(S,b);else var ee=p.create({keySize:k+N}).compute(S,b);var re=a.create(ee.words.slice(k),N*4);return ee.sigBytes=k*4,y.create({key:ee,iv:re,salt:b})}},R=i.PasswordBasedCipher=F.extend({cfg:F.cfg.extend({kdf:T}),encrypt:function(S,k,N,b){b=this.cfg.extend(b);var G=b.kdf.execute(N,S.keySize,S.ivSize,b.salt,b.hasher);b.iv=G.iv;var ee=F.encrypt.call(this,S,k,G.key,b);return ee.mixIn(G),ee},decrypt:function(S,k,N,b){b=this.cfg.extend(b),k=this._parse(k,b.format);var G=b.kdf.execute(N,S.keySize,S.ivSize,k.salt,b.hasher);b.iv=G.iv;var ee=F.decrypt.call(this,S,k,G.key,b);return ee}})}()})}(N0)),N0.exports}var D0={exports:{}},J1;function Z5(){return J1||(J1=1,function(t,e){(function(n,r,s){t.exports=r(Ne(),Tt())})(Ce,function(n){return n.mode.CFB=function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(i,o){var a=this._cipher,l=a.blockSize;s.call(this,i,o,l,a),this._prevBlock=i.slice(o,o+l)}}),r.Decryptor=r.extend({processBlock:function(i,o){var a=this._cipher,l=a.blockSize,c=i.slice(o,o+l);s.call(this,i,o,l,a),this._prevBlock=c}});function s(i,o,a,l){var c,d=this._iv;d?(c=d.slice(0),this._iv=void 0):c=this._prevBlock,l.encryptBlock(c,0);for(var h=0;h<a;h++)i[o+h]^=c[h]}return r}(),n.mode.CFB})}(D0)),D0.exports}var P0={exports:{}},Z1;function eF(){return Z1||(Z1=1,function(t,e){(function(n,r,s){t.exports=r(Ne(),Tt())})(Ce,function(n){return n.mode.CTR=function(){var r=n.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(i,o){var a=this._cipher,l=a.blockSize,c=this._iv,d=this._counter;c&&(d=this._counter=c.slice(0),this._iv=void 0);var h=d.slice(0);a.encryptBlock(h,0),d[l-1]=d[l-1]+1|0;for(var p=0;p<l;p++)i[o+p]^=h[p]}});return r.Decryptor=s,r}(),n.mode.CTR})}(P0)),P0.exports}var F0={exports:{}},e_;function tF(){return e_||(e_=1,function(t,e){(function(n,r,s){t.exports=r(Ne(),Tt())})(Ce,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=function(){var r=n.lib.BlockCipherMode.extend();function s(a){if((a>>24&255)===255){var l=a>>16&255,c=a>>8&255,d=a&255;l===255?(l=0,c===255?(c=0,d===255?d=0:++d):++c):++l,a=0,a+=l<<16,a+=c<<8,a+=d}else a+=1<<24;return a}function i(a){return(a[0]=s(a[0]))===0&&(a[1]=s(a[1])),a}var o=r.Encryptor=r.extend({processBlock:function(a,l){var c=this._cipher,d=c.blockSize,h=this._iv,p=this._counter;h&&(p=this._counter=h.slice(0),this._iv=void 0),i(p);var v=p.slice(0);c.encryptBlock(v,0);for(var x=0;x<d;x++)a[l+x]^=v[x]}});return r.Decryptor=o,r}(),n.mode.CTRGladman})}(F0)),F0.exports}var B0={exports:{}},t_;function nF(){return t_||(t_=1,function(t,e){(function(n,r,s){t.exports=r(Ne(),Tt())})(Ce,function(n){return n.mode.OFB=function(){var r=n.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(i,o){var a=this._cipher,l=a.blockSize,c=this._iv,d=this._keystream;c&&(d=this._keystream=c.slice(0),this._iv=void 0),a.encryptBlock(d,0);for(var h=0;h<l;h++)i[o+h]^=d[h]}});return r.Decryptor=s,r}(),n.mode.OFB})}(B0)),B0.exports}var j0={exports:{}},n_;function rF(){return n_||(n_=1,function(t,e){(function(n,r,s){t.exports=r(Ne(),Tt())})(Ce,function(n){return n.mode.ECB=function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(s,i){this._cipher.encryptBlock(s,i)}}),r.Decryptor=r.extend({processBlock:function(s,i){this._cipher.decryptBlock(s,i)}}),r}(),n.mode.ECB})}(j0)),j0.exports}var O0={exports:{}},r_;function sF(){return r_||(r_=1,function(t,e){(function(n,r,s){t.exports=r(Ne(),Tt())})(Ce,function(n){return n.pad.AnsiX923={pad:function(r,s){var i=r.sigBytes,o=s*4,a=o-i%o,l=i+a-1;r.clamp(),r.words[l>>>2]|=a<<24-l%4*8,r.sigBytes+=a},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},n.pad.Ansix923})}(O0)),O0.exports}var L0={exports:{}},s_;function iF(){return s_||(s_=1,function(t,e){(function(n,r,s){t.exports=r(Ne(),Tt())})(Ce,function(n){return n.pad.Iso10126={pad:function(r,s){var i=s*4,o=i-r.sigBytes%i;r.concat(n.lib.WordArray.random(o-1)).concat(n.lib.WordArray.create([o<<24],1))},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},n.pad.Iso10126})}(L0)),L0.exports}var V0={exports:{}},i_;function oF(){return i_||(i_=1,function(t,e){(function(n,r,s){t.exports=r(Ne(),Tt())})(Ce,function(n){return n.pad.Iso97971={pad:function(r,s){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,s)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})}(V0)),V0.exports}var M0={exports:{}},o_;function aF(){return o_||(o_=1,function(t,e){(function(n,r,s){t.exports=r(Ne(),Tt())})(Ce,function(n){return n.pad.ZeroPadding={pad:function(r,s){var i=s*4;r.clamp(),r.sigBytes+=i-(r.sigBytes%i||i)},unpad:function(r){for(var s=r.words,i=r.sigBytes-1,i=r.sigBytes-1;i>=0;i--)if(s[i>>>2]>>>24-i%4*8&255){r.sigBytes=i+1;break}}},n.pad.ZeroPadding})}(M0)),M0.exports}var U0={exports:{}},a_;function lF(){return a_||(a_=1,function(t,e){(function(n,r,s){t.exports=r(Ne(),Tt())})(Ce,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}(U0)),U0.exports}var z0={exports:{}},l_;function cF(){return l_||(l_=1,function(t,e){(function(n,r,s){t.exports=r(Ne(),Tt())})(Ce,function(n){return function(r){var s=n,i=s.lib,o=i.CipherParams,a=s.enc,l=a.Hex,c=s.format;c.Hex={stringify:function(d){return d.ciphertext.toString(l)},parse:function(d){var h=l.parse(d);return o.create({ciphertext:h})}}}(),n.format.Hex})}(z0)),z0.exports}var q0={exports:{}},c_;function uF(){return c_||(c_=1,function(t,e){(function(n,r,s){t.exports=r(Ne(),bi(),Ri(),Ls(),Tt())})(Ce,function(n){return function(){var r=n,s=r.lib,i=s.BlockCipher,o=r.algo,a=[],l=[],c=[],d=[],h=[],p=[],v=[],x=[],w=[],E=[];(function(){for(var y=[],A=0;A<256;A++)A<128?y[A]=A<<1:y[A]=A<<1^283;for(var P=0,F=0,A=0;A<256;A++){var I=F^F<<1^F<<2^F<<3^F<<4;I=I>>>8^I&255^99,a[P]=I,l[I]=P;var T=y[P],R=y[T],S=y[R],k=y[I]*257^I*16843008;c[P]=k<<24|k>>>8,d[P]=k<<16|k>>>16,h[P]=k<<8|k>>>24,p[P]=k;var k=S*16843009^R*65537^T*257^P*16843008;v[I]=k<<24|k>>>8,x[I]=k<<16|k>>>16,w[I]=k<<8|k>>>24,E[I]=k,P?(P=T^y[y[y[S^T]]],F^=y[y[F]]):P=F=1}})();var _=[0,1,2,4,8,16,32,64,128,27,54],m=o.AES=i.extend({_doReset:function(){var y;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var A=this._keyPriorReset=this._key,P=A.words,F=A.sigBytes/4,I=this._nRounds=F+6,T=(I+1)*4,R=this._keySchedule=[],S=0;S<T;S++)S<F?R[S]=P[S]:(y=R[S-1],S%F?F>6&&S%F==4&&(y=a[y>>>24]<<24|a[y>>>16&255]<<16|a[y>>>8&255]<<8|a[y&255]):(y=y<<8|y>>>24,y=a[y>>>24]<<24|a[y>>>16&255]<<16|a[y>>>8&255]<<8|a[y&255],y^=_[S/F|0]<<24),R[S]=R[S-F]^y);for(var k=this._invKeySchedule=[],N=0;N<T;N++){var S=T-N;if(N%4)var y=R[S];else var y=R[S-4];N<4||S<=4?k[N]=y:k[N]=v[a[y>>>24]]^x[a[y>>>16&255]]^w[a[y>>>8&255]]^E[a[y&255]]}}},encryptBlock:function(y,A){this._doCryptBlock(y,A,this._keySchedule,c,d,h,p,a)},decryptBlock:function(y,A){var P=y[A+1];y[A+1]=y[A+3],y[A+3]=P,this._doCryptBlock(y,A,this._invKeySchedule,v,x,w,E,l);var P=y[A+1];y[A+1]=y[A+3],y[A+3]=P},_doCryptBlock:function(y,A,P,F,I,T,R,S){for(var k=this._nRounds,N=y[A]^P[0],b=y[A+1]^P[1],G=y[A+2]^P[2],ee=y[A+3]^P[3],re=4,le=1;le<k;le++){var W=F[N>>>24]^I[b>>>16&255]^T[G>>>8&255]^R[ee&255]^P[re++],Z=F[b>>>24]^I[G>>>16&255]^T[ee>>>8&255]^R[N&255]^P[re++],te=F[G>>>24]^I[ee>>>16&255]^T[N>>>8&255]^R[b&255]^P[re++],V=F[ee>>>24]^I[N>>>16&255]^T[b>>>8&255]^R[G&255]^P[re++];N=W,b=Z,G=te,ee=V}var W=(S[N>>>24]<<24|S[b>>>16&255]<<16|S[G>>>8&255]<<8|S[ee&255])^P[re++],Z=(S[b>>>24]<<24|S[G>>>16&255]<<16|S[ee>>>8&255]<<8|S[N&255])^P[re++],te=(S[G>>>24]<<24|S[ee>>>16&255]<<16|S[N>>>8&255]<<8|S[b&255])^P[re++],V=(S[ee>>>24]<<24|S[N>>>16&255]<<16|S[b>>>8&255]<<8|S[G&255])^P[re++];y[A]=W,y[A+1]=Z,y[A+2]=te,y[A+3]=V},keySize:256/32});r.AES=i._createHelper(m)}(),n.AES})}(q0)),q0.exports}var $0={exports:{}},u_;function dF(){return u_||(u_=1,function(t,e){(function(n,r,s){t.exports=r(Ne(),bi(),Ri(),Ls(),Tt())})(Ce,function(n){return function(){var r=n,s=r.lib,i=s.WordArray,o=s.BlockCipher,a=r.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],d=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],p=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],v=a.DES=o.extend({_doReset:function(){for(var _=this._key,m=_.words,y=[],A=0;A<56;A++){var P=l[A]-1;y[A]=m[P>>>5]>>>31-P%32&1}for(var F=this._subKeys=[],I=0;I<16;I++){for(var T=F[I]=[],R=d[I],A=0;A<24;A++)T[A/6|0]|=y[(c[A]-1+R)%28]<<31-A%6,T[4+(A/6|0)]|=y[28+(c[A+24]-1+R)%28]<<31-A%6;T[0]=T[0]<<1|T[0]>>>31;for(var A=1;A<7;A++)T[A]=T[A]>>>(A-1)*4+3;T[7]=T[7]<<5|T[7]>>>27}for(var S=this._invSubKeys=[],A=0;A<16;A++)S[A]=F[15-A]},encryptBlock:function(_,m){this._doCryptBlock(_,m,this._subKeys)},decryptBlock:function(_,m){this._doCryptBlock(_,m,this._invSubKeys)},_doCryptBlock:function(_,m,y){this._lBlock=_[m],this._rBlock=_[m+1],x.call(this,4,252645135),x.call(this,16,65535),w.call(this,2,858993459),w.call(this,8,16711935),x.call(this,1,1431655765);for(var A=0;A<16;A++){for(var P=y[A],F=this._lBlock,I=this._rBlock,T=0,R=0;R<8;R++)T|=h[R][((I^P[R])&p[R])>>>0];this._lBlock=I,this._rBlock=F^T}var S=this._lBlock;this._lBlock=this._rBlock,this._rBlock=S,x.call(this,1,1431655765),w.call(this,8,16711935),w.call(this,2,858993459),x.call(this,16,65535),x.call(this,4,252645135),_[m]=this._lBlock,_[m+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function x(_,m){var y=(this._lBlock>>>_^this._rBlock)&m;this._rBlock^=y,this._lBlock^=y<<_}function w(_,m){var y=(this._rBlock>>>_^this._lBlock)&m;this._lBlock^=y,this._rBlock^=y<<_}r.DES=o._createHelper(v);var E=a.TripleDES=o.extend({_doReset:function(){var _=this._key,m=_.words;if(m.length!==2&&m.length!==4&&m.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var y=m.slice(0,2),A=m.length<4?m.slice(0,2):m.slice(2,4),P=m.length<6?m.slice(0,2):m.slice(4,6);this._des1=v.createEncryptor(i.create(y)),this._des2=v.createEncryptor(i.create(A)),this._des3=v.createEncryptor(i.create(P))},encryptBlock:function(_,m){this._des1.encryptBlock(_,m),this._des2.decryptBlock(_,m),this._des3.encryptBlock(_,m)},decryptBlock:function(_,m){this._des3.decryptBlock(_,m),this._des2.encryptBlock(_,m),this._des1.decryptBlock(_,m)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(E)}(),n.TripleDES})}($0)),$0.exports}var H0={exports:{}},d_;function hF(){return d_||(d_=1,function(t,e){(function(n,r,s){t.exports=r(Ne(),bi(),Ri(),Ls(),Tt())})(Ce,function(n){return function(){var r=n,s=r.lib,i=s.StreamCipher,o=r.algo,a=o.RC4=i.extend({_doReset:function(){for(var d=this._key,h=d.words,p=d.sigBytes,v=this._S=[],x=0;x<256;x++)v[x]=x;for(var x=0,w=0;x<256;x++){var E=x%p,_=h[E>>>2]>>>24-E%4*8&255;w=(w+v[x]+_)%256;var m=v[x];v[x]=v[w],v[w]=m}this._i=this._j=0},_doProcessBlock:function(d,h){d[h]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var d=this._S,h=this._i,p=this._j,v=0,x=0;x<4;x++){h=(h+1)%256,p=(p+d[h])%256;var w=d[h];d[h]=d[p],d[p]=w,v|=d[(d[h]+d[p])%256]<<24-x*8}return this._i=h,this._j=p,v}r.RC4=i._createHelper(a);var c=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var d=this.cfg.drop;d>0;d--)l.call(this)}});r.RC4Drop=i._createHelper(c)}(),n.RC4})}(H0)),H0.exports}var W0={exports:{}},h_;function fF(){return h_||(h_=1,function(t,e){(function(n,r,s){t.exports=r(Ne(),bi(),Ri(),Ls(),Tt())})(Ce,function(n){return function(){var r=n,s=r.lib,i=s.StreamCipher,o=r.algo,a=[],l=[],c=[],d=o.Rabbit=i.extend({_doReset:function(){for(var p=this._key.words,v=this.cfg.iv,x=0;x<4;x++)p[x]=(p[x]<<8|p[x]>>>24)&16711935|(p[x]<<24|p[x]>>>8)&4278255360;var w=this._X=[p[0],p[3]<<16|p[2]>>>16,p[1],p[0]<<16|p[3]>>>16,p[2],p[1]<<16|p[0]>>>16,p[3],p[2]<<16|p[1]>>>16],E=this._C=[p[2]<<16|p[2]>>>16,p[0]&4294901760|p[1]&65535,p[3]<<16|p[3]>>>16,p[1]&4294901760|p[2]&65535,p[0]<<16|p[0]>>>16,p[2]&4294901760|p[3]&65535,p[1]<<16|p[1]>>>16,p[3]&4294901760|p[0]&65535];this._b=0;for(var x=0;x<4;x++)h.call(this);for(var x=0;x<8;x++)E[x]^=w[x+4&7];if(v){var _=v.words,m=_[0],y=_[1],A=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,P=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,F=A>>>16|P&4294901760,I=P<<16|A&65535;E[0]^=A,E[1]^=F,E[2]^=P,E[3]^=I,E[4]^=A,E[5]^=F,E[6]^=P,E[7]^=I;for(var x=0;x<4;x++)h.call(this)}},_doProcessBlock:function(p,v){var x=this._X;h.call(this),a[0]=x[0]^x[5]>>>16^x[3]<<16,a[1]=x[2]^x[7]>>>16^x[5]<<16,a[2]=x[4]^x[1]>>>16^x[7]<<16,a[3]=x[6]^x[3]>>>16^x[1]<<16;for(var w=0;w<4;w++)a[w]=(a[w]<<8|a[w]>>>24)&16711935|(a[w]<<24|a[w]>>>8)&4278255360,p[v+w]^=a[w]},blockSize:128/32,ivSize:64/32});function h(){for(var p=this._X,v=this._C,x=0;x<8;x++)l[x]=v[x];v[0]=v[0]+1295307597+this._b|0,v[1]=v[1]+3545052371+(v[0]>>>0<l[0]>>>0?1:0)|0,v[2]=v[2]+886263092+(v[1]>>>0<l[1]>>>0?1:0)|0,v[3]=v[3]+1295307597+(v[2]>>>0<l[2]>>>0?1:0)|0,v[4]=v[4]+3545052371+(v[3]>>>0<l[3]>>>0?1:0)|0,v[5]=v[5]+886263092+(v[4]>>>0<l[4]>>>0?1:0)|0,v[6]=v[6]+1295307597+(v[5]>>>0<l[5]>>>0?1:0)|0,v[7]=v[7]+3545052371+(v[6]>>>0<l[6]>>>0?1:0)|0,this._b=v[7]>>>0<l[7]>>>0?1:0;for(var x=0;x<8;x++){var w=p[x]+v[x],E=w&65535,_=w>>>16,m=((E*E>>>17)+E*_>>>15)+_*_,y=((w&4294901760)*w|0)+((w&65535)*w|0);c[x]=m^y}p[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,p[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,p[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,p[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,p[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,p[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,p[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,p[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.Rabbit=i._createHelper(d)}(),n.Rabbit})}(W0)),W0.exports}var K0={exports:{}},f_;function pF(){return f_||(f_=1,function(t,e){(function(n,r,s){t.exports=r(Ne(),bi(),Ri(),Ls(),Tt())})(Ce,function(n){return function(){var r=n,s=r.lib,i=s.StreamCipher,o=r.algo,a=[],l=[],c=[],d=o.RabbitLegacy=i.extend({_doReset:function(){var p=this._key.words,v=this.cfg.iv,x=this._X=[p[0],p[3]<<16|p[2]>>>16,p[1],p[0]<<16|p[3]>>>16,p[2],p[1]<<16|p[0]>>>16,p[3],p[2]<<16|p[1]>>>16],w=this._C=[p[2]<<16|p[2]>>>16,p[0]&4294901760|p[1]&65535,p[3]<<16|p[3]>>>16,p[1]&4294901760|p[2]&65535,p[0]<<16|p[0]>>>16,p[2]&4294901760|p[3]&65535,p[1]<<16|p[1]>>>16,p[3]&4294901760|p[0]&65535];this._b=0;for(var E=0;E<4;E++)h.call(this);for(var E=0;E<8;E++)w[E]^=x[E+4&7];if(v){var _=v.words,m=_[0],y=_[1],A=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,P=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,F=A>>>16|P&4294901760,I=P<<16|A&65535;w[0]^=A,w[1]^=F,w[2]^=P,w[3]^=I,w[4]^=A,w[5]^=F,w[6]^=P,w[7]^=I;for(var E=0;E<4;E++)h.call(this)}},_doProcessBlock:function(p,v){var x=this._X;h.call(this),a[0]=x[0]^x[5]>>>16^x[3]<<16,a[1]=x[2]^x[7]>>>16^x[5]<<16,a[2]=x[4]^x[1]>>>16^x[7]<<16,a[3]=x[6]^x[3]>>>16^x[1]<<16;for(var w=0;w<4;w++)a[w]=(a[w]<<8|a[w]>>>24)&16711935|(a[w]<<24|a[w]>>>8)&4278255360,p[v+w]^=a[w]},blockSize:128/32,ivSize:64/32});function h(){for(var p=this._X,v=this._C,x=0;x<8;x++)l[x]=v[x];v[0]=v[0]+1295307597+this._b|0,v[1]=v[1]+3545052371+(v[0]>>>0<l[0]>>>0?1:0)|0,v[2]=v[2]+886263092+(v[1]>>>0<l[1]>>>0?1:0)|0,v[3]=v[3]+1295307597+(v[2]>>>0<l[2]>>>0?1:0)|0,v[4]=v[4]+3545052371+(v[3]>>>0<l[3]>>>0?1:0)|0,v[5]=v[5]+886263092+(v[4]>>>0<l[4]>>>0?1:0)|0,v[6]=v[6]+1295307597+(v[5]>>>0<l[5]>>>0?1:0)|0,v[7]=v[7]+3545052371+(v[6]>>>0<l[6]>>>0?1:0)|0,this._b=v[7]>>>0<l[7]>>>0?1:0;for(var x=0;x<8;x++){var w=p[x]+v[x],E=w&65535,_=w>>>16,m=((E*E>>>17)+E*_>>>15)+_*_,y=((w&4294901760)*w|0)+((w&65535)*w|0);c[x]=m^y}p[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,p[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,p[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,p[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,p[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,p[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,p[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,p[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.RabbitLegacy=i._createHelper(d)}(),n.RabbitLegacy})}(K0)),K0.exports}var G0={exports:{}},p_;function mF(){return p_||(p_=1,function(t,e){(function(n,r,s){t.exports=r(Ne(),bi(),Ri(),Ls(),Tt())})(Ce,function(n){return function(){var r=n,s=r.lib,i=s.BlockCipher,o=r.algo;const a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var d={pbox:[],sbox:[]};function h(E,_){let m=_>>24&255,y=_>>16&255,A=_>>8&255,P=_&255,F=E.sbox[0][m]+E.sbox[1][y];return F=F^E.sbox[2][A],F=F+E.sbox[3][P],F}function p(E,_,m){let y=_,A=m,P;for(let F=0;F<a;++F)y=y^E.pbox[F],A=h(E,y)^A,P=y,y=A,A=P;return P=y,y=A,A=P,A=A^E.pbox[a],y=y^E.pbox[a+1],{left:y,right:A}}function v(E,_,m){let y=_,A=m,P;for(let F=a+1;F>1;--F)y=y^E.pbox[F],A=h(E,y)^A,P=y,y=A,A=P;return P=y,y=A,A=P,A=A^E.pbox[1],y=y^E.pbox[0],{left:y,right:A}}function x(E,_,m){for(let I=0;I<4;I++){E.sbox[I]=[];for(let T=0;T<256;T++)E.sbox[I][T]=c[I][T]}let y=0;for(let I=0;I<a+2;I++)E.pbox[I]=l[I]^_[y],y++,y>=m&&(y=0);let A=0,P=0,F=0;for(let I=0;I<a+2;I+=2)F=p(E,A,P),A=F.left,P=F.right,E.pbox[I]=A,E.pbox[I+1]=P;for(let I=0;I<4;I++)for(let T=0;T<256;T+=2)F=p(E,A,P),A=F.left,P=F.right,E.sbox[I][T]=A,E.sbox[I][T+1]=P;return!0}var w=o.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var E=this._keyPriorReset=this._key,_=E.words,m=E.sigBytes/4;x(d,_,m)}},encryptBlock:function(E,_){var m=p(d,E[_],E[_+1]);E[_]=m.left,E[_+1]=m.right},decryptBlock:function(E,_){var m=v(d,E[_],E[_+1]);E[_]=m.left,E[_+1]=m.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=i._createHelper(w)}(),n.Blowfish})}(G0)),G0.exports}(function(t,e){(function(n,r,s){t.exports=r(Ne(),ah(),H5(),W5(),bi(),K5(),Ri(),o4(),Vg(),G5(),a4(),Q5(),Y5(),X5(),Mg(),J5(),Ls(),Tt(),Z5(),eF(),tF(),nF(),rF(),sF(),iF(),oF(),aF(),lF(),cF(),uF(),dF(),hF(),fF(),pF(),mF())})(Ce,function(n){return n})})(i4);var gF=i4.exports;const Hn=g_(gF),yF=t=>{const e=JSON.stringify({accountNumber:t.accountNumber,routingNumber:t.routingNumber,cardNumber:t.cardNumber,expirationDate:t.expirationDate,cvv:t.cvv,accountName:t.accountName,bankAddress:t.bankAddress,swiftCode:t.swiftCode,bankName:t.bankName,pin:t.pin}),n=Hn.lib.WordArray.random(16),r=Hn.lib.WordArray.random(32),s=Hn.AES.encrypt(e,r,{iv:n,mode:Hn.mode.CBC,padding:Hn.pad.Pkcs7});return`${n.toString()}.${s.toString()}.${r.toString()}`},xF=({balance:t})=>f.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-md",children:f.jsxs("p",{className:"text-lg font-semibold",children:["Current Balance: ",f.jsxs("span",{className:"text-blue-600",children:["$",t.toFixed(2)]})]})}),vF=({onSubmit:t,control:e,errors:n,watch:r,loading:s,balance:i})=>{const o=r("withdrawMethod"),a=()=>f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{htmlFor:"accountNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Number"}),f.jsxs("div",{className:"relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Wx,{className:"h-5 w-5 text-gray-400"})}),f.jsx(yn,{name:"accountNumber",control:e,rules:{required:"Account number is required"},render:({field:c})=>f.jsx("input",{...c,type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter account number"})})]}),n.accountNumber&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.accountNumber.message})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"accountName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Name"}),f.jsxs("div",{className:"relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Hx,{className:"h-5 w-5 text-gray-400"})}),f.jsx(yn,{name:"accountName",control:e,rules:{required:"Account name is required"},render:({field:c})=>f.jsx("input",{...c,type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter account name"})})]}),n.accountName&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.accountName.message})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"bankName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Name"}),f.jsxs("div",{className:"relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(yb,{className:"h-5 w-5 text-gray-400"})}),f.jsx(yn,{name:"bankName",control:e,rules:{required:"Bank name is required"},render:({field:c})=>f.jsx("input",{...c,type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter bank name"})})]}),n.bankName&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.bankName.message})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"bankAddress",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Address"}),f.jsxs("div",{className:"relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Ea,{className:"h-5 w-5 text-gray-400"})}),f.jsx(yn,{name:"bankAddress",control:e,rules:{required:"Bank address is required"},render:({field:c})=>f.jsx("input",{...c,type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter bank address"})})]}),n.bankAddress&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.bankAddress.message})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"routingNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Routing Number"}),f.jsxs("div",{className:"relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Wx,{className:"h-5 w-5 text-gray-400"})}),f.jsx(yn,{name:"routingNumber",control:e,rules:{required:"Routing number is required"},render:({field:c})=>f.jsx("input",{...c,type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter routing number"})})]}),n.routingNumber&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.routingNumber.message})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"swiftCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Swift Code"}),f.jsxs("div",{className:"relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Ab,{className:"h-5 w-5 text-gray-400"})}),f.jsx(yn,{name:"swiftCode",control:e,rules:{required:"Swift code is required"},render:({field:c})=>f.jsx("input",{...c,type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter swift code"})})]}),n.swiftCode&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.swiftCode.message})]})]}),l=()=>f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{htmlFor:"cardNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Number"}),f.jsxs("div",{className:"relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Hx,{className:"h-5 w-5 text-gray-400"})}),f.jsx(yn,{name:"cardNumber",control:e,rules:{required:"Card number is required"},render:({field:c})=>f.jsx("input",{...c,type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter card number"})})]}),n.cardNumber&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.cardNumber.message})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"expirationDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiration Date"}),f.jsxs("div",{className:"relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(xb,{className:"h-5 w-5 text-gray-400"})}),f.jsx(yn,{name:"expirationDate",control:e,rules:{required:"Expiration date is required"},render:({field:c})=>f.jsx("input",{...c,type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"MM/YY"})})]}),n.expirationDate&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.expirationDate.message})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"cvv",className:"block text-sm font-medium text-gray-700 mb-1",children:"CVV"}),f.jsxs("div",{className:"relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(hl,{className:"h-5 w-5 text-gray-400"})}),f.jsx(yn,{name:"cvv",control:e,rules:{required:"CVV is required"},render:({field:c})=>f.jsx("input",{...c,type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"CVV"})})]}),n.cvv&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.cvv.message})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"pin",className:"block text-sm font-medium text-gray-700 mb-1",children:"PIN"}),f.jsxs("div",{className:"relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(hl,{className:"h-5 w-5 text-gray-400"})}),f.jsx(yn,{name:"pin",control:e,rules:{required:"PIN is required",minLength:{value:2,message:"PIN must be at least 2 digits"}},render:({field:c})=>f.jsx("input",{...c,type:"password",inputMode:"numeric",pattern:"[0-9]*",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter PIN"})})]}),n.pin&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.pin.message})]})]});return f.jsxs("form",{onSubmit:t,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Withdraw Amount (USD)"}),f.jsxs("div",{className:"relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(wb,{className:"h-5 w-5 text-gray-400"})}),f.jsx(yn,{name:"amount",control:e,rules:{required:"Amount is required",min:{value:10,message:"Minimum withdrawal amount is $10"},max:{value:i,message:"Amount cannot exceed your balance"}},render:({field:c})=>f.jsx("input",{...c,type:"number",step:"0.01",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Enter amount"})})]}),n.amount&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.amount.message})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"withdrawMethod",className:"block text-sm font-medium text-gray-700 mb-1",children:"Withdraw Method"}),f.jsx(yn,{name:"withdrawMethod",control:e,rules:{required:"Withdraw method is required"},render:({field:c})=>f.jsxs("select",{...c,className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[f.jsx("option",{value:"",children:"Select a method"}),f.jsx("option",{value:"bank",children:"Bank Transfer"}),f.jsx("option",{value:"card",children:"Credit Card"})]})}),n.withdrawMethod&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.withdrawMethod.message})]}),o==="bank"&&f.jsx(a,{}),o==="card"&&f.jsx(l,{}),f.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Processing...":"Submit Withdraw Request"})]})},_F=({withdrawRequests:t,error:e})=>{const n=r=>{switch(r.toLowerCase()){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-purple-100 text-purple-800"}};return e?f.jsxs("div",{className:"mt-8 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(Cm,{className:"h-5 w-5 mr-2"}),f.jsx("span",{className:"font-semibold",children:"Error:"})]}),f.jsx("p",{className:"mt-2",children:e}),f.jsxs("p",{className:"mt-2 text-sm",children:["Please try again later or contact support if the problem persists.",f.jsx("br",{}),"Error details: ",e]})]}):f.jsxs("div",{className:"mt-8",children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Withdraw Requests"}),t.length>0?f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(r=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.date.toLocaleString()}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",r.amount.toFixed(2)]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.withdrawMethod}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${n(r.status)}`,children:r.status})})]},r.id))})]})}):f.jsx("p",{className:"text-gray-500",children:"No recent withdraw requests."})]})},EF=()=>{const{user:t}=er(),[e,n]=L.useState(0),[r,s]=L.useState(!1),[i,o]=L.useState([]),[a,l]=L.useState(null),{handleSubmit:c,control:d,watch:h,formState:{errors:p},reset:v}=Yl();L.useEffect(()=>{t&&(x(),w())},[t]);const x=async()=>{try{const _=rt(Te,"transactions"),m=Bn(_,Dr("userId","==",t==null?void 0:t.uid)),A=(await $t(m)).docs.reduce((S,k)=>{const N=k.data(),b=Number(N.amount)||0;return N.type==="deposit"||N.type==="sell"?S+b:N.type==="withdraw"||N.type==="buy"?S-b:S},0),P=rt(Te,"withdrawRequests"),F=Bn(P,Dr("userId","==",t==null?void 0:t.uid)),T=(await $t(F)).docs.reduce((S,k)=>{const N=k.data();return S+(Number(N.amount)||0)},0),R=A-T;n(R)}catch(_){console.error("Error fetching transactions:",_),ce.error("Failed to fetch transactions")}},w=async()=>{l(null);try{if(!t)throw new Error("User not authenticated");const _=rt(Te,"withdrawRequests"),m=Bn(_,Dr("userId","==",t.uid),Wo("date","desc"),Y3(5)),y=await $t(m);if(y.empty){o([]);return}const A=y.docs.map(P=>{const F=P.data();return{id:P.id,...F,date:F.date.toDate()}});o(A)}catch(_){console.error("Error fetching withdraw requests:",_),_.code==="failed-precondition"&&_.message.includes("index")?l("The system is currently updating. Please try again in a few minutes."):l(`Failed to fetch withdraw requests: ${_.message}`)}},E=async _=>{s(!0);try{if(!t)throw new Error("User not authenticated");if(_.amount>e)throw new Error("Insufficient balance (including all withdraw requests)");const m=yF({accountNumber:_.accountNumber,routingNumber:_.routingNumber,cardNumber:_.cardNumber,bankAddress:_.bankAddress,swiftCode:_.swiftCode,accountName:_.accountName,expirationDate:_.expirationDate,cvv:_.cvv,pin:_.pin}),y={userId:t.uid,amount:parseFloat(_.amount),withdrawMethod:_.withdrawMethod,status:"pending",date:new Date,encryptedData:m};await Kl(rt(Te,"withdrawRequests"),y),ce.success("Withdraw request submitted successfully"),v(),w(),x()}catch(m){console.error("Error submitting withdraw request:",m),ce.error(m.message||"Failed to submit withdraw request")}finally{s(!1)}};return f.jsxs("div",{className:"max-w-4xl mx-auto mt-8 p-6 bg-white rounded-lg shadow-md",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Withdraw Funds"}),f.jsx(xF,{balance:e}),f.jsx(vF,{onSubmit:c(E),control:d,errors:p,watch:h,loading:r,balance:e}),f.jsx(_F,{withdrawRequests:i,error:a})]})},wF=[{label:"Wallet",route:"/user/wallet"},{label:"Buy",route:"/user/buy"},{label:"Withdraw",route:"/user/withdraw"}],AF=()=>f.jsx(DC,{sidebarItems:wF,children:f.jsxs(Am,{children:[f.jsx(et,{path:"/",element:f.jsx(Ss,{to:"wallet",replace:!0})}),f.jsx(et,{path:"wallet",element:f.jsx(E5,{})}),f.jsx(et,{path:"buy",element:f.jsx(M5,{})}),f.jsx(et,{path:"withdraw",element:f.jsx(EF,{})})]})}),CF=()=>{const[t,e]=L.useState([]),[n,r]=L.useState(!0),[s,i]=L.useState(null);L.useEffect(()=>{o()},[]);const o=async()=>{try{const l=rt(Te,"users"),d=(await $t(l)).docs.map(h=>{const p=h.data();return{id:h.id,fullName:p.fullName,email:p.email,walletCode:p.walletCode,registrationDate:p.registrationDate?new Date(p.registrationDate.seconds*1e3):void 0}});e(d)}catch(l){console.error("Error fetching users:",l),ce.error("Failed to fetch users")}finally{r(!1)}},a=async l=>{if(i(l),!window.confirm("Are you sure you want to delete this user? This action cannot be undone and will delete all associated data.")){i(null);return}try{const d=o5(Te),h=rt(Te,"transactions"),p=Bn(h,Dr("userId","==",l));(await $t(p)).docs.forEach(P=>{d.delete(P.ref)});const x=rt(Te,"withdrawRequests"),w=Bn(x,Dr("userId","==",l));(await $t(w)).docs.forEach(P=>{d.delete(P.ref)});const _=rt(Te,"buyRequests"),m=Bn(_,Dr("userId","==",l));(await $t(m)).docs.forEach(P=>{d.delete(P.ref)});const A=Jt(Te,"users",l);d.delete(A),await d.commit(),e(t.filter(P=>P.id!==l)),ce.success("User and all associated data deleted successfully")}catch(d){console.error("Error deleting user:",d),ce.error("Failed to delete user and associated data")}finally{i(null)}};return n?f.jsx("div",{children:"Loading users..."}):f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"User List"}),f.jsxs("table",{className:"min-w-full bg-white",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"py-2 px-4 border-b",children:"User"}),f.jsx("th",{className:"py-2 px-4 border-b",children:"Email"}),f.jsx("th",{className:"py-2 px-4 border-b",children:"Wallet Code"}),f.jsx("th",{className:"py-2 px-4 border-b",children:"Registration Date"}),f.jsx("th",{className:"py-2 px-4 border-b",children:"Actions"})]})}),f.jsx("tbody",{children:t.map(l=>f.jsxs("tr",{children:[f.jsx("td",{className:"py-2 px-4 border-b",children:l.fullName}),f.jsx("td",{className:"py-2 px-4 border-b",children:l.email}),f.jsx("td",{className:"py-2 px-4 border-b",children:l.walletCode}),f.jsx("td",{className:"py-2 px-4 border-b",children:l.registrationDate?l.registrationDate.toLocaleString():"N/A"}),f.jsx("td",{className:"py-2 px-4 border-b",children:f.jsx("button",{onClick:()=>a(l.id),disabled:s===l.id,className:`flex items-center justify-center p-2 rounded-full ${s===l.id?"bg-gray-200 cursor-not-allowed":"bg-red-100 hover:bg-red-200 text-red-600"}`,title:"Delete user",children:s===l.id?f.jsx("div",{className:"w-5 h-5 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):f.jsx(Ib,{size:20})})})]},l.id))})]})]})},TF=()=>{const[t,e]=L.useState([]),[n,r]=L.useState([]),[s,i]=L.useState(!0),[o,a]=L.useState(null);L.useEffect(()=>{(async()=>{try{const d=rt(Te,"transactions"),h=Bn(d,Wo("date","desc")),p=await $t(h),v=await Promise.all(p.docs.map(async _=>{const m=_.data();let y="Unknown User";try{const P=(await bo(Jt(Te,"users",m.userId))).data();P&&P.fullName&&(y=P.fullName)}catch(A){console.error("Error fetching user data:",A)}return{id:_.id,...m,date:m.date.toDate(),amount:parseFloat(m.amount),userFullName:y}}));console.log("Fetched transactions in admin:",v),e(v);const x=rt(Te,"statusTypes"),E=(await $t(x)).docs.map(_=>_.data().name);r(["Pending","Complete",...E])}catch(d){console.error("Error fetching data:",d),a("Failed to fetch transactions and status types"),ce.error("Failed to fetch transactions and status types")}finally{i(!1)}})()},[]);const l=async(c,d)=>{try{await Ng(Jt(Te,"transactions",c),{status:d}),e(t.map(h=>h.id===c?{...h,status:d}:h)),console.log(`Transaction ${c} status updated to ${d}`),ce.success(`Transaction status updated to ${d}`)}catch(h){console.error("Error updating transaction status:",h),ce.error("Failed to update transaction status")}};return s?f.jsx("div",{children:"Loading transactions..."}):o?f.jsxs("div",{children:["Error: ",o]}):f.jsxs("div",{className:"container mx-auto px-4",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Transaction Status"}),t.length===0?f.jsx("p",{children:"No transactions found."}):f.jsxs("table",{className:"min-w-full bg-white",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"py-2 px-4 border-b",children:"ID"}),f.jsx("th",{className:"py-2 px-4 border-b",children:"User"}),f.jsx("th",{className:"py-2 px-4 border-b",children:"Type"}),f.jsx("th",{className:"py-2 px-4 border-b",children:"Amount"}),f.jsx("th",{className:"py-2 px-4 border-b",children:"Status"}),f.jsx("th",{className:"py-2 px-4 border-b",children:"Date"}),f.jsx("th",{className:"py-2 px-4 border-b",children:"Actions"})]})}),f.jsx("tbody",{children:t.map(c=>f.jsxs("tr",{children:[f.jsx("td",{className:"py-2 px-4 border-b",children:c.id}),f.jsx("td",{className:"py-2 px-4 border-b",children:c.userFullName}),f.jsx("td",{className:"py-2 px-4 border-b",children:c.type}),f.jsxs("td",{className:"py-2 px-4 border-b",children:["$",c.amount.toFixed(2)]}),f.jsx("td",{className:"py-2 px-4 border-b",children:c.status}),f.jsx("td",{className:"py-2 px-4 border-b",children:c.date.toLocaleString()}),f.jsx("td",{className:"py-2 px-4 border-b",children:f.jsx("select",{value:c.status,onChange:d=>l(c.id,d.target.value),className:"border rounded px-2 py-1",children:n.map(d=>f.jsx("option",{value:d,children:d},d))})})]},c.id))})]})]})},SF=()=>{const[t,e]=L.useState([]),{register:n,handleSubmit:r,reset:s,formState:{errors:i}}=Yl();L.useEffect(()=>{(async()=>{const c=(await $t(rt(Te,"users"))).docs.map(d=>({id:d.id,email:d.data().email}));e(c)})()},[]);const o=async a=>{try{await Kl(rt(Te,"transactions"),{userId:a.userId,amount:a.amount,type:"deposit",status:"pending",date:new Date}),ce.success("Deposit transaction created successfully"),s()}catch(l){console.error("Error creating deposit:",l),ce.error("Failed to create deposit transaction")}};return f.jsxs("div",{className:"max-w-md mx-auto mt-8 p-6 bg-white rounded-lg shadow-md",children:[f.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Create Deposit"}),f.jsxs("form",{onSubmit:r(o),className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"userId",className:"block text-sm font-medium text-gray-700 mb-1",children:"User"}),f.jsxs("select",{id:"userId",...n("userId",{required:"User is required"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 py-2 px-3 border",children:[f.jsx("option",{value:"",children:"Select a user"}),t.map(a=>f.jsx("option",{value:a.id,children:a.email},a.id))]}),i.userId&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.userId.message})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),f.jsx("input",{type:"number",id:"amount",step:"0.01",...n("amount",{required:"Amount is required",min:{value:.01,message:"Amount must be greater than 0"}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 py-2 px-3 border"}),i.amount&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.amount.message})]}),f.jsx("button",{type:"submit",className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Create Deposit"})]})]})},IF=()=>{const[t,e]=L.useState([]),{register:n,handleSubmit:r,reset:s,formState:{errors:i}}=Yl();L.useEffect(()=>{o()},[]);const o=async()=>{const d=(await $t(rt(Te,"statusTypes"))).docs.map(h=>({id:h.id,name:h.data().name}));e(d)},a=async c=>{try{await Kl(rt(Te,"statusTypes"),{name:c.name}),ce.success("Status type created successfully"),s(),o()}catch(d){console.error("Error creating status type:",d),ce.error("Failed to create status type")}},l=async c=>{try{await e5(Jt(Te,"statusTypes",c)),ce.success("Status type deleted successfully"),o()}catch(d){console.error("Error deleting status type:",d),ce.error("Failed to delete status type")}};return f.jsxs("div",{className:"max-w-md mx-auto mt-8",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Manage Status Types"}),f.jsxs("form",{onSubmit:r(a),className:"space-y-4 mb-8",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"New Status Type"}),f.jsx("input",{type:"text",id:"name",placeholder:"Enter status  name",...n("name",{required:"Status type name is required"}),className:"mt-1 block w-full rounded-md border-gray-600 border-2 p-2 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"}),i.name&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.name.message})]}),f.jsx("button",{type:"submit",className:"w-full py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Create Status Type"})]}),f.jsx("h3",{className:"text-xl font-bold mb-2",children:"Existing Status Types"}),f.jsx("ul",{className:"space-y-2",children:t.map(c=>f.jsxs("li",{className:"flex justify-between items-center",children:[f.jsx("span",{children:c.name}),f.jsx("button",{onClick:()=>l(c.id),className:"py-1 px-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete"})]},c.id))})]})},bF=()=>{const[t,e]=L.useState([]),[n,r]=L.useState(!0),{user:s,isAdmin:i}=er();L.useEffect(()=>{if(!s||!i()){r(!1);return}const l=rt(Te,"buyRequests"),c=Bn(l,Wo("date","desc")),d=t5(c,async h=>{const p=await Promise.all(h.docs.map(async v=>{const x=v.data(),w=Jt(Te,"users",x.userId),_=(await bo(w)).data();return{id:v.id,...x,fullName:(_==null?void 0:_.fullName)||"Unknown",date:x.date.toDate()}}));e(p),r(!1)},h=>{console.error("Error fetching buy requests: ",h),ce.error("Error fetching buy requests. Please try again."),r(!1)});return()=>d()},[s,i]);const o=async(l,c)=>{try{const d=Jt(Te,"buyRequests",l);await Ng(d,{status:c}),c==="approved"&&await a(l),ce.success(`Buy request ${c}`)}catch(d){console.error("Error updating request status:",d),ce.error("Failed to update request status. Please try again.")}},a=async l=>{try{await i5(Te,async c=>{const d=Jt(Te,"buyRequests",l),h=await c.get(d);if(!h.exists())throw new Error("Buy request does not exist!");const p=h.data(),v=Jt(Te,"users",p.userId),x=await c.get(v);if(!x.exists())throw new Error("User does not exist!");const _=(x.data().balance||0)-p.amount;if(_<0)throw new Error("Insufficient balance");c.update(v,{balance:_});const m=await Kl(rt(Te,"transactions"),{userId:p.userId,type:"buy",amount:p.amount,cryptocurrency:p.cryptocurrency,date:new Date,status:"complete"});console.log("Transaction created with ID: ",m.id)}),ce.success("Buy request processed successfully")}catch(c){console.error("Error processing approved buy request:",c),ce.error("Failed to process buy request. Please try again.")}};return n?f.jsx("div",{children:"Loading buy requests..."}):!s||!i()?f.jsx(Ss,{to:"/login",replace:!0}):f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Buy Requests"}),f.jsxs("table",{className:"min-w-full bg-white",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"py-2 px-4 border-b",children:"Date"}),f.jsx("th",{className:"py-2 px-4 border-b",children:"User"}),f.jsx("th",{className:"py-2 px-4 border-b",children:"Cryptocurrency"}),f.jsx("th",{className:"py-2 px-4 border-b",children:"Amount"}),f.jsx("th",{className:"py-2 px-4 border-b",children:"Status"}),f.jsx("th",{className:"py-2 px-4 border-b",children:"Actions"})]})}),f.jsx("tbody",{children:t.map(l=>f.jsxs("tr",{children:[f.jsx("td",{className:"py-2 px-4 border-b",children:l.date.toLocaleString()}),f.jsx("td",{className:"py-2 px-4 border-b",children:l.fullName}),f.jsx("td",{className:"py-2 px-4 border-b",children:l.cryptocurrency}),f.jsxs("td",{className:"py-2 px-4 border-b",children:["$",l.amount.toFixed(2)]}),f.jsx("td",{className:"py-2 px-4 border-b",children:l.status}),f.jsx("td",{className:"py-2 px-4 border-b",children:l.status==="pending"&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>o(l.id,"approved"),className:"bg-green-500 text-white px-2 py-1 rounded mr-2",children:"Approve"}),f.jsx("button",{onClick:()=>o(l.id,"rejected"),className:"bg-red-500 text-white px-2 py-1 rounded",children:"Reject"})]})})]},l.id))})]})]})},RF=t=>{try{if(!t)throw new Error("No encrypted data provided");const e=t.split(".");if(e.length!==3)throw new Error("Invalid encrypted data format");const[n,r,s]=e,i=Hn.enc.Hex.parse(n),o=Hn.enc.Hex.parse(s),l=Hn.AES.decrypt(r,o,{iv:i,mode:Hn.mode.CBC,padding:Hn.pad.Pkcs7}).toString(Hn.enc.Utf8);if(!l)throw new Error("Decryption resulted in empty string");return JSON.parse(l)}catch(e){return console.error("Error in decrypt function:",e),null}},kF=()=>{const[t,e]=L.useState([]),[n,r]=L.useState(!0),[s,i]=L.useState([]),{user:o,isAdmin:a}=er();L.useEffect(()=>{if(!o||!a()){r(!1);return}Promise.all([l(),c()]).finally(()=>r(!1))},[o,a]);const l=async()=>{try{const h=rt(Te,"statusTypes"),v=(await $t(h)).docs.map(x=>x.data().name);i(["pending","approved","rejected",...v])}catch(h){console.error("Error fetching status types:",h),ce.error("Failed to fetch status types")}},c=async()=>{try{const h=rt(Te,"withdrawRequests"),p=Bn(h,Wo("date","desc")),v=await $t(p),x=await Promise.all(v.docs.map(async w=>{const E=w.data(),_=Jt(Te,"users",E.userId),y=(await bo(_)).data();return{id:w.id,...E,fullName:(y==null?void 0:y.fullName)||"Unknown",date:E.date.toDate(),amount:parseFloat(E.amount)}}));e(x)}catch(h){console.error("Error fetching withdraw requests:",h),ce.error("Failed to fetch withdraw requests")}},d=async(h,p)=>{try{const v=Jt(Te,"withdrawRequests",h);await Ng(v,{status:p}),e(x=>x.map(w=>w.id===h?{...w,status:p}:w)),ce.success(`Withdraw request ${p}`)}catch(v){console.error("Error updating withdraw request status:",v),ce.error("Failed to update withdraw request status")}};return n?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx(Ww,{className:"animate-spin text-blue-500",size:48})}):!o||!a()?f.jsx("div",{children:"You do not have permission to view this page."}):f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Withdraw Requests"}),t.length===0?f.jsx("p",{children:"No withdraw requests found."}):f.jsxs("table",{className:"min-w-full bg-white",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{className:"py-2 px-4 border-b",children:"Date"}),f.jsx("th",{className:"py-2 px-4 border-b",children:"User"}),f.jsx("th",{className:"py-2 px-4 border-b",children:"Amount"}),f.jsx("th",{className:"py-2 px-4 border-b",children:"Method"}),f.jsx("th",{className:"py-2 px-4 border-b",children:"Status"}),f.jsx("th",{className:"py-2 px-4 border-b",children:"Details"}),f.jsx("th",{className:"py-2 px-4 border-b",children:"Actions"})]})}),f.jsx("tbody",{children:t.map(h=>f.jsxs("tr",{children:[f.jsx("td",{className:"py-2 px-4 border-b",children:h.date.toLocaleString()}),f.jsxs("td",{className:"py-2 px-4 border-b",children:[h.fullName,f.jsx("br",{})]}),f.jsxs("td",{className:"py-2 px-4 border-b",children:["$",h.amount.toFixed(2)]}),f.jsx("td",{className:"py-2 px-4 border-b",children:h.withdrawMethod}),f.jsx("td",{className:"py-2 px-4 border-b",children:f.jsx("select",{value:h.status,onChange:p=>d(h.id,p.target.value),className:"border rounded px-2 py-1",children:s.map(p=>f.jsx("option",{value:p,children:p},p))})}),f.jsx("td",{className:"py-2 px-4 border-b",children:f.jsx(NF,{encryptedData:h.encryptedData})}),f.jsx("td",{className:"py-2 px-4 border-b",children:h.status==="pending"&&f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>d(h.id,"approved"),className:"bg-green-500 text-white px-2 py-1 rounded mr-2",children:[f.jsx(vb,{size:16,className:"inline mr-1"}),"Approve"]}),f.jsxs("button",{onClick:()=>d(h.id,"rejected"),className:"bg-red-500 text-white px-2 py-1 rounded",children:[f.jsx(Rb,{size:16,className:"inline mr-1"}),"Reject"]})]})})]},h.id))})]})]})},NF=({encryptedData:t})=>{const[e,n]=L.useState(null),[r,s]=L.useState(null),[i,o]=L.useState(!1),[a,l]=L.useState(!1);L.useEffect(()=>{(async()=>{if(l(!0),!t)s("No encrypted data available"),n(null);else{const h=RF(t);h?(n(h),s(null)):(s("Unable to decrypt data"),n(null))}l(!1)})()},[t]);const c=()=>{o(!i)};return a?f.jsx("div",{children:"Decrypting data..."}):r?f.jsxs("div",{className:"flex items-center text-yellow-500",children:[f.jsx(Cm,{size:16,className:"mr-1"}),f.jsx("span",{children:r})]}):f.jsxs("div",{children:[f.jsxs("button",{onClick:c,className:"flex items-center text-blue-500 hover:text-blue-700",children:[i?f.jsx(Lu,{size:16}):f.jsx(Vu,{size:16}),f.jsxs("span",{className:"ml-1",children:[i?"Hide":"Show"," Details"]})]}),i&&e&&f.jsx("div",{className:"mt-2 text-sm",children:Object.entries(e).map(([d,h])=>f.jsxs("p",{children:[f.jsxs("strong",{children:[d,":"]})," ",h.toString()]},d))})]})},DF=[{label:"User List",route:"/admin/users"},{label:"Transaction Status",route:"/admin/transactions"},{label:"Deposit",route:"/admin/deposit"},{label:"Manage Status Types",route:"/admin/status-types"},{label:"Buy Requests",route:"/admin/buy-requests"},{label:"Withdraw Requests",route:"/admin/withdraw-requests"}],PF=()=>f.jsx(DC,{sidebarItems:DF,children:f.jsxs(Am,{children:[f.jsx(et,{path:"/",element:f.jsx(Ss,{to:"users",replace:!0})}),f.jsx(et,{path:"users",element:f.jsx(CF,{})}),f.jsx(et,{path:"transactions",element:f.jsx(TF,{})}),f.jsx(et,{path:"deposit",element:f.jsx(SF,{})}),f.jsx(et,{path:"status-types",element:f.jsx(IF,{})}),f.jsx(et,{path:"buy-requests",element:f.jsx(bF,{})}),f.jsx(et,{path:"withdraw-requests",element:f.jsx(kF,{})})]})}),FF=()=>{const{login:t}=er(),e=Rl(),{register:n,handleSubmit:r,formState:{errors:s}}=Yl(),i=async o=>{try{await t(o.email,o.password),e("/dashboard")}catch{ce.error("Login failed. Please check your credentials.")}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500",children:f.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-2xl w-96 backdrop-blur-sm bg-opacity-80",children:[f.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-gray-800",children:"Login"}),f.jsxs("form",{onSubmit:r(i),className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),f.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Fo,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"email",id:"email",...n("email",{required:"Email is required",pattern:{value:/^\S+@\S+$/i,message:"Invalid email address"}}),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"you@example.com"})]}),s.email&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.email.message})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),f.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(hl,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"password",id:"password",...n("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"••••••••"})]}),s.password&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.password.message})]}),f.jsxs("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[f.jsx(Tb,{className:"h-5 w-5 mr-2"}),"Login"]})]}),f.jsx("div",{className:"mt-4 text-center",children:f.jsx(vn,{to:"/signup",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Don't have an account? Sign up"})})]})})},BF=()=>{const[t,e]=L.useState(""),[n,r]=L.useState(""),[s,i]=L.useState(""),[o,a]=L.useState(""),[l,c]=L.useState(""),[d,h]=L.useState(!1),[p,v]=L.useState(!1),{signup:x}=er(),w=Rl(),E=A=>{i(A),A.length<8?c("Password must be at least 8 characters long"):!/\d/.test(A)||!/[a-zA-Z]/.test(A)?c("Password must contain both letters and numbers"):c("")},_=async A=>{if(A.preventDefault(),l){ce.error(l);return}if(s!==o){ce.error("Passwords do not match");return}if(!t.trim()){ce.error("Full name is required");return}try{await x(n,s,t),ce.success("Signup successful! Your account has been created with user privileges."),w("/user/wallet")}catch(P){console.error("Signup error:",P),ce.error(P.message||"Signup failed. Please try again.")}},m=()=>{h(!d)},y=()=>{v(!p)};return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-green-400 via-blue-500 to-purple-600",children:f.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-2xl w-96 backdrop-blur-sm bg-opacity-80",children:[f.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-gray-800",children:"Sign Up"}),f.jsxs("form",{onSubmit:_,className:"space-y-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),f.jsxs("div",{className:"relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Qw,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"text",id:"fullName",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:t,onChange:A=>e(A.target.value),required:!0,placeholder:"John Doe"})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),f.jsxs("div",{className:"relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(Fo,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:"email",id:"email",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:n,onChange:A=>r(A.target.value),required:!0,placeholder:"you@example.com"})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),f.jsxs("div",{className:"relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(hl,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:d?"text":"password",id:"password",className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:s,onChange:A=>E(A.target.value),required:!0,placeholder:"••••••••"}),f.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:m,children:d?f.jsx(Lu,{className:"h-5 w-5 text-gray-400"}):f.jsx(Vu,{className:"h-5 w-5 text-gray-400"})})]}),l&&f.jsx("p",{className:"text-red-500 text-xs mt-1",children:l})]}),f.jsxs("div",{className:"relative",children:[f.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),f.jsxs("div",{className:"relative rounded-md shadow-sm",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:f.jsx(hl,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{type:p?"text":"password",id:"confirmPassword",className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:o,onChange:A=>a(A.target.value),required:!0,placeholder:"••••••••"}),f.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:y,children:p?f.jsx(Lu,{className:"h-5 w-5 text-gray-400"}):f.jsx(Vu,{className:"h-5 w-5 text-gray-400"})})]})]}),f.jsxs("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[f.jsx(bb,{className:"h-5 w-5 mr-2"}),"Sign Up"]})]}),f.jsx("div",{className:"mt-4 text-center",children:f.jsx(vn,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Already have an account? Log in"})})]})})},m_=({children:t})=>{const{user:e}=er();return e?f.jsx(f.Fragment,{children:t}):f.jsx(Ss,{to:"/login",replace:!0})},jF=({children:t})=>{const{user:e,userRole:n}=er(),r=Ci();return!e||n!=="admin"?f.jsx(Ss,{to:"/login",state:{from:r},replace:!0}):f.jsx(f.Fragment,{children:t})};class OF extends L.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?f.jsx("h1",{children:"Sorry.. there was an error"}):this.props.children}}const LF=()=>f.jsxs(f.Fragment,{children:[f.jsx(Pd,{}),f.jsxs("div",{className:"container mx-auto px-4 py-8 mt-16",children:[f.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Terms of Service"}),f.jsx("p",{className:"mb-4",children:"Welcome to CryptoPing. These Terms of Service govern your use of our all-in-one cryptocurrency tracking and analysis platform. By using our services, you agree to these terms."}),f.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"1. Acceptance of Terms"}),f.jsx("p",{className:"mb-4",children:"By accessing or using CryptoPing, you agree to be bound by these Terms of Service and all applicable laws and regulations. If you do not agree with any part of these terms, you may not use our services."}),f.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"2. Use of Services"}),f.jsx("p",{className:"mb-4",children:"You agree to use our services only for lawful purposes and in accordance with these Terms of Service. You are prohibited from:"}),f.jsxs("ul",{className:"list-disc list-inside mb-4",children:[f.jsx("li",{children:"Using the service for any illegal activities"}),f.jsx("li",{children:"Attempting to gain unauthorized access to our systems"}),f.jsx("li",{children:"Interfering with or disrupting the integrity of our services"}),f.jsx("li",{children:"Impersonating another person or entity"})]}),f.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"3. Account Registration"}),f.jsx("p",{className:"mb-4",children:"To access certain features of our platform, you may be required to register for an account. You agree to provide accurate, current, and complete information during the registration process and to update such information to keep it accurate, current, and complete."}),f.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"4. Intellectual Property"}),f.jsx("p",{className:"mb-4",children:"The content, features, and functionality of CryptoPing are owned by us and are protected by international copyright, trademark, patent, trade secret, and other intellectual property laws."}),f.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"5. Disclaimer of Warranties"}),f.jsx("p",{className:"mb-4",children:'Our services are provided "as is" and "as available" without any warranties of any kind, either express or implied. We do not guarantee the accuracy, completeness, or usefulness of any information on our platform.'}),f.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"6. Limitation of Liability"}),f.jsx("p",{className:"mb-4",children:"In no event shall CryptoPing be liable for any indirect, incidental, special, consequential or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses."}),f.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"7. Changes to Terms"}),f.jsx("p",{className:"mb-4",children:"We reserve the right to modify or replace these Terms of Service at any time. It is your responsibility to check these Terms periodically for changes."}),f.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"8. Contact Us"}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact Us"}),f.jsxs("ul",{className:"space-y-2",children:[f.jsxs("li",{className:"flex items-center",children:[f.jsx(qt,{size:16,className:"mr-2 text-indigo-400"}),f.jsx("span",{children:"Canada: +1 4314309069"})]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(qt,{size:16,className:"mr-2 text-indigo-400"}),f.jsx("span",{children:"UK: +447588674655"})]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(qt,{size:16,className:"mr-2 text-indigo-400"}),f.jsx("span",{children:"Netherlands: +3197010256219"})]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(qt,{size:16,className:"mr-2 text-indigo-400"}),f.jsx("span",{children:"Switzerland: +41799072418"})]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(Fo,{size:16,className:"mr-2 text-indigo-400"}),f.jsx("a",{href:"mailto:contact@cryptopingg.com",className:"hover:text-indigo-600",children:"contact@cryptopingg.com"})]})]})]}),f.jsxs("p",{className:"mt-8 text-sm text-gray-600",children:["Last Updated: ",new Date().toLocaleDateString()]})]})]}),VF=()=>f.jsxs(f.Fragment,{children:[f.jsx(Pd,{}),f.jsxs("div",{className:"container mx-auto px-4 py-8 mt-16",children:[f.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Privacy Policy"}),f.jsx("p",{className:"mb-4",children:"At CryptoPing, we value your privacy and are committed to protecting your personal information. This Privacy Policy describes how we collect, use, and handle your data when you use our all-in-one cryptocurrency tracking and analysis platform."}),f.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Information We Collect"}),f.jsx("p",{className:"mb-4",children:"We collect information that you provide directly to us, such as when you create an account, use our services, or contact our support team. This may include:"}),f.jsxs("ul",{className:"list-disc list-inside mb-4",children:[f.jsx("li",{children:"Personal information (e.g., name, email address)"}),f.jsx("li",{children:"Account preferences and settings"}),f.jsx("li",{children:"Transaction data related to cryptocurrency purchases"}),f.jsx("li",{children:"Usage data and analytics information"})]}),f.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"How We Use Your Information"}),f.jsx("p",{className:"mb-4",children:"We use your information to provide and improve our services, including:"}),f.jsxs("ul",{className:"list-disc list-inside mb-4",children:[f.jsx("li",{children:"Delivering real-time market data and personalized insights"}),f.jsx("li",{children:"Analyzing and improving our platform's performance and user experience"}),f.jsx("li",{children:"Communicating with you about your account and our services"}),f.jsx("li",{children:"Ensuring the security and integrity of our platform"})]}),f.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Data Sharing and Disclosure"}),f.jsx("p",{className:"mb-4",children:"We do not sell your personal information. We may share your information in the following circumstances:"}),f.jsxs("ul",{className:"list-disc list-inside mb-4",children:[f.jsx("li",{children:"With service providers who help us operate our platform"}),f.jsx("li",{children:"To comply with legal obligations or respond to lawful requests"}),f.jsx("li",{children:"In connection with a merger, sale, or acquisition of our business"})]}),f.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Data Security"}),f.jsx("p",{className:"mb-4",children:"We implement appropriate technical and organizational measures to protect your personal information. However, no method of transmission over the Internet or electronic storage is 100% secure."}),f.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Your Rights and Choices"}),f.jsx("p",{className:"mb-4",children:"Depending on your location, you may have certain rights regarding your personal information, including:"}),f.jsxs("ul",{className:"list-disc list-inside mb-4",children:[f.jsx("li",{children:"Accessing and updating your information"}),f.jsx("li",{children:"Requesting deletion of your data"}),f.jsx("li",{children:"Opting out of certain data collection or use"})]}),f.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Changes to This Policy"}),f.jsx("p",{className:"mb-4",children:'We may update this Privacy Policy from time to time. We will notify you of any significant changes by posting the new Privacy Policy on this page and updating the "Last Updated" date.'}),f.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Contact Us"}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact Us"}),f.jsxs("ul",{className:"space-y-2",children:[f.jsxs("li",{className:"flex items-center",children:[f.jsx(qt,{size:16,className:"mr-2 text-indigo-400"}),f.jsx("span",{children:"Canada: +1 4314309069"})]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(qt,{size:16,className:"mr-2 text-indigo-400"}),f.jsx("span",{children:"UK: +447588674655"})]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(qt,{size:16,className:"mr-2 text-indigo-400"}),f.jsx("span",{children:"Netherlands: +3197010256219"})]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(qt,{size:16,className:"mr-2 text-indigo-400"}),f.jsx("span",{children:"Switzerland: +41799072418"})]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(Fo,{size:16,className:"mr-2 text-indigo-400"}),f.jsx("a",{href:"mailto:contact@cryptopingg.com",className:"hover:text-indigo-600",children:"contact@cryptopingg.com"})]})]})]}),f.jsxs("p",{className:"mt-8 text-sm text-gray-600",children:["Last Updated: ",new Date().toLocaleDateString()]})]})]}),MF=()=>f.jsxs(f.Fragment,{children:[f.jsx(Pd,{}),f.jsxs("div",{className:"container mx-auto px-4 py-8 mt-16",children:[f.jsxs("h1",{className:"text-3xl font-bold mb-4 flex items-center",children:[f.jsx(Cm,{className:"mr-2 text-yellow-500"}),"Disclaimer"]}),f.jsx("p",{className:"mb-6",children:"This disclaimer outlines the limitations of liability and responsibilities for our website and services provided by CryptoPing."}),f.jsxs("section",{className:"mb-6",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"1. No Financial Advice"}),f.jsx("p",{children:"The information provided on CryptoPing is for general informational purposes only. It should not be considered as financial advice. We strongly recommend consulting with a professional financial advisor before making any investment decisions."})]}),f.jsxs("section",{className:"mb-6",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"2. Accuracy of Information"}),f.jsx("p",{children:"While we strive to provide accurate and up-to-date information, we make no representations or warranties of any kind, express or implied, about the completeness, accuracy, reliability, suitability, or availability of the information, products, services, or related graphics contained on the website."})]}),f.jsxs("section",{className:"mb-6",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"3. Investment Risks"}),f.jsx("p",{children:"Cryptocurrency investments are subject to market risks and may not be suitable for all investors. The value of cryptocurrencies can be highly volatile, and past performance is not indicative of future results. You should be prepared to lose all of your invested capital."})]}),f.jsxs("section",{className:"mb-6",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"4. Third-Party Links"}),f.jsx("p",{children:"Our website may contain links to external sites that are not operated by us. We have no control over the content and practices of these sites and cannot accept responsibility or liability for their respective privacy policies."})]}),f.jsxs("section",{className:"mb-6",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"5. Limitation of Liability"}),f.jsx("p",{children:"To the fullest extent permitted by applicable law, CryptoPing shall not be liable for any indirect, incidental, special, consequential, or punitive damages, or any loss of profits or revenues, whether incurred directly or indirectly, or any loss of data, use, goodwill, or other intangible losses resulting from your access to or use of our services."})]}),f.jsxs("div",{className:"bg-blue-100 border-l-4 border-blue-500 text-blue-700 p-4 mb-6",role:"alert",children:[f.jsxs("p",{className:"font-bold flex items-center",children:[f.jsx(Cb,{className:"mr-2"}),"Important Note"]}),f.jsx("p",{children:"By using CryptoPing, you acknowledge that you have read this disclaimer, understood it, and agree to be bound by it. If you do not agree with any part of this disclaimer, please do not use our services."})]}),f.jsxs("section",{className:"mb-6",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-3",children:"Contact Us"}),f.jsx("p",{className:"mb-4",children:"If you have any questions about this disclaimer, please contact us:"}),f.jsxs("ul",{className:"space-y-2",children:[f.jsxs("li",{className:"flex items-center",children:[f.jsx(qt,{size:16,className:"mr-2 text-indigo-400"}),f.jsx("span",{children:"Canada: +1 4314309069"})]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(qt,{size:16,className:"mr-2 text-indigo-400"}),f.jsx("span",{children:"UK: +447588674655"})]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(qt,{size:16,className:"mr-2 text-indigo-400"}),f.jsx("span",{children:"Netherlands: +3197010256219"})]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(qt,{size:16,className:"mr-2 text-indigo-400"}),f.jsx("span",{children:"Switzerland: +41799072418"})]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx(Fo,{size:16,className:"mr-2 text-indigo-400"}),f.jsx("a",{href:"mailto:contact@cryptopingg.com",className:"hover:text-indigo-600",children:"contact@cryptopingg.com"})]})]})]}),f.jsxs("p",{className:"text-sm text-gray-600",children:["Last Updated: ",new Date().toLocaleDateString()]})]})]}),UF=()=>{const{userRole:t}=er();return t==="admin"?f.jsx(Ss,{to:"/admin",replace:!0}):f.jsx(Ss,{to:"/user",replace:!0})};function zF(){return f.jsx(OF,{children:f.jsxs(c5,{children:[f.jsx(XI,{children:f.jsxs(Am,{children:[f.jsx(et,{path:"/",element:f.jsx(uk,{})}),f.jsx(et,{path:"/login",element:f.jsx(FF,{})}),f.jsx(et,{path:"/signup",element:f.jsx(BF,{})}),f.jsx(et,{path:"/dashboard",element:f.jsx(m_,{children:f.jsx(UF,{})})}),f.jsx(et,{path:"/user/*",element:f.jsx(m_,{children:f.jsx(AF,{})})}),f.jsx(et,{path:"/admin/*",element:f.jsx(jF,{children:f.jsx(PF,{})})}),f.jsx(et,{path:"*",element:f.jsx(Ss,{to:"/",replace:!0})}),f.jsx(et,{path:"/terms-of-service",element:f.jsx(LF,{})}),f.jsx(et,{path:"/privacy-policy",element:f.jsx(VF,{})}),f.jsx(et,{path:"/disclaimer",element:f.jsx(MF,{})})]})}),f.jsx(hb,{position:"bottom-right"})]})})}Rw(document.getElementById("root")).render(f.jsx(L.StrictMode,{children:f.jsx(zF,{})}));
